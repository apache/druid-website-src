"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1543],{28453:(e,r,n)=>{n.d(r,{R:()=>d,x:()=>c});var s=n(96540);const i={},t=s.createContext(i);function d(e){const r=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(t.Provider,{value:r},e.children)}},72e3:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"operations/single-server","title":"Single server deployment","description":"\x3c!--","source":"@site/docs/33.0.0/operations/single-server.md","sourceDirName":"operations","slug":"/operations/single-server","permalink":"/docs/33.0.0/operations/single-server","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"single-server","title":"Single server deployment"},"sidebar":"docs","previous":{"title":"Local quickstart","permalink":"/docs/33.0.0/tutorials/"},"next":{"title":"Run with Docker","permalink":"/docs/33.0.0/tutorials/docker"}}');var i=n(74848),t=n(28453);const d={id:"single-server",title:"Single server deployment"},c=void 0,l={},o=[{value:"Single server reference configurations (deprecated)",id:"single-server-reference-configurations-deprecated",level:2}];function a(e){const r={code:"code",h2:"h2",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.p,{children:["Druid includes a launch script, ",(0,i.jsx)(r.code,{children:"bin/start-druid"})," that automatically sets various memory-related parameters based on available processors and memory.\nIt accepts optional arguments such as list of services, total memory, and a config directory to override default JVM arguments and service-specific runtime properties."]}),"\n",(0,i.jsxs)(r.p,{children:["By default, the services started by ",(0,i.jsx)(r.code,{children:"bin/start-druid"}),":"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"use all processors"}),"\n",(0,i.jsx)(r.li,{children:"can use up to 80% memory on the system"}),"\n",(0,i.jsxs)(r.li,{children:["apply the configuration files in ",(0,i.jsx)(r.code,{children:"conf/druid/auto"})," for all other settings."]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["For details about possible arguments, run ",(0,i.jsx)(r.code,{children:"bin/start-druid --help"}),"."]}),"\n",(0,i.jsx)(r.h2,{id:"single-server-reference-configurations-deprecated",children:"Single server reference configurations (deprecated)"}),"\n",(0,i.jsxs)(r.p,{children:["Druid includes a set of reference configurations and launch scripts for single-machine deployments.\nThese start scripts are deprecated in favor of the ",(0,i.jsx)(r.code,{children:"bin/start-druid"})," script documented above.\nThese configuration bundles are located in ",(0,i.jsx)(r.code,{children:"conf/druid/single-server/"}),"."]}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Configuration"}),(0,i.jsx)(r.th,{children:"Sizing"}),(0,i.jsx)(r.th,{children:"Launch command"}),(0,i.jsx)(r.th,{children:"Configuration directory"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"nano-quickstart"})}),(0,i.jsx)(r.td,{children:"1 CPU, 4GiB RAM"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"bin/start-nano-quickstart"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"conf/druid/single-server/nano-quickstart"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"micro-quickstart"})}),(0,i.jsx)(r.td,{children:"4 CPU, 16GiB RAM"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"bin/start-micro-quickstart"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"conf/druid/single-server/micro-quickstart"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"small"})}),(0,i.jsx)(r.td,{children:"8 CPU, 64GiB RAM (~i3.2xlarge)"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"bin/start-small"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"conf/druid/single-server/small"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"medium"})}),(0,i.jsx)(r.td,{children:"16 CPU, 128GiB RAM (~i3.4xlarge)"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"bin/start-medium"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"conf/druid/single-server/medium"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"large"})}),(0,i.jsx)(r.td,{children:"32 CPU, 256GiB RAM (~i3.8xlarge)"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"bin/start-large"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"conf/druid/single-server/large"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"xlarge"})}),(0,i.jsx)(r.td,{children:"64 CPU, 512GiB RAM (~i3.16xlarge)"}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"bin/start-xlarge"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"conf/druid/single-server/xlarge"})})]})]})]}),"\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.code,{children:"micro-quickstart"})," is sized for small machines like laptops and is intended for quick evaluation use-cases."]}),"\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.code,{children:"nano-quickstart"})," is an even smaller configuration, targeting a machine with 1 CPU and 4GiB memory. It is meant for limited evaluations in resource constrained environments, such as small Docker containers."]}),"\n",(0,i.jsx)(r.p,{children:"The other configurations are intended for general use single-machine deployments. They are sized for hardware roughly based on Amazon's i3 series of EC2 instances."}),"\n",(0,i.jsx)(r.p,{children:"The startup scripts for these example configurations run a single ZK instance along with the Druid services. You can choose to deploy ZK separately as well."})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);