<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-querying/sql-functions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">All Druid SQL functions | Apache® Druid</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://druid.apache.org/img/druid_nav.png"><meta data-rh="true" name="twitter:image" content="https://druid.apache.org/img/druid_nav.png"><meta data-rh="true" property="og:url" content="https://druid.apache.org/docs/32.0.0/querying/sql-functions"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="All Druid SQL functions | Apache® Druid"><meta data-rh="true" name="description" content="&lt;!--"><meta data-rh="true" property="og:description" content="&lt;!--"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://druid.apache.org/docs/32.0.0/querying/sql-functions"><link data-rh="true" rel="alternate" href="https://druid.apache.org/docs/32.0.0/querying/sql-functions" hreflang="en"><link data-rh="true" rel="alternate" href="https://druid.apache.org/docs/32.0.0/querying/sql-functions" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131010415-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-131010415-1",{})</script>





<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script><link rel="stylesheet" href="/assets/css/styles.60a7f877.css">
<link rel="preload" href="/assets/js/runtime~main.63a57bcf.js" as="script">
<link rel="preload" href="/assets/js/main.c23bb932.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/druid_nav.png" alt="Apache® Druid" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/druid_nav.png" alt="Apache® Druid" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/technology">Technology</a><a class="navbar__item navbar__link" href="/use-cases">Use Cases</a><a class="navbar__item navbar__link" href="/druid-powered">Powered By</a><a class="navbar__item navbar__link" href="/docs/32.0.0/design/">Docs</a><a class="navbar__item navbar__link" href="/community/">Community</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Apache®</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://apachecon.com/?ref=druid.apache.org" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/downloads/">Download</a><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/32.0.0/design/">Introduction to Apache Druid</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/tutorials/">Getting started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/32.0.0/design/architecture">Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/ingestion/">Ingestion</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ingestion&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/data-management/">Data management</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/32.0.0/querying/sql">Querying</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/32.0.0/querying/sql">Druid SQL</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql">Overview and syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/32.0.0/querying/sql-functions">All functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/tips-good-queries">Tips for writing good queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/query-deep-storage">Query from deep storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql-data-types">SQL data types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql-operators">Operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql-scalar">Scalar functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql-aggregations">Aggregation functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql-window-functions">Window functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql-array-functions">Array functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql-multivalue-string-functions">Multi-value string functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql-json-functions">JSON functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql-query-context">SQL query context</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql-metadata-tables">SQL metadata tables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/sql-translation">SQL query translation</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/">Native queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/query-processing">Query processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/query-execution">Query execution</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/querying/troubleshooting">Troubleshooting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/32.0.0/querying/datasource">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/32.0.0/querying/timeseriesquery">Native query types</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/32.0.0/querying/filters">Native query components</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/api-reference/">API reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;API reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/configuration/">Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/32.0.0/api-reference/automatic-compaction-api">Operations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/development/overview">Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/32.0.0/release-info/release-notes">Release info</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/32.0.0/misc/papers-and-talks">Papers</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Querying</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Druid SQL</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">All functions</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>All Druid SQL functions</h1></header><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p> Apache Druid supports two query languages: Druid SQL and <a href="/docs/32.0.0/querying/">native queries</a>.
This document describes the SQL language.</p></div></div><p>This page provides a reference of Apache Druid<!-- -->®<!-- --> SQL functions in alphabetical order. For more details on a function, refer to the following:</p><ul><li><a href="/docs/32.0.0/querying/sql-aggregations">Aggregation functions</a></li><li><a href="/docs/32.0.0/querying/sql-array-functions">Array functions</a></li><li><a href="/docs/32.0.0/querying/sql-json-functions">JSON functions</a></li><li><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Multi-value string functions</a></li><li><a href="/docs/32.0.0/querying/sql-scalar">Scalar functions</a></li><li><a href="/docs/32.0.0/querying/sql-window-functions">Window functions</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-data">Example data<a href="#example-data" class="hash-link" aria-label="Direct link to Example data" title="Direct link to Example data">​</a></h2><p>The examples on this page use the following example datasources:</p><ul><li><code>array-example</code> created with <a href="/docs/32.0.0/multi-stage-query/">SQL-based ingestion</a></li><li><code>flight-carriers</code> using <code>FlightCarrierOnTime (1 month)</code> included with Druid</li><li><code>kttm</code> using <code>KoalasToTheMax one day</code> included with Druid</li><li><code>mvd-example</code> using <a href="/docs/32.0.0/querying/multi-value-dimensions#sql-based-ingestion">SQL-based ingestion</a></li><li><code>taxi-trips</code> using <code>NYC Taxi cabs (3 files)</code> included with Druid</li></ul><p>To load a datasource included with Druid,
access the <a href="/docs/32.0.0/operations/web-console">web console</a>
and go to <strong>Load data &gt; Batch - SQL &gt; Example data</strong>.
Select <strong>Connect data</strong>, and parse using the default settings.
On the page to configure the schema, select the datasource label
and enter the name of the datasource listed above.</p><p>Use the following query to create the <code>array-example</code> datasource:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Datasource for arrays</summary><div><div class="collapsibleContent_i85q"><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">REPLACE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">INTO</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><span class="token plain"> OVERWRITE </span><span class="token keyword" style="font-style:italic">ALL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WITH</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ext&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    EXTERN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;type&quot;:&quot;inline&quot;,&quot;data&quot;:&quot;{\&quot;timestamp\&quot;: \&quot;2023-01-01T00:00:00\&quot;, \&quot;label\&quot;: \&quot;row1\&quot;, \&quot;arrayString\&quot;: [\&quot;a\&quot;, \&quot;b\&quot;],  \&quot;arrayLong\&quot;:[1, null,3], \&quot;arrayDouble\&quot;:[1.1, 2.2, null]}\n{\&quot;timestamp\&quot;: \&quot;2023-01-01T00:00:00\&quot;, \&quot;label\&quot;: \&quot;row2\&quot;, \&quot;arrayString\&quot;: [null, \&quot;b\&quot;], \&quot;arrayLong\&quot;:null,        \&quot;arrayDouble\&quot;:[999, null, 5.5]}\n{\&quot;timestamp\&quot;: \&quot;2023-01-01T00:00:00\&quot;, \&quot;label\&quot;: \&quot;row3\&quot;, \&quot;arrayString\&quot;: [],          \&quot;arrayLong\&quot;:[1, 2, 3],   \&quot;arrayDouble\&quot;:[null, 2.2, 1.1]} \n{\&quot;timestamp\&quot;: \&quot;2023-01-01T00:00:00\&quot;, \&quot;label\&quot;: \&quot;row4\&quot;, \&quot;arrayString\&quot;: [\&quot;a\&quot;, \&quot;b\&quot;],  \&quot;arrayLong\&quot;:[1, 2, 3],   \&quot;arrayDouble\&quot;:[]}\n{\&quot;timestamp\&quot;: \&quot;2023-01-01T00:00:00\&quot;, \&quot;label\&quot;: \&quot;row5\&quot;, \&quot;arrayString\&quot;: null,        \&quot;arrayLong\&quot;:[],          \&quot;arrayDouble\&quot;:null}&quot;}&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;type&quot;:&quot;json&quot;}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> EXTEND </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;timestamp&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">VARCHAR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;label&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">VARCHAR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayString&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">VARCHAR</span><span class="token plain"> ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BIGINT</span><span class="token plain"> ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DOUBLE</span><span class="token plain"> ARRAY</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    TIME_PARSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;timestamp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;label&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayString&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ext&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PARTITIONED </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><p>Use the following query to create the <code>mvd-example</code> datasource:</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Datasource for multi-value string dimensions</summary><div><div class="collapsibleContent_i85q"><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">REPLACE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">INTO</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><span class="token plain"> OVERWRITE </span><span class="token keyword" style="font-style:italic">ALL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WITH</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ext&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TABLE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    EXTERN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;type&quot;:&quot;inline&quot;,&quot;data&quot;:&quot;{\&quot;timestamp\&quot;: \&quot;2011-01-12T00:00:00.000Z\&quot;, \&quot;label\&quot;: \&quot;row1\&quot;, \&quot;tags\&quot;: [\&quot;t1\&quot;,\&quot;t2\&quot;,\&quot;t3\&quot;]}\n{\&quot;timestamp\&quot;: \&quot;2011-01-13T00:00:00.000Z\&quot;, \&quot;label\&quot;: \&quot;row2\&quot;, \&quot;tags\&quot;: [\&quot;t3\&quot;,\&quot;t4\&quot;,\&quot;t5\&quot;]}\n{\&quot;timestamp\&quot;: \&quot;2011-01-14T00:00:00.000Z\&quot;, \&quot;label\&quot;: \&quot;row3\&quot;, \&quot;tags\&quot;: [\&quot;t5\&quot;,\&quot;t6\&quot;,\&quot;t7\&quot;]}\n{\&quot;timestamp\&quot;: \&quot;2011-01-14T00:00:00.000Z\&quot;, \&quot;label\&quot;: \&quot;row4\&quot;, \&quot;tags\&quot;: []}&quot;}&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;type&quot;:&quot;json&quot;}&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;[{&quot;name&quot;:&quot;timestamp&quot;, &quot;type&quot;:&quot;STRING&quot;},{&quot;name&quot;:&quot;label&quot;, &quot;type&quot;:&quot;STRING&quot;},{&quot;name&quot;:&quot;tags&quot;, &quot;type&quot;:&quot;ARRAY&lt;STRING&gt;&quot;}]&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_PARSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;timestamp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;label&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ARRAY_TO_MV</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ext&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">PARTITIONED </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_LWe7" id="abs">ABS<a href="#abs" class="hash-link" aria-label="Direct link to ABS" title="Direct link to ABS">​</a></h2><p>Calculates the absolute value of a numeric expression.</p><ul><li><strong>Syntax:</strong> <code>ABS(&lt;NUMERIC&gt;)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example applies the ABS function to the <code>ArrDelay</code> column from the <code>flight-carriers</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelay&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrival_delay&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ABS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelay&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;absolute_arrival_delay&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelay&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arrival_delay</code></th><th><code>absolute_arrival_delay</code></th></tr></thead><tbody><tr><td><code>-27</code></td><td><code>27</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="acos">ACOS<a href="#acos" class="hash-link" aria-label="Direct link to ACOS" title="Direct link to ACOS">​</a></h2><p>Calculates the arc cosine (arccosine) of a numeric expression.</p><ul><li><strong>Syntax:</strong> <code>ACOS(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the arc cosine of <code>0</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> ACOS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arc_cosine&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arc_cosine</code></th></tr></thead><tbody><tr><td><code>1.5707963267948966</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="any_value">ANY_VALUE<a href="#any_value" class="hash-link" aria-label="Direct link to ANY_VALUE" title="Direct link to ANY_VALUE">​</a></h2><p>Returns any value of the specified expression.</p><ul><li><strong>Syntax</strong>: <code>ANY_VALUE(expr, [maxBytesPerValue, [aggregateMultipleValues]])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the state abbreviation, state name, and average flight time grouped by each state in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ANY_VALUE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginStateName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginStateName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">AVG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ActualElapsedTime&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;AverageFlightTime&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>OriginState</code></th><th><code>OriginStateName</code></th><th><code>AverageFlightTime</code></th></tr></thead><tbody><tr><td><code>AK</code></td><td><code>Alaska</code></td><td><code>113.2777967841259</code></td></tr><tr><td><code>AL</code></td><td><code>Alabama</code></td><td><code>92.28766697732215</code></td></tr><tr><td><code>AR</code></td><td><code>Arkansas</code></td><td><code>95.0391382405745</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="approx_count_distinct">APPROX_COUNT_DISTINCT<a href="#approx_count_distinct" class="hash-link" aria-label="Direct link to APPROX_COUNT_DISTINCT" title="Direct link to APPROX_COUNT_DISTINCT">​</a></h2><p>Counts distinct values of a regular column or a prebuilt sketch column using an approximate algorithm.</p><ul><li><strong>Syntax</strong>: <code>APPROX_COUNT_DISTINCT(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example counts the number of distinct airlines reported in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> APPROX_COUNT_DISTINCT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_airlines&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>num_airlines</code></th></tr></thead><tbody><tr><td><code>20</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="approx_count_distinct_builtin">APPROX_COUNT_DISTINCT_BUILTIN<a href="#approx_count_distinct_builtin" class="hash-link" aria-label="Direct link to APPROX_COUNT_DISTINCT_BUILTIN" title="Direct link to APPROX_COUNT_DISTINCT_BUILTIN">​</a></h2><p>Counts distinct values of a string, numeric, or <code>hyperUnique</code> column using Druid&#x27;s built-in <code>cardinality</code> or <code>hyperUnique</code> aggregators.
Consider using <code>APPROX_COUNT_DISTINCT_DS_HLL</code> instead, which offers better accuracy in many cases.</p><ul><li><strong>Syntax</strong>: <code>APPROX_COUNT_DISTINCT_BUILTIN(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example counts the number of distinct airlines reported in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> APPROX_COUNT_DISTINCT_BUILTIN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_airlines&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>num_airlines</code></th></tr></thead><tbody><tr><td><code>20</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="approx_count_distinct_ds_hll">APPROX_COUNT_DISTINCT_DS_HLL<a href="#approx_count_distinct_ds_hll" class="hash-link" aria-label="Direct link to APPROX_COUNT_DISTINCT_DS_HLL" title="Direct link to APPROX_COUNT_DISTINCT_DS_HLL">​</a></h2><p>Returns the approximate number of distinct values in a HLL sketch column or a regular column. See <a href="/docs/32.0.0/development/extensions-core/datasketches-hll">DataSketches HLL Sketch module</a> for a description of optional parameters.</p><ul><li><strong>Syntax:</strong> <code>APPROX_COUNT_DISTINCT_DS_HLL(expr, [lgK, tgtHllType])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the approximate number of distinct tail numbers in the <code>flight-carriers</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> APPROX_COUNT_DISTINCT_DS_HLL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>estimate</code></th></tr></thead><tbody><tr><td><code>4686</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="approx_count_distinct_ds_theta">APPROX_COUNT_DISTINCT_DS_THETA<a href="#approx_count_distinct_ds_theta" class="hash-link" aria-label="Direct link to APPROX_COUNT_DISTINCT_DS_THETA" title="Direct link to APPROX_COUNT_DISTINCT_DS_THETA">​</a></h2><p>Returns the approximate number of distinct values in a Theta sketch column or a regular column. See <a href="/docs/32.0.0/development/extensions-core/datasketches-theta#aggregator">DataSketches Theta Sketch module</a> for a description of optional parameters.</p><ul><li><strong>Syntax:</strong> <code>APPROX_COUNT_DISTINCT_DS_THETA(expr, [size])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the approximate number of distinct tail numbers in the <code>Tail_Number</code> column of the <code>flight-carriers</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> APPROX_COUNT_DISTINCT_DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>estimate</code></th></tr></thead><tbody><tr><td><code>4667</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="approx_quantile">APPROX_QUANTILE<a href="#approx_quantile" class="hash-link" aria-label="Direct link to APPROX_QUANTILE" title="Direct link to APPROX_QUANTILE">​</a></h2><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Deprecated in favor of <a href="#approx_quantile_ds"><code>APPROX_QUANTILE_DS</code></a>.</p></div></div><ul><li><strong>Syntax:</strong> <code>APPROX_QUANTILE(expr, probability, [k])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="approx_quantile_ds">APPROX_QUANTILE_DS<a href="#approx_quantile_ds" class="hash-link" aria-label="Direct link to APPROX_QUANTILE_DS" title="Direct link to APPROX_QUANTILE_DS">​</a></h2><p>Computes approximate quantiles on a Quantiles sketch column or a regular numeric column. See <a href="/docs/32.0.0/development/extensions-core/datasketches-quantiles">DataSketches Quantiles Sketch module</a> for a description of parameters.</p><ul><li><strong>Syntax:</strong> <code>APPROX_QUANTILE_DS(expr, probability, [k])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example approximates the median of the <code>Distance</code> column from the <code>flight-carriers</code> datasource. The query may return a different approximation on each execution.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> APPROX_QUANTILE_DS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Distance&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">128</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_median&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns a result similar to the following:</p><table><thead><tr><th><code>estimate_median</code></th></tr></thead><tbody><tr><td><code>569</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="approx_quantile_fixed_buckets">APPROX_QUANTILE_FIXED_BUCKETS<a href="#approx_quantile_fixed_buckets" class="hash-link" aria-label="Direct link to APPROX_QUANTILE_FIXED_BUCKETS" title="Direct link to APPROX_QUANTILE_FIXED_BUCKETS">​</a></h2><p>Computes approximate quantiles on fixed buckets histogram column or a regular numeric column. See <a href="/docs/32.0.0/development/extensions-core/approximate-histograms#fixed-buckets-histogram">Fixed buckets histogram</a> for a description of parameters.</p><ul><li><strong>Syntax:</strong> <code>APPROX_QUANTILE_FIXED_BUCKETS(expr, probability, numBuckets, lowerLimit, upperLimit, [outlierHandlingMode])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example approximates the median of a histogram on the <code>Distance</code> column from the <code>flight-carriers</code> datasource. The histogram has 10 buckets, a lower limit of zero, an upper limit of 2500, and ignores outlier values. </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> APPROX_QUANTILE_FIXED_BUCKETS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Distance&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ignore&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_median&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>estimate_median</code></th></tr></thead><tbody><tr><td><code>571.6983032226562</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array">ARRAY<a href="#array" class="hash-link" aria-label="Direct link to ARRAY" title="Direct link to ARRAY">​</a></h2><p>Constructs a SQL <code>ARRAY</code> literal from the provided expression arguments. All arguments must be of the same type.</p><ul><li><strong>Syntax</strong>: <code>ARRAY[expr1, expr2, ...]</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example constructs arrays from the values of the <code>agent_category</code>, <code>browser</code>, and <code>browser_version</code> columns in the <code>kttm</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;agent_category&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;browser&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;browser_version&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;user_agent_details&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>user_agent_details</code></th></tr></thead><tbody><tr><td><code>[&quot;Personal computer&quot;,&quot;Chrome&quot;,&quot;76.0.3809.100&quot;]</code></td></tr><tr><td><code>[&quot;Smartphone&quot;,&quot;Chrome Mobile&quot;,&quot;50.0.2661.89&quot;]</code></td></tr><tr><td><code>[&quot;Personal computer&quot;,&quot;Chrome&quot;,&quot;76.0.3809.100&quot;]</code></td></tr><tr><td><code>[&quot;Personal computer&quot;,&quot;Opera&quot;,&quot;62.0.3331.116&quot;]</code></td></tr><tr><td><code>[&quot;Smartphone&quot;,&quot;Mobile Safari&quot;,&quot;12.0&quot;]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_agg">ARRAY_AGG<a href="#array_agg" class="hash-link" aria-label="Direct link to ARRAY_AGG" title="Direct link to ARRAY_AGG">​</a></h2><p>Returns an array of all values of the specified expression. To include only unique values, specify <code>DISTINCT</code>.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_AGG([DISTINCT] expr, [size])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns arrays of unique values from the <code>OriginState</code> column in the <code>flight-carriers</code> datasource, grouped by <code>Reporting_Airline</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY_AGG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">DISTINCT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>Reporting_Airline</code></th><th><code>Origin</code></th></tr></thead><tbody><tr><td><code>AA</code></td><td><code>[&quot;AL&quot;,&quot;AR&quot;,&quot;AZ&quot;,&quot;CA&quot;,&quot;CO&quot;,&quot;CT&quot;,&quot;FL&quot;,&quot;GA&quot;,&quot;HI&quot;,&quot;IL&quot;,&quot;IN&quot;,&quot;KS&quot;,&quot;KY&quot;,&quot;LA&quot;,&quot;MA&quot;,&quot;MD&quot;,&quot;MI&quot;,&quot;MN&quot;,&quot;MO&quot;,&quot;NC&quot;,&quot;NE&quot;,&quot;NJ&quot;,&quot;NM&quot;,&quot;NV&quot;,&quot;NY&quot;,&quot;OH&quot;,&quot;OK&quot;,&quot;OR&quot;,&quot;PA&quot;,&quot;PR&quot;,&quot;RI&quot;,&quot;TN&quot;,&quot;TX&quot;,&quot;UT&quot;,&quot;VA&quot;,&quot;VI&quot;,&quot;WA&quot;]</code></td></tr><tr><td><code>AS</code></td><td><code>[&quot;AK&quot;,&quot;AZ&quot;,&quot;CA&quot;,&quot;CO&quot;,&quot;FL&quot;,&quot;ID&quot;,&quot;IL&quot;,&quot;MA&quot;,&quot;NJ&quot;,&quot;NV&quot;,&quot;OR&quot;,&quot;TX&quot;,&quot;VA&quot;,&quot;WA&quot;]</code></td></tr><tr><td><code>B6</code></td><td><code>[&quot;AZ&quot;,&quot;CA&quot;,&quot;CO&quot;,&quot;FL&quot;,&quot;LA&quot;,&quot;MA&quot;,&quot;NJ&quot;,&quot;NV&quot;,&quot;NY&quot;,&quot;OR&quot;,&quot;PR&quot;,&quot;UT&quot;,&quot;VA&quot;,&quot;VT&quot;,&quot;WA&quot;]</code></td></tr><tr><td><code>CO</code></td><td><code>[&quot;AK&quot;,&quot;AL&quot;,&quot;AZ&quot;,&quot;CA&quot;,&quot;CO&quot;,&quot;CT&quot;,&quot;FL&quot;,&quot;GA&quot;,&quot;HI&quot;,&quot;IL&quot;,&quot;IN&quot;,&quot;LA&quot;,&quot;MA&quot;,&quot;MD&quot;,&quot;MI&quot;,&quot;MN&quot;,&quot;MO&quot;,&quot;MS&quot;,&quot;NC&quot;,&quot;NE&quot;,&quot;NH&quot;,&quot;NJ&quot;,&quot;NM&quot;,&quot;NV&quot;,&quot;NY&quot;,&quot;OH&quot;,&quot;OK&quot;,&quot;OR&quot;,&quot;PA&quot;,&quot;PR&quot;,&quot;RI&quot;,&quot;SC&quot;,&quot;TN&quot;,&quot;TX&quot;,&quot;UT&quot;,&quot;VA&quot;,&quot;VI&quot;,&quot;WA&quot;]</code></td></tr><tr><td><code>DH</code></td><td><code>[&quot;AL&quot;,&quot;CA&quot;,&quot;CT&quot;,&quot;FL&quot;,&quot;GA&quot;,&quot;IL&quot;,&quot;MA&quot;,&quot;ME&quot;,&quot;MI&quot;,&quot;NC&quot;,&quot;NH&quot;,&quot;NJ&quot;,&quot;NV&quot;,&quot;NY&quot;,&quot;OH&quot;,&quot;PA&quot;,&quot;RI&quot;,&quot;SC&quot;,&quot;TN&quot;,&quot;VA&quot;,&quot;VT&quot;,&quot;WA&quot;,&quot;WV&quot;]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_append">ARRAY_APPEND<a href="#array_append" class="hash-link" aria-label="Direct link to ARRAY_APPEND" title="Direct link to ARRAY_APPEND">​</a></h2><p>Appends the expression to the array. The source array type determines the resulting array type.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_APPEND(arr, expr)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example appends <code>c</code> to the values in the <code>arrayString</code> column from the <code>array-example</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> ARRAY_APPEND</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayString&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array_appended&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>array_appended</code></th></tr></thead><tbody><tr><td><code>[a, b, c]</code></td></tr><tr><td><code>[null,&quot;b&quot;,&quot;c&quot;]</code></td></tr><tr><td><code>[c]</code></td></tr><tr><td><code>[a, b, c]</code></td></tr><tr><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_concat">ARRAY_CONCAT<a href="#array_concat" class="hash-link" aria-label="Direct link to ARRAY_CONCAT" title="Direct link to ARRAY_CONCAT">​</a></h2><p>Concatenates two arrays. The type of <code>arr1</code> determines the resulting array type.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_CONCAT(arr1, arr2)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example concatenates the arrays in the <code>arrayLong</code> and <code>arrayDouble</code> columns from the <code>array-example</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> ARRAY_CONCAT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayConcatenated&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arrayConcatenated</code></th></tr></thead><tbody><tr><td><code>[1,null,3,1.1,2.2,null]</code></td></tr><tr><td><code>null</code></td></tr><tr><td><code>[1,2,3,null,2.2,1.1]</code></td></tr><tr><td><code>[1,2,3]</code></td></tr><tr><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_concat_agg">ARRAY_CONCAT_AGG<a href="#array_concat_agg" class="hash-link" aria-label="Direct link to ARRAY_CONCAT_AGG" title="Direct link to ARRAY_CONCAT_AGG">​</a></h2><p>Concatenates array inputs into a single array. To include only unique values, specify <code>DISTINCT</code>.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_CONCAT_AGG([DISTINCT] expr, [size])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example concatenates the array inputs from the <code>arrayDouble</code> column of the <code>array-example</code> datasource into a single array.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> ARRAY_CONCAT_AGG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DISTINCT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array_concat_agg_distinct&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>array_concat_agg_distinct</code></th></tr></thead><tbody><tr><td><code>[null,1.1,2.2,5.5,999]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_contains">ARRAY_CONTAINS<a href="#array_contains" class="hash-link" aria-label="Direct link to ARRAY_CONTAINS" title="Direct link to ARRAY_CONTAINS">​</a></h2><p>Checks if the array contains the specified expression.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scalar">Scalar<a href="#scalar" class="hash-link" aria-label="Direct link to Scalar" title="Direct link to Scalar">​</a></h3><p>If the specified expression is a scalar value, returns true if the source array contains the value.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_CONTAINS(arr, expr)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns true if the <code>arraySring</code> column from the <code>array-example</code> datasource contains <code>2</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY_CONTAINS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayContains&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arrayLong</code></th><th><code>arrayContains</code></th></tr></thead><tbody><tr><td><code>[1,null,3]</code></td><td><code>false</code></td></tr><tr><td><code>null</code></td><td><code>null</code></td></tr><tr><td><code>[1,2,3]</code></td><td><code>true</code></td></tr><tr><td><code>[1,2,3]</code></td><td><code>true</code></td></tr><tr><td><code>[]</code></td><td><code>false</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="array-1">Array<a href="#array-1" class="hash-link" aria-label="Direct link to Array" title="Direct link to Array">​</a></h3><p>If the specified expression is an array, returns true if the source array contains all elements of the expression.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_CONTAINS(arr, expr)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns true if the <code>arrayLong</code> column from the <code>array-example</code> datasource contains all elements of the provided expression.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;label&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY_CONTAINS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayContains&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>label</code></th><th><code>arrayLong</code></th><th><code>arrayContains</code></th></tr></thead><tbody><tr><td><code>row1</code></td><td><code>[1,null,3]</code></td><td><code>false</code></td></tr><tr><td><code>row2</code></td><td><code>null</code></td><td><code>null</code></td></tr><tr><td><code>row3</code></td><td><code>[1,2,3]</code></td><td><code>true</code></td></tr><tr><td><code>row4</code></td><td><code>[1,2,3]</code></td><td><code>true</code></td></tr><tr><td><code>row5</code></td><td><code>[]</code></td><td><code>false</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_length">ARRAY_LENGTH<a href="#array_length" class="hash-link" aria-label="Direct link to ARRAY_LENGTH" title="Direct link to ARRAY_LENGTH">​</a></h2><p>Returns the length of the array.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_LENGTH(arr)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the length of array expressions in the <code>arrayDouble</code> column from the <code>array-example</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY_LENGTH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLength&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>larray</code></th><th><code>arrayLength</code></th></tr></thead><tbody><tr><td><code>row1</code></td><td>3</td></tr><tr><td><code>row2</code></td><td>3</td></tr><tr><td><code>row3</code></td><td>3</td></tr><tr><td><code>row4</code></td><td>0</td></tr><tr><td><code>row5</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_offset">ARRAY_OFFSET<a href="#array_offset" class="hash-link" aria-label="Direct link to ARRAY_OFFSET" title="Direct link to ARRAY_OFFSET">​</a></h2><p>Returns the array element at the specified zero-based index. Returns null if the index is out of bounds.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_OFFSET(arr, long)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the element at the specified zero-based index from the arrays in the <code>arrayLong</code> column of the <code>array-example</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY_OFFSET</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;elementAtIndex&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>array</code></th><th><code>elementAtIndex</code></th></tr></thead><tbody><tr><td><code>[1,null,3]</code></td><td>3</td></tr><tr><td><code>null</code></td><td><code>null</code></td></tr><tr><td><code>[1,2,3]</code></td><td>3</td></tr><tr><td><code>[1,2,3]</code></td><td>3</td></tr><tr><td><code>[]</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_offset_of">ARRAY_OFFSET_OF<a href="#array_offset_of" class="hash-link" aria-label="Direct link to ARRAY_OFFSET_OF" title="Direct link to ARRAY_OFFSET_OF">​</a></h2><p>Returns the zero-based index of the first occurrence of the expression in the array. Returns null if the value isn&#x27;t present, or <code>-1</code> if <code>druid.generic.useDefaultValueForNull=true</code> (deprecated legacy mode).</p><ul><li><strong>Syntax</strong>: <code>ARRAY_OFFSET_OF(arr, expr)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the zero-based index of the fist occurrence of <code>3</code> in the arrays in the <code>arrayLong</code> column of the <code>array-example</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY_OFFSET_OF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;offset&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>array</code></th><th><code>offset</code></th></tr></thead><tbody><tr><td><code>[1,null,3]</code></td><td>2</td></tr><tr><td><code>null</code></td><td><code>null</code></td></tr><tr><td><code>[1,2,3]</code></td><td>2</td></tr><tr><td><code>[1,2,3]</code></td><td>2</td></tr><tr><td><code>[]</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_ordinal">ARRAY_ORDINAL<a href="#array_ordinal" class="hash-link" aria-label="Direct link to ARRAY_ORDINAL" title="Direct link to ARRAY_ORDINAL">​</a></h2><p>Returns the array element at the specified one-based index. Returns null if the index is out of bounds.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_ORDINAL(arr, long)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the element at the specified one-based index from the arrays in the <code>arrayLong</code> column of the <code>array-example</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY_ORDINAL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;elementAtIndex&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>array</code></th><th><code>elementAtIndex</code></th></tr></thead><tbody><tr><td><code>[1,null,3]</code></td><td><code>null</code></td></tr><tr><td><code>null</code></td><td><code>null</code></td></tr><tr><td><code>[1,2,3]</code></td><td>2</td></tr><tr><td><code>[1,2,3]</code></td><td>2</td></tr><tr><td><code>[]</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_ordinal_of">ARRAY_ORDINAL_OF<a href="#array_ordinal_of" class="hash-link" aria-label="Direct link to ARRAY_ORDINAL_OF" title="Direct link to ARRAY_ORDINAL_OF">​</a></h2><p>Returns the one-based index of the first occurrence of the expression in the array. Returns null if the value isn&#x27;t present, or <code>-1</code> if <code>druid.generic.useDefaultValueForNull=true</code> (deprecated legacy mode).</p><ul><li><strong>Syntax</strong>: <code>ARRAY_ORDINAL_OF(arr, expr)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the one-based index of the fist occurrence of <code>3</code> in the arrays in the <code>arrayLong</code> column of the <code>array-example</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY_ORDINAL_OF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayLong&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ordinal&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>array</code></th><th><code>ordinal</code></th></tr></thead><tbody><tr><td><code>[1,null,3]</code></td><td>3</td></tr><tr><td><code>null</code></td><td><code>null</code></td></tr><tr><td><code>[1,2,3]</code></td><td>3</td></tr><tr><td><code>[1,2,3]</code></td><td>3</td></tr><tr><td><code>[]</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_overlap">ARRAY_OVERLAP<a href="#array_overlap" class="hash-link" aria-label="Direct link to ARRAY_OVERLAP" title="Direct link to ARRAY_OVERLAP">​</a></h2><p>Returns true if two arrays have any elements in common. Treats <code>NULL</code> values as known elements.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_OVERLAP(arr1, arr2)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns true if columns <code>arrayString</code> and <code>arrayDouble</code> from the <code>array-example</code> datasource have common elements.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayString&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">  ARRAY_OVERLAP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayString&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;overlap&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arrayString</code></th><th><code>arrayDouble</code></th><th><code>overlap</code></th></tr></thead><tbody><tr><td><code>[&quot;a&quot;,&quot;b&quot;]</code></td><td><code>[1.1,2.2,null]</code></td><td>false</td></tr><tr><td><code>[null,&quot;b&quot;]</code></td><td><code>[999,null,5.5]</code></td><td>true</td></tr><tr><td><code>[]</code></td><td><code>[null,2.2,1.1]</code></td><td>false</td></tr><tr><td><code>[&quot;a&quot;,&quot;b&quot;]</code></td><td><code>[]</code></td><td>false</td></tr><tr><td><code>null</code></td><td><code>null</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="scalar_in_array">SCALAR_IN_ARRAY<a href="#scalar_in_array" class="hash-link" aria-label="Direct link to SCALAR_IN_ARRAY" title="Direct link to SCALAR_IN_ARRAY">​</a></h2><p>Checks if the scalar value is present in the array. Returns false if the value is non-null, or <code>UNKNOWN</code> if the value is <code>NULL</code>. Returns <code>UNKNOWN</code> if the array is <code>NULL</code>.</p><ul><li><strong>Syntax</strong>: <code>SCALAR_IN_ARRAY(expr, arr)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns true if the value <code>36</code> is present in the array generated from the elements in the <code>DestStateFips</code> column from the <code>flight-carriers</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY_AGG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">DISTINCT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DestStateFips&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;StateFipsArray&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> SCALAR_IN_ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">36</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY_AGG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">DISTINCT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DestStateFips&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ValueInArray&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>Reporting_Airline</code></th><th><code>StateFipsArray</code></th><th><code>ValueInArray</code></th></tr></thead><tbody><tr><td><code>AA</code></td><td><code>[1,4,5,6,8,9,12,13,15,17,18,20,21,22,24,25,26,27,29,31,32,34,35,36,37,39,40,41,42,44,47,48,49,51,53,72,78]</code></td><td>true</td></tr><tr><td><code>AS</code></td><td><code>[2,4,6,8,12,16,17,25,32,34,41,48,51,53]</code></td><td>false</td></tr><tr><td><code>B6</code></td><td><code>[4,6,8,12,22,25,32,34,36,41,49,50,51,53,72]</code></td><td>true</td></tr><tr><td><code>CO</code></td><td><code>[1,2,4,6,8,9,12,13,15,17,18,22,24,25,26,27,28,29,31,32,33,34,35,36,37,39,40,41,42,44,45,47,48,49,51,53,72,78]</code></td><td>true</td></tr><tr><td><code>DH</code></td><td><code>[1,6,9,12,13,17,23,25,26,32,33,34,36,37,39,42,44,45,47,50,51,53,54]</code></td><td>true</td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_prepend">ARRAY_PREPEND<a href="#array_prepend" class="hash-link" aria-label="Direct link to ARRAY_PREPEND" title="Direct link to ARRAY_PREPEND">​</a></h2><p>Prepends the expression to the array. The source array type determines the resulting array type.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_PREPEND(expr, arr)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example prepends <code>c</code> to the arrays in the <code>arrayString</code> column from the <code>array-example</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> ARRAY_PREPEND</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayString&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayPrepended&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arrayPrepended</code></th></tr></thead><tbody><tr><td><code>[c, a, b]</code></td></tr><tr><td><code>[&quot;c&quot;,null,&quot;b&quot;]</code></td></tr><tr><td><code>[c]</code></td></tr><tr><td><code>[c,a,b]</code></td></tr><tr><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_slice">ARRAY_SLICE<a href="#array_slice" class="hash-link" aria-label="Direct link to ARRAY_SLICE" title="Direct link to ARRAY_SLICE">​</a></h2><p>Returns a subset of the array from the zero-based index <code>start</code> (inclusive) to <code>end</code> (exclusive). Returns null if <code>start</code> is less than 0, greater than the length of the array, or greater than <code>end</code>.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_SLICE(arr, start, end)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example constructs a new array from the elements of arrays in the <code>arrayDouble</code> column from the <code>array-example</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY_SLICE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayNew&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arrayDouble</code></th><th><code>arrayNew</code></th></tr></thead><tbody><tr><td><code>[1.1,2.2,null]</code></td><td><code>[1.1,2.2]</code></td></tr><tr><td><code>[999,null,5.5]</code></td><td><code>[999,null]</code></td></tr><tr><td><code>[null,2.2,1.1]</code></td><td><code>[null,2.2]</code></td></tr><tr><td><code>[]</code></td><td><code>[null,null]</code></td></tr><tr><td><code>null</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_to_mv">ARRAY_TO_MV<a href="#array_to_mv" class="hash-link" aria-label="Direct link to ARRAY_TO_MV" title="Direct link to ARRAY_TO_MV">​</a></h2><p>Converts an array of any type into a <a href="/docs/32.0.0/querying/sql-data-types#multi-value-strings">multi-value string</a>.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_TO_MV(arr)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example converts the arrays in the <code>arrayDouble</code> column from the <code>array-example</code> datasource into multi-value strings.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> ARRAY_TO_MV</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;multiValueString&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>multiValueString</code></th></tr></thead><tbody><tr><td><code>[&quot;1.1&quot;,&quot;2.2&quot;,null]</code></td></tr><tr><td><code>[&quot;999.0&quot;,null,&quot;5.5&quot;]</code></td></tr><tr><td><code>[null,&quot;2.2&quot;,&quot;1.1&quot;]</code></td></tr><tr><td><code>[]</code></td></tr><tr><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="array_to_string">ARRAY_TO_STRING<a href="#array_to_string" class="hash-link" aria-label="Direct link to ARRAY_TO_STRING" title="Direct link to ARRAY_TO_STRING">​</a></h2><p>Joins all elements of the array into a string using the specified delimiter.</p><ul><li><strong>Syntax</strong>: <code>ARRAY_TO_STRING(arr, delimiter)</code></li><li><strong>Function type:</strong> Array</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example converts the arrays in the <code>arrayDouble</code> column of the <code>array-example</code> datasource into concatenated strings.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> ARRAY_TO_STRING</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrayDouble&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;notSeparated&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;array-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>multiValueString</code></th></tr></thead><tbody><tr><td><code>1.12.2null</code></td></tr><tr><td><code>999.0null5.5</code></td></tr><tr><td><code>null2.21.1</code></td></tr><tr><td><code> </code></td></tr><tr><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="asin">ASIN<a href="#asin" class="hash-link" aria-label="Direct link to ASIN" title="Direct link to ASIN">​</a></h2><p>Calculates the arc sine (arcsine) of a numeric expression.</p><ul><li><strong>Syntax:</strong> <code>ASIN(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the arc sine of <code>1</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> ASIN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arc_sine&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arc_sine</code></th></tr></thead><tbody><tr><td><code>1.5707963267948966</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="atan">ATAN<a href="#atan" class="hash-link" aria-label="Direct link to ATAN" title="Direct link to ATAN">​</a></h2><p>Calculates the arc tangent (arctangent) of a numeric expression.</p><ul><li><strong>Syntax:</strong> <code>ATAN(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the arc tangent of <code>1</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> ATAN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arc_tangent&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arc_tangent</code></th></tr></thead><tbody><tr><td><code>0.7853981633974483</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="atan2">ATAN2<a href="#atan2" class="hash-link" aria-label="Direct link to ATAN2" title="Direct link to ATAN2">​</a></h2><p>Calculates the arc tangent (arctangent) of a specified x and y coordinate.</p><ul><li><strong>Syntax:</strong> <code>ATAN2(x, y)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the arc tangent of the coordinate <code>(1, -1)</code></p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> ATAN2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arc_tangent_2&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arc_tangent_2</code></th></tr></thead><tbody><tr><td><code>2.356194490192345</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="avg">AVG<a href="#avg" class="hash-link" aria-label="Direct link to AVG" title="Direct link to AVG">​</a></h2><p>Calculates the average of a set of values.</p><ul><li><strong>Syntax</strong>: <code>AVG(&lt;NUMERIC&gt;)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the average minutes of delay for a particular airlines in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">AVG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> avg_delay</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;AA&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>avg_delay</code></th></tr></thead><tbody><tr><td><code>8.936</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bit_and">BIT_AND<a href="#bit_and" class="hash-link" aria-label="Direct link to BIT_AND" title="Direct link to BIT_AND">​</a></h2><p>Performs a bitwise AND operation on all input values.</p><ul><li><strong>Syntax</strong>: <code>BIT_AND(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the bitwise AND operation for all values in <code>passenger-count</code> from <code>taxi-trips</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  BIT_AND</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;passenger_count&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bit_and&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>bit_and</code></th></tr></thead><tbody><tr><td><code>0</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bit_or">BIT_OR<a href="#bit_or" class="hash-link" aria-label="Direct link to BIT_OR" title="Direct link to BIT_OR">​</a></h2><p>Performs a bitwise OR operation on all input values.</p><ul><li><strong>Syntax</strong>: <code>BIT_OR(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the bitwise OR operation for all values in <code>passenger-count</code> from <code>taxi-trips</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  BIT_OR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;passenger_count&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bit_or&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>bit_or</code></th></tr></thead><tbody><tr><td><code>15</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bit_xor">BIT_XOR<a href="#bit_xor" class="hash-link" aria-label="Direct link to BIT_XOR" title="Direct link to BIT_XOR">​</a></h2><p>Performs a bitwise XOR operation on all input values.</p><ul><li><strong>Syntax</strong>: <code>BIT_XOR(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the bitwise XOR operation for all values in <code>passenger-count</code> from <code>taxi-trips</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  BIT_OR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;passenger_count&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bit_xor&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>bit_xor</code></th></tr></thead><tbody><tr><td><code>6</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bitwise_and">BITWISE_AND<a href="#bitwise_and" class="hash-link" aria-label="Direct link to BITWISE_AND" title="Direct link to BITWISE_AND">​</a></h2><p>Returns the bitwise AND between two expressions: <code>expr1 &amp; expr2</code>. </p><ul><li><strong>Syntax:</strong> <code>BITWISE_AND(expr1, expr2)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example performs the bitwise AND operation <code>12 &amp; 10</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> BITWISE_AND</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bitwise_and&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>bitwise_and</code></th></tr></thead><tbody><tr><td>8</td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bitwise_complement">BITWISE_COMPLEMENT<a href="#bitwise_complement" class="hash-link" aria-label="Direct link to BITWISE_COMPLEMENT" title="Direct link to BITWISE_COMPLEMENT">​</a></h2><p>Returns the bitwise complement (bitwise not) for the expression: <code>~expr</code>.</p><ul><li><strong>Syntax:</strong> <code>BITWISE_COMPLEMENT(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example performs the bitwise complement operation <code>~12</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> BITWISE_COMPLEMENT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bitwise_complement&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>bitwise_complement</code></th></tr></thead><tbody><tr><td>-13</td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bitwise_convert_double_to_long_bits">BITWISE_CONVERT_DOUBLE_TO_LONG_BITS<a href="#bitwise_convert_double_to_long_bits" class="hash-link" aria-label="Direct link to BITWISE_CONVERT_DOUBLE_TO_LONG_BITS" title="Direct link to BITWISE_CONVERT_DOUBLE_TO_LONG_BITS">​</a></h2><p>Converts the bits of an IEEE 754 floating-point double value to long.</p><ul><li><strong>Syntax:</strong><code>BITWISE_CONVERT_DOUBLE_TO_LONG_BITS(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the IEEE 754 floating-point double representation of <code>255</code> as a long. </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> BITWISE_CONVERT_DOUBLE_TO_LONG_BITS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ieee_754_double_to_long&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>ieee_754_double_to_long</code></th></tr></thead><tbody><tr><td><code>4643176031446892544</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bitwise_convert_long_bits_to_double">BITWISE_CONVERT_LONG_BITS_TO_DOUBLE<a href="#bitwise_convert_long_bits_to_double" class="hash-link" aria-label="Direct link to BITWISE_CONVERT_LONG_BITS_TO_DOUBLE" title="Direct link to BITWISE_CONVERT_LONG_BITS_TO_DOUBLE">​</a></h2><p>Converts a long to the IEEE 754 floating-point double specified by the bits stored in the long.</p><ul><li><strong>Syntax:</strong><code>BITWISE_CONVERT_LONG_BITS_TO_DOUBLE(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the long representation of <code>4643176031446892544</code> as an IEEE 754 floating-point double.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> BITWISE_CONVERT_LONG_BITS_TO_DOUBLE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">4643176031446892544</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;long_to_ieee_754_double&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>long_to_ieee_754_double</code></th></tr></thead><tbody><tr><td><code>255</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bitwise_or">BITWISE_OR<a href="#bitwise_or" class="hash-link" aria-label="Direct link to BITWISE_OR" title="Direct link to BITWISE_OR">​</a></h2><p>Returns the bitwise OR between the two expressions: <code>expr1 | expr2</code>.</p><ul><li><strong>Syntax:</strong> <code>BITWISE_OR(expr1, expr2)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example performs the bitwise OR operation <code>12 | 10</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> BITWISE_OR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bitwise_or&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>bitwise_or</code></th></tr></thead><tbody><tr><td><code>14</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bitwise_shift_left">BITWISE_SHIFT_LEFT<a href="#bitwise_shift_left" class="hash-link" aria-label="Direct link to BITWISE_SHIFT_LEFT" title="Direct link to BITWISE_SHIFT_LEFT">​</a></h2><p>Returns the bitwise left shift by x positions of an expr: <code>expr &lt;&lt; x</code>.</p><ul><li><strong>Syntax:</strong> <code>BITWISE_SHIFT_LEFT(expr, x)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example performs the bitwise SHIFT operation <code>2 &lt;&lt; 3</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> BITWISE_SHIFT_LEFT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bitwise_shift_left&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>bitwise_shift_left</code></th></tr></thead><tbody><tr><td><code>16</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bitwise_shift_right">BITWISE_SHIFT_RIGHT<a href="#bitwise_shift_right" class="hash-link" aria-label="Direct link to BITWISE_SHIFT_RIGHT" title="Direct link to BITWISE_SHIFT_RIGHT">​</a></h2><p>Returns the bitwise right shift by x positions of an expr: <code>expr &gt;&gt; x</code>.</p><ul><li><strong>Syntax:</strong> <code>BITWISE_SHIFT_RIGHT(expr, x)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example performs the bitwise SHIFT operation <code>16 &gt;&gt; 3</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> BITWISE_SHIFT_RIGHT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bitwise_shift_right&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>bitwise_shift_right</code></th></tr></thead><tbody><tr><td><code>2</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bitwise_xor">BITWISE_XOR<a href="#bitwise_xor" class="hash-link" aria-label="Direct link to BITWISE_XOR" title="Direct link to BITWISE_XOR">​</a></h2><p>Returns the bitwise exclusive OR between the two expressions: <code>expr1 ^ expr2</code>.</p><ul><li><strong>Syntax:</strong> <code>BITWISE_XOR(expr1, expr2)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example performs the bitwise XOR operation <code>12 ^ 10</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> BITWISE_XOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bitwise_xor&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>bitwise_xor</code></th></tr></thead><tbody><tr><td><code>6</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bloom_filter">BLOOM_FILTER<a href="#bloom_filter" class="hash-link" aria-label="Direct link to BLOOM_FILTER" title="Direct link to BLOOM_FILTER">​</a></h2><p>Computes a <a href="/docs/32.0.0/development/extensions-core/bloom-filter">Bloom filter</a> from values provided in an expression.</p><ul><li><strong>Syntax:</strong> <code>BLOOM_FILTER(expr, numEntries)</code><br><code>numEntries</code> specifies the maximum number of distinct values before the false positive rate increases.</li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns a Base64-encoded Bloom filter representing the set of devices ,<code>agent_category</code>, used in Albania:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;country&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  BLOOM_FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">agent_category</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> albanian_bloom</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;country&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Albania&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;country&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>country</code></th><th><code>albanian_bloom</code></th></tr></thead><tbody><tr><td><code>Albania</code></td><td><code>BAAAAAgAAACAAEAAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAIIAAAAAAAAAAAAAAAAAAIAAAAAAQAAAAAAAAAAAAAA</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bloom_filter_test">BLOOM_FILTER_TEST<a href="#bloom_filter_test" class="hash-link" aria-label="Direct link to BLOOM_FILTER_TEST" title="Direct link to BLOOM_FILTER_TEST">​</a></h2><p>Returns true if an expression is contained in a Base64-encoded <a href="/docs/32.0.0/development/extensions-core/bloom-filter">Bloom filter</a> string.</p><ul><li><strong>Syntax:</strong> <code>BLOOM_FILTER_TEST(expr, &lt;STRING&gt;)</code></li><li><strong>Function type:</strong> Scalar, other</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns <code>true</code> when a device type, <code>agent_category</code>, exists in the Bloom filter representing the set of devices used in Albania:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> agent_category</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">BLOOM_FILTER_TEST</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;agent_category&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;BAAAAAgAAACAAEAAAAAAAAAAAEIAAAAAAAAAAAAAAAAAAAAAAAIIAAAAAAAAAAAAAAAAAAIAAAAAAQAAAAAAAAAAAAAA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> bloom_test</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>agent_category</code></th><th><code>bloom_test</code></th></tr></thead><tbody><tr><td><code>empty</code></td><td><code>false</code></td></tr><tr><td><code>Game console</code></td><td><code>false</code></td></tr><tr><td><code>Personal computer</code></td><td><code>true</code></td></tr><tr><td><code>Smart TV</code></td><td><code>false</code></td></tr><tr><td><code>Smartphone</code></td><td><code>true</code></td></tr><tr><td><code>Tablet</code></td><td><code>false</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#other-scalar-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="btrim">BTRIM<a href="#btrim" class="hash-link" aria-label="Direct link to BTRIM" title="Direct link to BTRIM">​</a></h2><p>Trims characters from both the leading and trailing ends of an expression. Defaults <code>chars</code> to a space if none is provided.</p><ul><li><strong>Syntax:</strong> <code>BTRIM(expr[, chars])</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example trims the <code>_</code> characters from both ends of the string expression.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;___abc___&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  BTRIM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;___abc___&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;_&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;trim_both_ends&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_string</code></th><th><code>trim_both_ends</code></th></tr></thead><tbody><tr><td><code>___abc___</code></td><td><code>abc</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="case">CASE<a href="#case" class="hash-link" aria-label="Direct link to CASE" title="Direct link to CASE">​</a></h2><p>Returns a result based on given conditions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="simple-case">Simple CASE<a href="#simple-case" class="hash-link" aria-label="Direct link to Simple CASE" title="Direct link to Simple CASE">​</a></h3><p>Compares an expression to a set of values or expressions.</p><ul><li><strong>Syntax:</strong> <code>CASE expr WHEN value1 THEN result1 \[ WHEN value2 THEN result2 ... \] \[ ELSE resultN \] END</code></li><li><strong>Function type:</strong> Scalar, other</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns a UI type based on the value of <code>agent_category</code> from the <code>kttm</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;agent_category&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;device_type&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">CASE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;agent_category&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">WHEN</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Personal computer&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">THEN</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Large UI&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">WHEN</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Smartphone&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">THEN</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Mobile UI&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">ELSE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;other&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">END</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;UI_type&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>device_type</code></th><th><code>UI_type</code></th></tr></thead><tbody><tr><td><code>Personal computer</code></td><td><code>Large UI</code></td></tr><tr><td><code>Smartphone</code></td><td><code>Mobile UI</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#other-scalar-functions">Lean more</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="searched-case">Searched CASE<a href="#searched-case" class="hash-link" aria-label="Direct link to Searched CASE" title="Direct link to Searched CASE">​</a></h3><p>Evaluates a set of Boolean expressions.</p><ul><li><strong>Syntax:</strong> <code>CASE WHEN boolean_expr1 THEN result1 \[ WHEN boolean_expr2 THEN result2 ... \] \[ ELSE resultN \] END</code></li><li><strong>Function type:</strong> Scalar, other</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the departure location corresponding to the value of the <code>OriginStateName</code> column from the <code>flight-carriers</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginStateName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_origin&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">CASE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">WHEN</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginStateName&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Puerto Rico&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">THEN</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;U.S. Territory&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">WHEN</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginStateName&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;U.S. Virgin Islands&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">THEN</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;U.S. Territory&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">ELSE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;U.S. State&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">END</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;state_status&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_origin</code></th><th><code>departure_location</code></th></tr></thead><tbody><tr><td><code>Puerto Rico</code></td><td><code>U.S. Territory</code></td></tr><tr><td><code>Massachusetts</code></td><td><code>U.S. State</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#other-scalar-functions">Lean more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cast">CAST<a href="#cast" class="hash-link" aria-label="Direct link to CAST" title="Direct link to CAST">​</a></h2><p>Converts a value into the specified data type.</p><ul><li><strong>Syntax:</strong> <code>CAST(value AS TYPE)</code></li><li><strong>Function type:</strong> Scalar, other</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example converts the values in the <code>Distance</code> column from the <code>flight-carriers</code> datasource from <code>DOUBLE</code> to <code>VARCHAR</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Distance&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_column&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      CAST</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Distance&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">VARCHAR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cast_to_string&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_column</code></th><th><code>cast_to_string</code></th></tr></thead><tbody><tr><td><code>1571</code></td><td><code>1571.0</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#other-scalar-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ceil">CEIL<a href="#ceil" class="hash-link" aria-label="Direct link to CEIL" title="Direct link to CEIL">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date-and-time">Date and time<a href="#date-and-time" class="hash-link" aria-label="Direct link to Date and time" title="Direct link to Date and time">​</a></h3><p>Rounds up a timestamp by a given time unit.</p><ul><li><strong>Syntax:</strong> <code>CEIL(timestamp_expr TO unit&gt;)</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example rounds up the <code>__time</code> column from the <code>taxi-trips</code> datasource to the nearest year.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  CEIL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">YEAR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ceiling&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_time</code></th><th><code>ceiling</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>2014-01-01T00:00:00.000Z</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="numeric">Numeric<a href="#numeric" class="hash-link" aria-label="Direct link to Numeric" title="Direct link to Numeric">​</a></h3><p>Calculates the smallest integer value greater than or equal to the numeric expression.</p><ul><li><strong>Syntax:</strong> <code>CEIL(&lt;NUMERIC&gt;)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example applies the CEIL function to the <code>fare_amount</code> column from the <code>taxi-trips</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fare_amount&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fare_amount&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  CEIL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fare_amount&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ceiling_fare_amount&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>fare_amount</code></th><th><code>ceiling_fare_amount</code></th></tr></thead><tbody><tr><td><code>21.25</code></td><td><code>22</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="char_length">CHAR_LENGTH<a href="#char_length" class="hash-link" aria-label="Direct link to CHAR_LENGTH" title="Direct link to CHAR_LENGTH">​</a></h2><p>Alias for <a href="#length"><code>LENGTH</code></a>.</p><ul><li><strong>Syntax:</strong> <code>CHAR_LENGTH(expr)</code></li><li><strong>Function type:</strong> Scalar, string </li></ul><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="character_length">CHARACTER_LENGTH<a href="#character_length" class="hash-link" aria-label="Direct link to CHARACTER_LENGTH" title="Direct link to CHARACTER_LENGTH">​</a></h2><p>Alias for <a href="#length"><code>LENGTH</code></a>.</p><ul><li><strong>Syntax:</strong> <code>CHARACTER_LENGTH(expr)</code></li><li><strong>Function type:</strong> Scalar, string </li></ul><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="coalesce">COALESCE<a href="#coalesce" class="hash-link" aria-label="Direct link to COALESCE" title="Direct link to COALESCE">​</a></h2><p>Returns the first non-null value.</p><ul><li><strong>Syntax:</strong> <code>COALESCE(expr, expr, ...)</code></li><li><strong>Function type:</strong> Scalar, other</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the first non-null value from the list of parameters.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">COALESCE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">null</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;abc&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;first_non_null&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>first_non_null</code></th></tr></thead><tbody><tr><td><code>5</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#other-scalar-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="concat">CONCAT<a href="#concat" class="hash-link" aria-label="Direct link to CONCAT" title="Direct link to CONCAT">​</a></h2><p>Concatenates a list of expressions.</p><ul><li><strong>Syntax:</strong> <code>CONCAT(expr[, expr,...])</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example concatenates the <code>OriginCityName</code> column from <code>flight-carriers</code>, the string <code>to</code>, and the <code>DestCityName</code> column from <code>flight-carriers</code>. </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_city&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DestCityName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;destination_city&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  CONCAT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27; to &#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DestCityName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;concatenate_flight_details&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_city</code></th><th><code>destination_city</code></th><th><code>concatenate_flight_details</code></th></tr></thead><tbody><tr><td><code>San Juan, PR</code></td><td><code>Washington, DC</code></td><td><code>San Juan, PR to Washington, DC</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contains_string">CONTAINS_STRING<a href="#contains_string" class="hash-link" aria-label="Direct link to CONTAINS_STRING" title="Direct link to CONTAINS_STRING">​</a></h2><p>Returns true if <code>str</code> is a substring of <code>expr</code>, case-sensitive. Otherwise, returns false.</p><ul><li><strong>Syntax:</strong> <code>CONTAINS_STRING(expr, str)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns true if the <code>OriginCityName</code> column from the <code>flight-carriers</code> datasource contains the substring <code>San</code>. </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_city&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  CONTAINS_STRING</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;San&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;contains_string&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_city</code></th><th><code>contains_string</code></th></tr></thead><tbody><tr><td><code>San Juan, PR</code></td><td><code>true</code></td></tr><tr><td><code>Boston, MA</code></td><td><code>false</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cos">COS<a href="#cos" class="hash-link" aria-label="Direct link to COS" title="Direct link to COS">​</a></h2><p>Calculates the trigonometric cosine of an angle expressed in radians.</p><ul><li><strong>Syntax:</strong> <code>COS(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the cosine of angle <code>PI/3</code> radians.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> COS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">PI </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cosine&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>cosine</code></th></tr></thead><tbody><tr><td><code>0.5000000000000001</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cot">COT<a href="#cot" class="hash-link" aria-label="Direct link to COT" title="Direct link to COT">​</a></h2><p>Calculates the trigonometric cotangent of an angle expressed in radians.</p><ul><li><strong>Syntax:</strong> <code>COT(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the cotangent of angle <code>PI/3</code> radians.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> COT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">PI </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cotangent&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>cotangent</code></th></tr></thead><tbody><tr><td><code>0.577350269189626</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="count">COUNT<a href="#count" class="hash-link" aria-label="Direct link to COUNT" title="Direct link to COUNT">​</a></h2><p>Counts the number of rows.</p><ul><li><strong>Syntax</strong>: <code>COUNT([DISTINCT] expr)</code> <code>COUNT(*)</code><br>COUNT DISTINCT is an alias for <a href="#approx_count_distinct"><code>APPROX_COUNT_DISTINCT</code></a>.</li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example counts the number of distinct flights per day after <code>&#x27;2005-01-01 00:00:00&#x27;</code> in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;P1D&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_flights&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> __time </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-01-01 00:00:00&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_day</code></th><th><code>num_flights</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>18961</code></td></tr><tr><td><code>2005-11-02T00:00:00.000Z</code></td><td><code>19434</code></td></tr><tr><td><code>2005-11-03T00:00:00.000Z</code></td><td><code>19745</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cume_dist">CUME_DIST<a href="#cume_dist" class="hash-link" aria-label="Direct link to CUME_DIST" title="Direct link to CUME_DIST">​</a></h2><p>Returns the cumulative distribution of the current row within the window calculated as <code>number of window rows at the same rank or higher than current row</code> / <code>total window rows</code>. The return value ranges between <code>1/number of rows</code> and 1.</p><ul><li><strong>Syntax</strong>: <code>CUME_DIST()</code></li><li><strong>Function type:</strong> Window</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the cumulative distribution of number of flights by airline from two airports on a single day.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_flights&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    CUME_DIST</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;cume_dist&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-11-01&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token operator" style="color:rgb(137, 221, 255)">AND</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;KOA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LIH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_day</code></th><th><code>airport</code></th><th><code>airline</code></th><th><code>num_flights</code></th><th><code>cume_dist</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>HA</code></td><td><code>11</code></td><td><code>0.25</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>UA</code></td><td><code>4</code></td><td><code>0.5</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>AA</code></td><td><code>1</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>NW</code></td><td><code>1</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>HA</code></td><td><code>15</code></td><td><code>0.3333333333333333</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>AA</code></td><td><code>2</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>UA</code></td><td><code>2</code></td><td><code>1</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-window-functions#window-function-reference">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="current_date">CURRENT_DATE<a href="#current_date" class="hash-link" aria-label="Direct link to CURRENT_DATE" title="Direct link to CURRENT_DATE">​</a></h2><p>Returns the current date in UTC time, unless you specify a different timezone in the query context.</p><ul><li><strong>Syntax:</strong> <code>CURRENT_DATE</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the current date.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">CURRENT_DATE</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;current_date&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>current_date</code></th></tr></thead><tbody><tr><td><code>2024-08-14T00:00:00.000Z </code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="current_timestamp">CURRENT_TIMESTAMP<a href="#current_timestamp" class="hash-link" aria-label="Direct link to CURRENT_TIMESTAMP" title="Direct link to CURRENT_TIMESTAMP">​</a></h2><p>Returns the current timestamp in UTC time, unless you specify a different timezone in the query context.</p><ul><li><strong>Syntax:</strong> <code>CURRENT_TIMESTAMP</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the current timestamp.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">CURRENT_TIMESTAMP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;current_timestamp&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>current_timestamp</code></th></tr></thead><tbody><tr><td><code>2024-08-14T21:30:13.793Z</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="date_trunc">DATE_TRUNC<a href="#date_trunc" class="hash-link" aria-label="Direct link to DATE_TRUNC" title="Direct link to DATE_TRUNC">​</a></h2><p>Rounds down a timestamp by a given time unit.</p><ul><li><strong>Syntax:</strong> <code>DATE_TRUNC(unit, timestamp_expr)</code> </li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example truncates a timestamp from the <code>__time</code> column from the <code>taxi-trips</code> datasource to the most recent <code>decade</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_timestamp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  DATE_TRUNC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;decade&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;truncate_timestamp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_timestamp</code></th><th><code>truncate_time</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>2010-01-01T00:00:00.000Z</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="decode_base64_complex">DECODE_BASE64_COMPLEX<a href="#decode_base64_complex" class="hash-link" aria-label="Direct link to DECODE_BASE64_COMPLEX" title="Direct link to DECODE_BASE64_COMPLEX">​</a></h2><p>Decodes a Base64-encoded expression into a complex data type.</p><p>You can use the function to ingest data when a column contains an encoded data sketch such as Theta or HLL.</p><p>The function supports <code>hyperUnique</code> and <code>serializablePairLongString</code> data types by default.
To enable support for a complex data type, load the <a href="/docs/32.0.0/configuration/extensions">corresponding extension</a>:</p><ul><li><code>druid-bloom-filter</code>: <code>bloom</code></li><li><code>druid-datasketches</code>: <code>arrayOfDoublesSketch</code>, <code>HLLSketch</code>, <code>KllDoublesSketch</code>, <code>KllFloatsSketch</code>, <code>quantilesDoublesSketch</code>, <code>thetaSketch</code></li><li><code>druid-histogram</code>: <code>approximateHistogram</code>, <code>fixedBucketsHistogram</code></li><li><code>druid-stats</code>: <code>variance</code></li><li><code>druid-compressed-bigdecimal</code>: <code>compressedBigDecimal</code></li><li><code>druid-momentsketch</code>: <code>momentSketch</code></li><li><code>druid-tdigestsketch</code>: <code>tDigestSketch</code></li></ul><ul><li><strong>Syntax:</strong> <code>DECODE_BASE64_COMPLEX(dataType, expr)</code></li><li><strong>Function type:</strong> Scalar, other</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns a Theta sketch complex type from a Base64-encoded string representation of the sketch:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> DECODE_BASE64_COMPLEX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;thetaSketch&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;AgMDAAAazJNBAAAAAACAP+k/tkWGkSoFYWMAG0y+3gVabvKcIUNrBv0jAkGsw7sK5szX1k0ScwtMfCQmFP/rDhFK6yU7PPkObZ/Ugw5fcBQZ+GaO+Nt6FP+Whz6TmxkWyRJ+gaQLFhcts1+c0Q/vF9FLFfaVlOkb3/XpXaZ3JhyZ2dG8Di2/HO10sMs9C0AdM4FdHuye6SB+GYinIhTOITOHzB5SAfIiph3de9qIGSM89V+s/TkdI/WZVzK9wF0npfi4ZrmgBSnVjphCtQA5K2fp0x59UCwvMopZarsSkzEo81OIxjznNNXLr1BbQBo1Ei3OxJOoNzVs0x9xzsm4NfgAZSvZQvI1c2TmPsZvlzpW7tmIlizOOsr6pGWoh0U99/tV8RFwhz0SJoWyU1Z2P0hZ5d7KRnZBjlWC+e/FLEKrWsu14rlFRXhsOuxRId9FboEuH9PqMUixI2lB8MhLS803hJDoZ7tMy7Egl+YNU04QM11stXX4Tu96NHHcGiZRuCyciGiTGVQflMLmNt6lW6zIwJy0baNdbwjMCTjtUF7oZOtugWLYYJE9sJU3HuVijc0J10l6SmPslbfY6Fw0Za9w/Zdhn/5nIuKc1WMrYWnAJQJKXY73bHYWq7gI6dRvYdC2fLJyv3F8qwQcOJgFc0GaGXw8KRF3w3IVCwxsMntWhdTkaJ88e++5NFyM1Hd/D79wg0b9vH8=&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;theta_sketch&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can perform Theta sketch operations on the resulting <code>COMPLEX&lt;thetaSketch&gt;</code> value which resembles the input string. </p></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#other-scalar-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="decode_base64_utf8">DECODE_BASE64_UTF8<a href="#decode_base64_utf8" class="hash-link" aria-label="Direct link to DECODE_BASE64_UTF8" title="Direct link to DECODE_BASE64_UTF8">​</a></h2><p>Decodes a Base64-encoded expression into a UTF-8 encoded string.</p><ul><li><strong>Syntax:</strong> <code>DECODE_BASE64_UTF8(expr)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example decodes the Base64-encoded representation of &quot;Hello, World!&quot;:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  DECODE_BASE64_UTF8</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;SGVsbG8sIFdvcmxkIQ==&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> decoded</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>decoded</code></th></tr></thead><tbody><tr><td><code>Hello, World!</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="degrees">DEGREES<a href="#degrees" class="hash-link" aria-label="Direct link to DEGREES" title="Direct link to DEGREES">​</a></h2><p>Converts an angle from radians to degrees.</p><ul><li><strong>Syntax:</strong> <code>DEGREES(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example converts an angle of <code>PI</code> radians to degrees</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> DEGREES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">PI</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;degrees&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>degrees</code></th></tr></thead><tbody><tr><td><code>180</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dense_rank">DENSE_RANK<a href="#dense_rank" class="hash-link" aria-label="Direct link to DENSE_RANK" title="Direct link to DENSE_RANK">​</a></h2><p>Returns the rank for a row within a window without gaps. For example, if two rows tie for a rank of 1, the subsequent row is ranked 2.</p><ul><li><strong>Syntax</strong>: <code>DENSE_RANK()</code></li><li><strong>Function type:</strong> Window</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the dense rank by airline for flights from two airports on a single day.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_flights&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    DENSE_RANK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dense_rank&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-11-01&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">AND</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;KOA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LIH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_day</code></th><th><code>airport</code></th><th><code>airline</code></th><th><code>num_flights</code></th><th><code>dense_rank</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>HA</code></td><td><code>11</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>UA</code></td><td><code>4</code></td><td><code>2</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>AA</code></td><td><code>1</code></td><td><code>3</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>NW</code></td><td><code>1</code></td><td><code>3</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>HA</code></td><td><code>15</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>AA</code></td><td><code>2</code></td><td><code>2</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>UA</code></td><td><code>2</code></td><td><code>2</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-window-functions#window-function-reference">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="div">DIV<a href="#div" class="hash-link" aria-label="Direct link to DIV" title="Direct link to DIV">​</a></h2><p>Returns the result of integer division of <code>x</code> by <code>y</code>.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>The <code>DIV</code> function is not implemented in Druid versions 30.0.0 or earlier. Consider using <a href="/docs/32.0.0/querying/sql-functions#safe_divide"><code>SAFE_DIVIDE</code></a> instead. </p></div></div><ul><li><strong>Syntax:</strong> <code>DIV(x, y)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>  The following calculates integer divisions of <code>78</code> by <code>10</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">DIV</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">78</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;division&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  Returns the following:</p><table><thead><tr><th><code>division</code></th></tr></thead><tbody><tr><td><code>7</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_cdf">DS_CDF<a href="#ds_cdf" class="hash-link" aria-label="Direct link to DS_CDF" title="Direct link to DS_CDF">​</a></h2><p>Returns a string representing an approximation to the cumulative distribution function given a list of split points that define the edges of the bins from a Quantiles sketch.  </p><ul><li><strong>Syntax:</strong> <code>DS_CDF(expr, splitPoint0, splitPoint1, ...)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example specifies three split points to return cumulative distribution function approximations on the <code>Distance</code> column from the <code>flight-carriers</code> datasource. The query may return a different approximation for each bin on each execution.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> DS_CDF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> DS_QUANTILES_SKETCH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Distance&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">750</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2250</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_cdf&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns a result similar to the following:</p><table><thead><tr><th><code>estimate_cdf</code></th></tr></thead><tbody><tr><td><code>[0.6332237016416492,0.8908411023460711,0.9612303007393957,1.0]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_get_quantile">DS_GET_QUANTILE<a href="#ds_get_quantile" class="hash-link" aria-label="Direct link to DS_GET_QUANTILE" title="Direct link to DS_GET_QUANTILE">​</a></h2><p>Returns the quantile estimate corresponding to the fraction from a Quantiles sketch. </p><ul><li><strong>Syntax:</strong> <code>DS_GET_QUANTILE(expr, fraction)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example approximates the median of the <code>Distance</code> column from the <code>flight-carriers</code> datasource. The query may return a different approximation with each execution.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> DS_GET_QUANTILE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> DS_QUANTILES_SKETCH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Distance&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_median&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns a result similar to the following:</p><table><thead><tr><th><code>estimate_median</code></th></tr></thead><tbody><tr><td><code>569</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_get_quantiles">DS_GET_QUANTILES<a href="#ds_get_quantiles" class="hash-link" aria-label="Direct link to DS_GET_QUANTILES" title="Direct link to DS_GET_QUANTILES">​</a></h2><p>Returns a string representing an array of quantile estimates corresponding to a list of fractions from a Quantiles sketch. </p><ul><li><strong>Syntax:</strong> <code>DS_GET_QUANTILES(expr, fraction0, fraction1, ...)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example approximates the 25th, 50th, and 75th percentiles of the <code>Distance</code> column from the <code>flight-carriers</code> datasource. The query may return a different approximation for each percentile on each execution.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> DS_GET_QUANTILES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> DS_QUANTILES_SKETCH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Distance&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.25</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.75</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_fractions&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns a result similar to the following:</p><table><thead><tr><th><code>estimate_fractions</code></th></tr></thead><tbody><tr><td><code>[316.0,571.0,951.0]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_histogram">DS_HISTOGRAM<a href="#ds_histogram" class="hash-link" aria-label="Direct link to DS_HISTOGRAM" title="Direct link to DS_HISTOGRAM">​</a></h2><p>Returns an approximation to the histogram from a Quantiles sketch. The split points define the histogram bins. </p><ul><li><strong>Syntax:</strong> <code>DS_HISTOGRAM(expr, splitPoint0, splitPoint1, ...)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example specifies three split points to approximate a histogram on the <code>Distance</code> column from the <code>flight-carriers</code> datasource. The query may return a different approximation for each bin on each execution.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> DS_HISTOGRAM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> DS_QUANTILES_SKETCH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Distance&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">750</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2250</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_histogram&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns a result similar to the following:</p><table><thead><tr><th><code>estimate_histogram</code></th></tr></thead><tbody><tr><td><code>[358496.0,153974.99999999997,39909.99999999999,13757.000000000005]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_hll">DS_HLL<a href="#ds_hll" class="hash-link" aria-label="Direct link to DS_HLL" title="Direct link to DS_HLL">​</a></h2><p>Creates a HLL sketch on a column containing HLL sketches or a regular column. See <a href="/docs/32.0.0/development/extensions-core/datasketches-hll">DataSketches HLL Sketch module</a> for a description of optional parameters.</p><ul><li><strong>Syntax:</strong><code>DS_HLL(expr, [lgK, tgtHllType])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example creates a HLL sketch on the <code>Tail_number</code> column of the <code>flight-carriers</code> datasource grouping by <code>OriginState</code> and <code>DestState</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_state&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DestState&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;destination_state&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  DS_HLL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;hll_tail_number&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_state</code></th><th><code>destination_state</code></th><th><code>hll_tail_number</code></th></tr></thead><tbody><tr><td><code>AK</code></td><td><code>AK</code></td><td><code>&quot;AwEHDAcIAAFBAAAAfY...&quot;</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_quantile_summary">DS_QUANTILE_SUMMARY<a href="#ds_quantile_summary" class="hash-link" aria-label="Direct link to DS_QUANTILE_SUMMARY" title="Direct link to DS_QUANTILE_SUMMARY">​</a></h2><p>Returns a string summary of a Quantiles sketch. </p><ul><li><strong>Syntax:</strong> <code>DS_QUANTILE_SUMMARY(expr)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns a summary of a Quantiles sketch on the <code>Distance</code> column from the <code>flight-carriers</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> DS_QUANTILE_SUMMARY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> DS_QUANTILES_SKETCH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Distance&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;summary&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><tr><td><code>summary</code></td></tr><tr><td><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">### Quantiles DirectCompactDoublesSketch SUMMARY: </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Empty                        : false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Memory, Capacity bytes       : true, 6128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Estimation Mode              : true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   K                            : 128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   N                            : 566,138</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Levels (Needed, Total, Valid): 12, 12, 5</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Level Bit Pattern            : 100010100011</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   BaseBufferCount              : 122</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Combined Buffer Capacity     : 762</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Retained Items               : 762</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Compact Storage Bytes        : 6,128</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Updatable Storage Bytes      : 14,368</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Normalized Rank Error        : 1.406%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Normalized Rank Error (PMF)  : 1.711%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Min Item                     : 2.400000e+01</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   Max Item                     : 4.962000e+03</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">### END SKETCH SUMMARY</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></td></tr></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_quantiles_sketch">DS_QUANTILES_SKETCH<a href="#ds_quantiles_sketch" class="hash-link" aria-label="Direct link to DS_QUANTILES_SKETCH" title="Direct link to DS_QUANTILES_SKETCH">​</a></h2><p>Creates a Quantiles sketch on a Quantiles sketch column or a regular column. See <a href="/docs/32.0.0/development/extensions-core/datasketches-quantiles">DataSketches Quantiles Sketch module</a> for a description of parameters.</p><ul><li><strong>Syntax:</strong> <code>DS_QUANTILES_SKETCH(expr, [k])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example creates a Quantile sketch on the <code>Distance</code> column from the <code>flight-carriers</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> DS_QUANTILES_SKETCH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Distance&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;quantile_sketch&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>quantile_sketch</code></th></tr></thead><tbody><tr><td><code>AgMIGoAAAAB6owgAA...</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_rank">DS_RANK<a href="#ds_rank" class="hash-link" aria-label="Direct link to DS_RANK" title="Direct link to DS_RANK">​</a></h2><p>Returns an approximate rank of a given value in a distribution. The rank represents the fraction of the distribution less than the given value.</p><ul><li><strong>Syntax:</strong> <code>DS_RANK(expr, value)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example estimates the fraction of records in the <code>flight-carriers</code> datasource where the value in the <code>Distance</code> column is less than 500. The query may return a different approximation on each execution.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> DS_RANK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> DS_QUANTILES_SKETCH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Distance&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_rank&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns a result similar to the following:</p><table><thead><tr><th><code>estimate_rank</code></th></tr></thead><tbody><tr><td><code>0.43837721544923675 </code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_theta">DS_THETA<a href="#ds_theta" class="hash-link" aria-label="Direct link to DS_THETA" title="Direct link to DS_THETA">​</a></h2><p>Creates a Theta sketch on a column containing Theta sketches or a regular column. See <a href="/docs/32.0.0/development/extensions-core/datasketches-theta#aggregator">DataSketches Theta Sketch module</a> for a description of optional parameters.</p><ul><li><strong>Syntax:</strong> <code>DS_THETA(expr, [size])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example creates a Theta sketch on the <code>Tail_number</code> column of the <code>flight-carriers</code> datasource grouping by <code>OriginState</code> and <code>DestState</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_state&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DestState&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;destination_state&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;theta_tail_number&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_state</code></th><th><code>destination_state</code></th><th><code>theta_tail_number</code></th></tr></thead><tbody><tr><td><code>AK</code></td><td><code>AK</code></td><td><code>AgMDAAAazJNBAAAAA...</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_tuple_doubles">DS_TUPLE_DOUBLES<a href="#ds_tuple_doubles" class="hash-link" aria-label="Direct link to DS_TUPLE_DOUBLES" title="Direct link to DS_TUPLE_DOUBLES">​</a></h2><p>Creates a Tuple sketch on raw data or a precomputed sketch column. See <a href="/docs/32.0.0/development/extensions-core/datasketches-tuple">DataSketches Tuple Sketch module</a> for a description of parameters.</p><ul><li><strong>Syntax</strong>: <code>DS_TUPLE_DOUBLES(expr[, nominalEntries])</code><br><code>DS_TUPLE_DOUBLES(dimensionColumnExpr, metricColumnExpr1[, metricColumnExpr2, ...], [nominalEntries])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example creates a Tuples sketch column that stores the arrival and departure delay minutes for each airline in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  DS_TUPLE_DOUBLES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> tuples_delay</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>Reporting_Airline</code></th><th><code>tuples_delay</code></th></tr></thead><tbody><tr><td><code>AA</code></td><td><code>1.0</code></td></tr><tr><td><code>AS</code></td><td><code>1.0</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_tuple_doubles_intersect">DS_TUPLE_DOUBLES_INTERSECT<a href="#ds_tuple_doubles_intersect" class="hash-link" aria-label="Direct link to DS_TUPLE_DOUBLES_INTERSECT" title="Direct link to DS_TUPLE_DOUBLES_INTERSECT">​</a></h2><p>Returns an intersection of Tuple sketches which each contain an array of double values as their Summary Objects. The values contained in the Summary Objects are summed when combined. If the last value of the array is a numeric literal, Druid assumes that the value is an override parameter for <a href="/docs/32.0.0/development/extensions-core/datasketches-tuple">nominal entries</a>.</p><ul><li><strong>Syntax</strong>: <code>DS_TUPLE_DOUBLES_INTERSECT(expr, ..., [nominalEntries])</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the total minutes of arrival delay for airlines flying out of <code>SFO</code> or <code>LAX</code>.
An airline that doesn&#x27;t fly out of both airports returns a value of 0.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  DS_TUPLE_DOUBLES_METRICS_SUM_ESTIMATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    DS_TUPLE_DOUBLES_INTERSECT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_TUPLE_DOUBLES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;SFO&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_TUPLE_DOUBLES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LAX&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> arrival_delay_sfo_lax</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>Reporting_Airline</code></th><th><code>arrival_delay_sfo_lax</code></th></tr></thead><tbody><tr><td><code>AA</code></td><td><code>[33296]</code></td></tr><tr><td><code>AS</code></td><td><code>[13694]</code></td></tr><tr><td><code>B6</code></td><td><code>[0]</code></td></tr><tr><td><code>CO</code></td><td><code>[13582]</code></td></tr><tr><td><code>DH</code></td><td><code>[0]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#tuple-sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_tuple_doubles_metrics_sum_estimate">DS_TUPLE_DOUBLES_METRICS_SUM_ESTIMATE<a href="#ds_tuple_doubles_metrics_sum_estimate" class="hash-link" aria-label="Direct link to DS_TUPLE_DOUBLES_METRICS_SUM_ESTIMATE" title="Direct link to DS_TUPLE_DOUBLES_METRICS_SUM_ESTIMATE">​</a></h2><p>Computes approximate sums of the values contained within a Tuple sketch which contains an array of double values as the Summary Object.</p><ul><li><strong>Syntax</strong>: <code>DS_TUPLE_DOUBLES_METRICS_SUM_ESTIMATE(expr)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the sum of arrival and departure delay minutes for each airline in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  DS_TUPLE_DOUBLES_METRICS_SUM_ESTIMATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">DS_TUPLE_DOUBLES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> sum_delays</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>Reporting_Airline</code></th><th><code>sum_delays</code></th></tr></thead><tbody><tr><td><code>AA</code></td><td><code>[612831,474309]</code></td></tr><tr><td><code>AS</code></td><td><code>[157340,141462]</code></td></tr></tbody></table><p>Compare this example with an analogous SQL statement that doesn&#x27;t use approximations:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">SUM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> sum_arrival_delay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">SUM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> sum_departure_delay</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>Reporting_Airline</code></th><th><code>sum_arrival_delay</code></th><th><code>sum_departure_delay</code></th></tr></thead><tbody><tr><td><code>AA</code></td><td><code>612831</code></td><td><code>475735</code></td></tr><tr><td><code>AS</code></td><td><code>157340</code></td><td><code>143620</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#tuple-sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_tuple_doubles_not">DS_TUPLE_DOUBLES_NOT<a href="#ds_tuple_doubles_not" class="hash-link" aria-label="Direct link to DS_TUPLE_DOUBLES_NOT" title="Direct link to DS_TUPLE_DOUBLES_NOT">​</a></h2><p>Returns a set difference of Tuple sketches which each contain an array of double values as their Summary Objects. The values contained in the Summary Object are preserved as is. If the last value of the array is a numeric literal, Druid assumes that the value is an override parameter for <a href="/docs/32.0.0/development/extensions-core/datasketches-tuple">nominal entries</a>.</p><ul><li><strong>Syntax</strong>: <code>DS_TUPLE_DOUBLES_NOT(expr, ..., [nominalEntries])</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the total minutes of arrival delay for airlines that fly out of <code>SFO</code> but not <code>LAX</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  DS_TUPLE_DOUBLES_METRICS_SUM_ESTIMATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    DS_TUPLE_DOUBLES_NOT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_TUPLE_DOUBLES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;SFO&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_TUPLE_DOUBLES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LAX&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> arrival_delay_sfo_lax</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>Reporting_Airline</code></th><th><code>arrival_delay_sfo_lax</code></th></tr></thead><tbody><tr><td><code>AA</code></td><td><code>[0]</code></td></tr><tr><td><code>AS</code></td><td><code>[0]</code></td></tr><tr><td><code>B6</code></td><td><code>[0]</code></td></tr><tr><td><code>CO</code></td><td><code>[0]</code></td></tr><tr><td><code>DH</code></td><td><code>[93]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#tuple-sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ds_tuple_doubles_union">DS_TUPLE_DOUBLES_UNION<a href="#ds_tuple_doubles_union" class="hash-link" aria-label="Direct link to DS_TUPLE_DOUBLES_UNION" title="Direct link to DS_TUPLE_DOUBLES_UNION">​</a></h2><p>Returns a union of Tuple sketches which each contain an array of double values as their Summary Objects. The values contained in the Summary Objects are summed when combined. If the last value of the array is a numeric literal, Druid assumes that the value is an override parameter for <a href="/docs/32.0.0/development/extensions-core/datasketches-tuple">nominal entries</a>.</p><ul><li><strong>Syntax</strong>: <code>DS_TUPLE_DOUBLES_UNION(expr, ..., [nominalEntries])</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the total minutes of arrival delay for airlines flying out of either <code>SFO</code> or <code>LAX</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  DS_TUPLE_DOUBLES_METRICS_SUM_ESTIMATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    DS_TUPLE_DOUBLES_UNION</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_TUPLE_DOUBLES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;SFO&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_TUPLE_DOUBLES</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ArrDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LAX&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> arrival_delay_sfo_lax</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>Reporting_Airline</code></th><th><code>arrival_delay_sfo_lax</code></th></tr></thead><tbody><tr><td><code>AA</code></td><td><code>[33296]</code></td></tr><tr><td><code>AS</code></td><td><code>[13694]</code></td></tr><tr><td><code>B6</code></td><td><code>[0]</code></td></tr><tr><td><code>CO</code></td><td><code>[13582]</code></td></tr><tr><td><code>DH</code></td><td><code>[93]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#tuple-sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="earliest">EARLIEST<a href="#earliest" class="hash-link" aria-label="Direct link to EARLIEST" title="Direct link to EARLIEST">​</a></h2><p>Returns the value of a numeric or string expression corresponding to the earliest <code>__time</code> value.</p><ul><li><strong>Syntax</strong>: <code>EARLIEST(expr, [maxBytesPerValue])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the origin airport code associated with the earliest departing flight daily after <code>&#x27;2005-01-01 00:00:00&#x27;</code> in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;P1D&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;departure_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  EARLIEST</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> __time </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-01-01 00:00:00&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>departure_day</code></th><th><code>origin</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LAS</code></td></tr><tr><td><code>2005-11-02T00:00:00.000Z</code></td><td><code>SDF</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="earliest_by">EARLIEST_BY<a href="#earliest_by" class="hash-link" aria-label="Direct link to EARLIEST_BY" title="Direct link to EARLIEST_BY">​</a></h2><p>Returns the value of a numeric or string expression corresponding to the earliest time value from <code>timestampExpr</code>.</p><ul><li><strong>Syntax</strong>: <code>EARLIEST_BY(expr, timestampExpr, [maxBytesPerValue])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the destination airport code associated with the earliest arriving flight daily after <code>&#x27;2005-01-01 00:00:00&#x27;</code> in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TIME_PARSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrivalime&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;P1D&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrival_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  EARLIEST_BY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Dest&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TIME_PARSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrivalime&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dest&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> TIME_PARSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrivalime&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-01-01 00:00:00&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arrival_day</code></th><th><code>origin</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>RSW</code></td></tr><tr><td><code>2005-11-02T00:00:00.000Z</code></td><td><code>CLE</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exp">EXP<a href="#exp" class="hash-link" aria-label="Direct link to EXP" title="Direct link to EXP">​</a></h2><p>Calculates <em>e</em> raised to the power of the numeric expression.</p><ul><li><strong>Syntax:</strong> <code>EXP(&lt;NUMERIC&gt;)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates <em>e</em> to the power of 1.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> EXP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;exponential&quot;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>exponential</code></th></tr></thead><tbody><tr><td><code>2.7182818284590455</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="extract">EXTRACT<a href="#extract" class="hash-link" aria-label="Direct link to EXTRACT" title="Direct link to EXTRACT">​</a></h2><p>Extracts the value of some unit from the timestamp.</p><ul><li><strong>Syntax:</strong> <code>EXTRACT(unit FROM timestamp_expr)</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example extracts the year from the <code>__time</code> column from the <code>taxi-trips</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  EXTRACT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">YEAR</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;year&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_time</code></th><th><code>year</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>2013</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="first_value">FIRST_VALUE<a href="#first_value" class="hash-link" aria-label="Direct link to FIRST_VALUE" title="Direct link to FIRST_VALUE">​</a></h2><p>Returns the value evaluated for the expression for the first row within the window.</p><ul><li><strong>Syntax</strong>: <code>FIRST_VALUE(expr)</code></li><li><strong>Function type:</strong> Window</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the name of the first airline in the window of flights by airline for two airports on a single day.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_flights&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    FIRST_VALUE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;first_val&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-11-01&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">AND</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;KOA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LIH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_day</code></th><th><code>airport</code></th><th><code>airline</code></th><th><code>num_flights</code></th><th><code>first_val</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>HA</code></td><td><code>11</code></td><td><code>HA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>UA</code></td><td><code>4</code></td><td><code>HA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>AA</code></td><td><code>1</code></td><td><code>HA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>NW</code></td><td><code>1</code></td><td><code>HA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>HA</code></td><td><code>15</code></td><td><code>HA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>AA</code></td><td><code>2</code></td><td><code>HA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>UA</code></td><td><code>2</code></td><td><code>HA</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-window-functions#window-function-reference">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="floor">FLOOR<a href="#floor" class="hash-link" aria-label="Direct link to FLOOR" title="Direct link to FLOOR">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date-and-time-1">Date and time<a href="#date-and-time-1" class="hash-link" aria-label="Direct link to Date and time" title="Direct link to Date and time">​</a></h3><p>Rounds down a timestamp by a given time unit. </p><ul><li><strong>Syntax:</strong> <code>FLOOR(timestamp_expr TO unit)</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example rounds down the <code>__time</code> column from the <code>taxi-trips</code> datasource to the nearest year.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">YEAR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;floor&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_time</code></th><th><code>floor</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>2013-01-01T00:00:00.000Z</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="numeric-1">Numeric<a href="#numeric-1" class="hash-link" aria-label="Direct link to Numeric" title="Direct link to Numeric">​</a></h3><p>Calculates the largest integer less than or equal to the numeric expression.</p><ul><li><strong>Syntax:</strong> <code>FLOOR(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example applies the FLOOR function to the <code>fare_amount</code> column from the <code>taxi-trips</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fare_amount&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fare_amount&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fare_amount&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;floor_fare_amount&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>fare_amount</code></th><th><code>floor_fare_amount</code></th></tr></thead><tbody><tr><td><code>21.25</code></td><td><code>21</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="greatest">GREATEST<a href="#greatest" class="hash-link" aria-label="Direct link to GREATEST" title="Direct link to GREATEST">​</a></h2><p>Returns the maximum value from the provided expressions. For information on how Druid interprets the arguments passed into the function, see <a href="/docs/32.0.0/querying/sql-scalar#reduction-functions">Reduction functions</a>.</p><ul><li><strong>Syntax:</strong> <code>GREATEST([expr1, ...])</code></li><li><strong>Function type:</strong> Scalar, reduction</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the greatest value between the numeric constant <code>PI</code>, the integer number <code>4</code>, and the double <code>-5.0</code>. Druid interprets these arguments as DOUBLE data type.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> GREATEST</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">PI</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">5.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;greatest&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>greatest</code></th></tr></thead><tbody><tr><td><code>4</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#reduction-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="grouping">GROUPING<a href="#grouping" class="hash-link" aria-label="Direct link to GROUPING" title="Direct link to GROUPING">​</a></h2><p>Returns a number for each output row of a groupBy query, indicating whether the specified dimension is included for that row.</p><ul><li><strong>Syntax</strong>: <code>GROUPING(expr, expr...)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the total minutes of flight delay for each day of the week in <code>flight-carriers</code>.
The GROUP BY clause creates two grouping sets, one for the day of the week and one for the grand total.</p><p>For more information, refer to <a href="#case">CASE</a> and grouping sets with <a href="/docs/32.0.0/querying/sql#group-by">SQL GROUP BY</a>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">CASE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token keyword" style="font-style:italic">WHEN</span><span class="token plain"> GROUPING</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DayOfWeek&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">THEN</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Total&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token keyword" style="font-style:italic">ELSE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DayOfWeek&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">END</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DayOfWeek&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  GROUPING</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DayOfWeek&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> Subgroup</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">SUM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MinutesDelayed&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> GROUPING SETS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DayOfWeek&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>DayOfWeek</code></th><th><code>Subgroup</code></th><th><code>MinutesDelayed</code></th></tr></thead><tbody><tr><td><code>1</code></td><td><code>0</code></td><td><code>998505</code></td></tr><tr><td><code>2</code></td><td><code>0</code></td><td><code>1031599</code></td></tr><tr><td><code>3</code></td><td><code>0</code></td><td><code>884677</code></td></tr><tr><td><code>4</code></td><td><code>0</code></td><td><code>525351</code></td></tr><tr><td><code>5</code></td><td><code>0</code></td><td><code>519413</code></td></tr><tr><td><code>6</code></td><td><code>0</code></td><td><code>354601</code></td></tr><tr><td><code>7</code></td><td><code>0</code></td><td><code>848704</code></td></tr><tr><td><code>Total</code></td><td><code>1</code></td><td><code>5162850</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hll_sketch_estimate">HLL_SKETCH_ESTIMATE<a href="#hll_sketch_estimate" class="hash-link" aria-label="Direct link to HLL_SKETCH_ESTIMATE" title="Direct link to HLL_SKETCH_ESTIMATE">​</a></h2><p>Returns the distinct count estimate from a HLL sketch. To round the distinct count estimate, set <code>round</code> to true. <code>round</code> defaults to false.</p><ul><li><strong>Syntax:</strong> <code>HLL_SKETCH_ESTIMATE(expr, [round])</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example estimates the distinct number of unique tail numbers in the <code>flight-carriers</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  HLL_SKETCH_ESTIMATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">DS_HLL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>estimate</code></th></tr></thead><tbody><tr><td><code>4685.8815405960595</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hll_sketch_estimate_with_error_bounds">HLL_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS<a href="#hll_sketch_estimate_with_error_bounds" class="hash-link" aria-label="Direct link to HLL_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS" title="Direct link to HLL_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS">​</a></h2><p>Returns the distinct count estimate and error bounds from a HLL sketch. To specify the number of standard bound deviations, use <code>numStdDev</code>.</p><ul><li><strong>Syntax:</strong> <code>HLL_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS(expr, [numStdDev])</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example estimates the number of unique tail numbers in the <code>flight-carriers</code> datasource with error bounds at plus or minus one standard deviation.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  HLL_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">DS_HLL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_with_errors&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>estimate_with_errors</code></th></tr></thead><tbody><tr><td><code>[4685.8815405960595,4611.381540678335,4762.978259800803]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hll_sketch_to_string">HLL_SKETCH_TO_STRING<a href="#hll_sketch_to_string" class="hash-link" aria-label="Direct link to HLL_SKETCH_TO_STRING" title="Direct link to HLL_SKETCH_TO_STRING">​</a></h2><p>Returns a human-readable string representation of a HLL sketch for debugging.</p><ul><li><strong>Syntax:</strong> <code>HLL_SKETCH_TO_STRING(expr)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the HLL sketch on column <code>Tail_Number</code> from the <code>flight-carriers</code> datasource as a human-readable string.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  HLL_SKETCH_TO_STRING</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> DS_HLL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;summary&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><tr><td><code>summary</code></td></tr><tr><td><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">### HLL SKETCH SUMMARY: </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Log Config K   : 12</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Hll Target     : HLL_4</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Current Mode   : HLL</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Memory         : false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  LB             : 4611.381540678335</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Estimate       : 4685.8815405960595</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  UB             : 4762.978259800803</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  OutOfOrder Flag: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  CurMin         : 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  NumAtCurMin    : 1316</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  HipAccum       : 0.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  KxQ0           : 2080.7755126953125</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  KxQ1           : 0.0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Rebuild KxQ Flg: false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></td></tr></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hll_sketch_union">HLL_SKETCH_UNION<a href="#hll_sketch_union" class="hash-link" aria-label="Direct link to HLL_SKETCH_UNION" title="Direct link to HLL_SKETCH_UNION">​</a></h2><p>Returns a union of HLL sketches. See <a href="/docs/32.0.0/development/extensions-core/datasketches-hll">DataSketches HLL Sketch module</a> for a description of optional parameters.</p><ul><li><strong>Syntax:</strong> <code>HLL_SKETCH_UNION([lgK, tgtHllType], expr0, expr1, ...)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example estimates the union of the HLL sketch of tail numbers that took off from <code>CA</code> and the HLL sketch of tail numbers that took off from <code>TX</code>. The example uses the <code>Tail_Number</code> and <code>OriginState</code> columns from the <code>flight-carriers</code> datasource. </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  HLL_SKETCH_ESTIMATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    HLL_SKETCH_UNION</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_HLL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;CA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_HLL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TX&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_union&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>estimate_union</code></th></tr></thead><tbody><tr><td><code>4204.798431046455</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="human_readable_binary_byte_format">HUMAN_READABLE_BINARY_BYTE_FORMAT<a href="#human_readable_binary_byte_format" class="hash-link" aria-label="Direct link to HUMAN_READABLE_BINARY_BYTE_FORMAT" title="Direct link to HUMAN_READABLE_BINARY_BYTE_FORMAT">​</a></h2><p>Converts an integer byte size into human-readable <a href="https://en.wikipedia.org/wiki/Binary_prefix" target="_blank" rel="noopener noreferrer">IEC</a> format.</p><ul><li><strong>Syntax:</strong> <code>HUMAN_READABLE_BINARY_BYTE_FORMAT(value[, precision])</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>  The following example converts <code>1000000</code> into IEC format.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> HUMAN_READABLE_BINARY_BYTE_FORMAT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;iec_format&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  Returns the following:</p><table><thead><tr><th><code>iec_format</code></th></tr></thead><tbody><tr><td><code>976.56 KiB</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="human_readable_decimal_byte_format">HUMAN_READABLE_DECIMAL_BYTE_FORMAT<a href="#human_readable_decimal_byte_format" class="hash-link" aria-label="Direct link to HUMAN_READABLE_DECIMAL_BYTE_FORMAT" title="Direct link to HUMAN_READABLE_DECIMAL_BYTE_FORMAT">​</a></h2><p>Converts a byte size into human-readable <a href="https://en.wikipedia.org/wiki/Binary_prefix" target="_blank" rel="noopener noreferrer">SI</a> format.</p><ul><li><strong>Syntax:</strong> <code>HUMAN_READABLE_DECIMAL_BYTE_FORMAT(value[, precision])</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example converts <code>1000000</code> into SI format.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> HUMAN_READABLE_DECIMAL_BYTE_FORMAT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;si_format&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>si_format</code></th></tr></thead><tbody><tr><td><code>1.00 MB</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="human_readable_decimal_format">HUMAN_READABLE_DECIMAL_FORMAT<a href="#human_readable_decimal_format" class="hash-link" aria-label="Direct link to HUMAN_READABLE_DECIMAL_FORMAT" title="Direct link to HUMAN_READABLE_DECIMAL_FORMAT">​</a></h2><p>Converts a byte size into human-readable SI format with single-character units.</p><ul><li><strong>Syntax:</strong> <code>HUMAN_READABLE_DECIMAL_FORMAT(value[, precision])</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>  The following example converts <code>1000000</code> into single character SI format.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> HUMAN_READABLE_DECIMAL_FORMAT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;single_character_si_format&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>single_character_si_format</code></th></tr></thead><tbody><tr><td><code>1.00 M</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="icontains_string">ICONTAINS_STRING<a href="#icontains_string" class="hash-link" aria-label="Direct link to ICONTAINS_STRING" title="Direct link to ICONTAINS_STRING">​</a></h2><p>Returns true if <code>str</code> is a substring of <code>expr</code>, case-insensitive. Otherwise, returns false.</p><ul><li><strong>Syntax:</strong> <code>ICONTAINS_STRING(expr, str)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns true if the <code>OriginCityName</code> column from the <code>flight-carriers</code> datasource contains the case-insensitive substring <code>san</code>.  </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_city&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ICONTAINS_STRING</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;san&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;contains_case_insensitive_string&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_city</code></th><th><code>contains_case_insensitive_string</code></th></tr></thead><tbody><tr><td><code>San Juan, PR</code></td><td><code>true</code></td></tr><tr><td><code>Boston, MA</code></td><td><code>false</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ipv4_match">IPV4_MATCH<a href="#ipv4_match" class="hash-link" aria-label="Direct link to IPV4_MATCH" title="Direct link to IPV4_MATCH">​</a></h2><p>Returns true if the IPv4 <code>address</code> belongs to the <code>subnet</code> literal, otherwise returns false.</p><ul><li><strong>Syntax:</strong> <code>IPV4_MATCH(address, subnet)</code></li><li><strong>Function type:</strong> Scalar, IP address</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns true if the IPv4 address in the <code>forward_for</code> column from the <code>kttm</code> datasource belongs to the subnet <code>181.13.41.0/24</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;forwarded_for&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ipv4_address&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  IPV4_MATCH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;forwarded_for&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;181.13.41.0/24&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;belongs_in_subnet&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>ipv4_address</code></th><th><code>belongs_in_subnet</code></th></tr></thead><tbody><tr><td><code>181.13.41.82</code></td><td><code>true</code></td></tr><tr><td><code>177.242.100.0</code></td><td><code>false</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#ip-address-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ipv4_parse">IPV4_PARSE<a href="#ipv4_parse" class="hash-link" aria-label="Direct link to IPV4_PARSE" title="Direct link to IPV4_PARSE">​</a></h2><p>Parses an IPv4 <code>address</code> into its integer notation.</p><ul><li><strong>Syntax:</strong> <code>IPV4_PARSE(address)</code></li><li><strong>Function type:</strong> Scalar, IP address</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns an integer that represents the IPv4 address <code>5.5.5.5</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;5.5.5.5&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ipv4_address&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  IPV4_PARSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;5.5.5.5&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;integer&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>ipv4_address</code></th><th><code>integer</code></th></tr></thead><tbody><tr><td><code>5.5.5.5</code></td><td><code>84215045</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#ip-address-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ipv4_stringify">IPV4_STRINGIFY<a href="#ipv4_stringify" class="hash-link" aria-label="Direct link to IPV4_STRINGIFY" title="Direct link to IPV4_STRINGIFY">​</a></h2><p>Converts an IPv4 <code>address</code> in integer notation into dot-decimal notation.</p><ul><li><strong>Syntax:</strong> <code>IPV4_STRINGIFY(address)</code></li><li><strong>Function type:</strong> Scalar, IP address</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the integer <code>84215045</code> in IPv4 dot-decimal notation.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;84215045&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;integer&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  IPV4_STRINGIFY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">84215045</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dot_decimal_notation&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>integer</code></th><th><code>dot_decimal_notation</code></th></tr></thead><tbody><tr><td><code>84215045</code></td><td><code>5.5.5.5</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#ip-address-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ipv6_match">IPV6_MATCH<a href="#ipv6_match" class="hash-link" aria-label="Direct link to IPV6_MATCH" title="Direct link to IPV6_MATCH">​</a></h2><p>Returns true if the IPv6 <code>address</code> belongs to the <code>subnet</code> literal. Otherwise, returns false.</p><ul><li><strong>Syntax:</strong> <code>IPV6_MATCH(address, subnet)</code></li><li><strong>Function type:</strong> Scalar, IP address</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns true because <code>75e9:efa4:29c6:85f6::232c</code> is in the subnet of <code>75e9:efa4:29c6:85f6::/64</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;75e9:efa4:29c6:85f6::232c&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ipv6_address&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  IPV6_MATCH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;75e9:efa4:29c6:85f6::232c&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;75e9:efa4:29c6:85f6::/64&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;belongs_in_subnet&quot;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following: </p><table><thead><tr><th><code>ipv6_address</code></th><th><code>belongs_in_subnet</code></th></tr></thead><tbody><tr><td><code>75e9:efa4:29c6:85f6::232c</code></td><td><code>true</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#ip-address-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="json_keys">JSON_KEYS<a href="#json_keys" class="hash-link" aria-label="Direct link to JSON_KEYS" title="Direct link to JSON_KEYS">​</a></h2><p>Returns an array of field names from an expression, at a specified path.</p><ul><li><strong>Syntax:</strong> <code>JSON_KEYS(expr, path)</code></li><li><strong>Function type:</strong> JSON</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns an array of field names from the nested column <code>agent</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  JSON_KEYS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">agent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$.&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> agent_keys</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm_nested&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>agent_keys</code></th></tr></thead><tbody><tr><td><code>[type, category, browser, browser_version, os, platform]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-json-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="json_merge">JSON_MERGE<a href="#json_merge" class="hash-link" aria-label="Direct link to JSON_MERGE" title="Direct link to JSON_MERGE">​</a></h2><p>Merges two or more JSON <code>STRING</code> or <code>COMPLEX&lt;json&gt;</code> expressions into one, preserving the rightmost value when there are key overlaps.
The function always returns a <code>COMPLEX&lt;json&gt;</code> object.</p><ul><li><strong>Syntax:</strong> <code>JSON_MERGE(expr1, expr2[, expr3 ...])</code></li><li><strong>Function type:</strong> JSON</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example merges the <code>event</code> object with a static string <code>example_string</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  JSON_MERGE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;example_string&quot;: 123}&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> event_with_string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm_nested&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>event</code></th><th><code>event_with_string</code></th></tr></thead><tbody><tr><td><code>{&quot;type&quot;:&quot;PercentClear&quot;,&quot;percentage&quot;:55}</code></td><td><code>{&quot;type&quot;:&quot;PercentClear&quot;,&quot;percentage&quot;:55,&quot;example_string&quot;:123}</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-json-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="json_object">JSON_OBJECT<a href="#json_object" class="hash-link" aria-label="Direct link to JSON_OBJECT" title="Direct link to JSON_OBJECT">​</a></h2><p>Constructs a new <code>COMPLEX&lt;json&gt;</code> object from one or more expressions.
The <code>KEY</code> expressions must evaluate to string types.
The <code>VALUE</code> expressions can be composed of any input type, including other <code>COMPLEX&lt;json&gt;</code> objects.
The function can accept colon-separated key-value pairs.</p><ul><li><strong>Syntax:</strong> <code>JSON_OBJECT(KEY expr1 VALUE expr2[, KEY expr3 VALUE expr4, ...])</code><br>or<br><code>JSON_OBJECT(expr1:expr2[, expr3:expr4, ...])</code></li><li><strong>Function type:</strong> JSON</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example creates a new object <code>combinedJSON</code> from <code>continent</code> in <code>geo_ip</code> and <code>type</code> in <code>event</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  JSON_OBJECT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token keyword" style="font-style:italic">KEY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;geo_ip&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">VALUE</span><span class="token plain"> JSON_QUERY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">geo_ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$.continent&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token keyword" style="font-style:italic">KEY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;event&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">VALUE</span><span class="token plain"> JSON_QUERY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$.type&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> combined_JSON</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm_nested&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>combined_JSON</code></th></tr></thead><tbody><tr><td><code>{&quot;geo_ip&quot;: {&quot;continent&quot;: &quot;South America&quot;},&quot;event&quot;: {&quot;type&quot;: &quot;PercentClear&quot;}}</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-json-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="json_paths">JSON_PATHS<a href="#json_paths" class="hash-link" aria-label="Direct link to JSON_PATHS" title="Direct link to JSON_PATHS">​</a></h2><p>Returns an array of all paths which refer to literal values in an expression, in JSONPath format.</p><ul><li><strong>Syntax:</strong> <code>JSON_PATHS(expr)</code>  </li><li><strong>Function type:</strong> JSON</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns an array of distinct paths in the <code>geo_ip</code> nested column:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ARRAY_CONCAT_AGG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">DISTINCT</span><span class="token plain"> JSON_PATHS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">geo_ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> geo_ip_paths</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm_nested&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>geo_ip_paths</code></th></tr></thead><tbody><tr><td><code>[$.city, $.continent, $.country, $.region]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-json-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="json_query">JSON_QUERY<a href="#json_query" class="hash-link" aria-label="Direct link to JSON_QUERY" title="Direct link to JSON_QUERY">​</a></h2><p>Extracts a <code>COMPLEX&lt;json&gt;</code> value from an expression at a specified path.</p><ul><li><strong>Syntax:</strong> <code>JSON_QUERY(expr, path)</code>  </li><li><strong>Function type:</strong> JSON</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the values of <code>percentage</code> in the <code>event</code> nested column:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;event&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   JSON_QUERY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;event&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$.percentage&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm_nested&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>event</code></th><th><code>percentage</code></th></tr></thead><tbody><tr><td><code>{&quot;type&quot;:&quot;PercentClear&quot;,&quot;percentage&quot;:55}</code></td><td><code>55</code></td></tr><tr><td><code>{&quot;type&quot;:&quot;PercentClear&quot;,&quot;percentage&quot;:80}</code></td><td><code>80</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-json-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="json_query_array">JSON_QUERY_ARRAY<a href="#json_query_array" class="hash-link" aria-label="Direct link to JSON_QUERY_ARRAY" title="Direct link to JSON_QUERY_ARRAY">​</a></h2><p>Extracts an <code>ARRAY&lt;COMPLEX&lt;json&gt;&gt;</code> value from an expression at a specified path.</p><p>If the value isn&#x27;t an array, the function translates it into a single element <code>ARRAY</code> containing the value at <code>path</code>.
This function is mainly used to extract arrays of objects to use as inputs to other <a href="/docs/32.0.0/querying/sql-array-functions">array functions</a>.</p><ul><li><strong>Syntax:</strong> <code>JSON_QUERY_ARRAY(expr, path)</code></li><li><strong>Function type:</strong> JSON</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns an array of <code>percentage</code> values in the <code>event</code> nested column:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;event&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   JSON_QUERY_ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;event&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$.percentage&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm_nested&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>event</code></th><th><code>percentage</code></th></tr></thead><tbody><tr><td><code>{&quot;type&quot;:&quot;PercentClear&quot;,&quot;percentage&quot;:55}</code></td><td><code>[55]</code></td></tr><tr><td><code>{&quot;type&quot;:&quot;PercentClear&quot;,&quot;percentage&quot;:80}</code></td><td><code>[80]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-json-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="json_value">JSON_VALUE<a href="#json_value" class="hash-link" aria-label="Direct link to JSON_VALUE" title="Direct link to JSON_VALUE">​</a></h2><p>Extracts a literal value from an expression at a specified path.</p><p>If you include <code>RETURNING</code> and specify a SQL type (such as <code>VARCHAR</code>, <code>BIGINT</code>, <code>DOUBLE</code>) the function plans the query using the suggested type.
If <code>RETURNING</code> isn&#x27;t included, the function attempts to infer the type based on the context.
If the function can&#x27;t infer the type, it defaults to <code>VARCHAR</code>.</p><ul><li><strong>Syntax:</strong> <code>JSON_VALUE(expr, path [RETURNING sqlType])</code></li><li><strong>Function type:</strong> JSON</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the value of <code>city</code> in the <code>geo_ip</code> nested column:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  geo_ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  JSON_VALUE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">geo_ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$.city&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">RETURNING</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">VARCHAR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> city</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm_nested&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> JSON_VALUE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">geo_ip</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$.continent&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Asia&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>geo_ip</code></th><th><code>city</code></th></tr></thead><tbody><tr><td><code>{&quot;continent&quot;:&quot;Asia&quot;,&quot;country&quot;:&quot;Taiwan&quot;,&quot;region&quot;:&quot;Taipei City&quot;,&quot;city&quot;:&quot;Taipei&quot;}</code></td><td><code>Taipei</code></td></tr><tr><td><code>{&quot;continent&quot;:&quot;Asia&quot;,&quot;country&quot;:&quot;Thailand&quot;,&quot;region&quot;:&quot;Bangkok&quot;,&quot;city&quot;:&quot;Bangkok&quot;}</code></td><td><code>Bangkok</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-json-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lag">LAG<a href="#lag" class="hash-link" aria-label="Direct link to LAG" title="Direct link to LAG">​</a></h2><p>If you do not supply an <code>offset</code>, returns the value evaluated at the row preceding the current row. Specify an offset number <code>n</code> to return the value evaluated at <code>n</code> rows preceding the current one.</p><ul><li><strong>Syntax</strong>: <code>LAG(expr[, offset])</code></li><li><strong>Function type:</strong> Window</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the preceding airline in the window for flights by airline from two airports on a single day.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_flights&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    LAG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;lag&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-11-01&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">AND</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;KOA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LIH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_day</code></th><th><code>airport</code></th><th><code>airline</code></th><th><code>num_flights</code></th><th><code>lag</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>HA</code></td><td><code>11</code></td><td><code>null</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>UA</code></td><td><code>4</code></td><td><code>HA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>AA</code></td><td><code>1</code></td><td><code>UA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>NW</code></td><td><code>1</code></td><td><code>AA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>HA</code></td><td><code>15</code></td><td><code>null</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>AA</code></td><td><code>2</code></td><td><code>HA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>UA</code></td><td><code>2</code></td><td><code>AA</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-window-functions#window-function-reference">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="last_value">LAST_VALUE<a href="#last_value" class="hash-link" aria-label="Direct link to LAST_VALUE" title="Direct link to LAST_VALUE">​</a></h2><p>Returns the value evaluated for the expression for the last row within the window.</p><ul><li><strong>Syntax</strong>: <code>LAST_VALUE(expr)</code></li><li><strong>Function type:</strong> Window</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the last airline name in the window for flights for two airports on a single day.
Note that the RANGE BETWEEN clause defines the window frame between the current row and the final row in the window instead of the default of RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW when using ORDER BY.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_flights&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    LAST_VALUE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DESC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      RANGE </span><span class="token operator" style="color:rgb(137, 221, 255)">BETWEEN</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">CURRENT</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ROW</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">AND</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">FOLLOWING</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;last_value&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-11-01&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">AND</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;KOA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LIH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_day</code></th><th><code>airport</code></th><th><code>airline</code></th><th><code>num_flights</code></th><th><code>last_value</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>HA</code></td><td><code>11</code></td><td><code>NW</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>UA</code></td><td><code>4</code></td><td><code>NW</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>AA</code></td><td><code>1</code></td><td><code>NW</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>NW</code></td><td><code>1</code></td><td><code>NW</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>HA</code></td><td><code>15</code></td><td><code>UA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>AA</code></td><td><code>2</code></td><td><code>UA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>UA</code></td><td><code>2</code></td><td><code>UA</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-window-functions#window-function-reference">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="latest">LATEST<a href="#latest" class="hash-link" aria-label="Direct link to LATEST" title="Direct link to LATEST">​</a></h2><p>Returns the value of a numeric or string expression corresponding to the latest <code>__time</code> value.</p><ul><li><strong>Syntax</strong>: <code>LATEST(expr, [maxBytesPerValue])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the origin airport code associated with the latest departing flight daily after <code>&#x27;2005-01-01 00:00:00&#x27;</code> in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;P1D&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;departure_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  LATEST</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> __time </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-01-01 00:00:00&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>departure_day</code></th><th><code>origin</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LAS</code></td></tr><tr><td><code>2005-11-02T00:00:00.000Z</code></td><td><code>LAX</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="latest_by">LATEST_BY<a href="#latest_by" class="hash-link" aria-label="Direct link to LATEST_BY" title="Direct link to LATEST_BY">​</a></h2><p>Returns the value of a numeric or string expression corresponding to the latest time value from <code>timestampExpr</code>.</p><ul><li><strong>Syntax</strong>: <code>LATEST_BY(expr, timestampExpr, [maxBytesPerValue])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the destination airport code associated with the latest arriving flight daily after <code>&#x27;2005-01-01 00:00:00&#x27;</code> in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">TIME_PARSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrivalime&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;P1D&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrival_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  LATEST_BY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Dest&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TIME_PARSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrivalime&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dest&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> TIME_PARSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;arrivalime&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-01-01 00:00:00&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arrival_day</code></th><th><code>origin</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>MCO</code></td></tr><tr><td><code>2005-11-02T00:00:00.000Z</code></td><td><code>BUF</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lead">LEAD<a href="#lead" class="hash-link" aria-label="Direct link to LEAD" title="Direct link to LEAD">​</a></h2><p>If you do not supply an <code>offset</code>, returns the value evaluated at the row following the current row. Specify an offset number <code>n</code> to return the value evaluated at <code>n</code> rows following the current one; if there is no such row, returns the given default value.</p><ul><li><strong>Syntax</strong>: <code>LEAD(expr[, offset])</code></li><li><strong>Function type:</strong> Window</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the subsequent value for an airline in the window for flights from two airports on a single day.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_flights&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    LEAD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;lead&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-11-01&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">AND</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;KOA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LIH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_day</code></th><th><code>airport</code></th><th><code>airline</code></th><th><code>num_flights </code></th><th><code>lead</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>HA</code></td><td><code>11</code></td><td><code>UA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>UA</code></td><td><code>4</code></td><td><code>AA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>AA</code></td><td><code>1</code></td><td><code>NW</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>NW</code></td><td><code>1</code></td><td><code>null</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>HA</code></td><td><code>15</code></td><td><code>AA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>AA</code></td><td><code>2</code></td><td><code>UA</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>UA</code></td><td><code>2</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-window-functions#window-function-reference">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="least">LEAST<a href="#least" class="hash-link" aria-label="Direct link to LEAST" title="Direct link to LEAST">​</a></h2><p>Returns the minimum value from the provided expressions. For information on how Druid interprets the arguments passed into the function, see <a href="/docs/32.0.0/querying/sql-scalar#reduction-functions">Reduction functions</a>.</p><ul><li><strong>Syntax:</strong> <code>LEAST([expr1, ...])</code></li><li><strong>Function type:</strong> Scalar, reduction</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the minimum value between the strings <code>apple</code>, <code>orange</code>, and <code>pear</code>. Druid interprets these arguments as STRING data type. </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> LEAST</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;apple&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;orange&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;pear&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;least&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>least</code></th></tr></thead><tbody><tr><td><code>apple</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#reduction-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="left">LEFT<a href="#left" class="hash-link" aria-label="Direct link to LEFT" title="Direct link to LEFT">​</a></h2><p>Returns the <code>N</code> leftmost characters of an expression, where <code>N</code> is an integer value.</p><ul><li><strong>Syntax:</strong> <code>LEFT(expr, N)</code></li><li><strong>Function type:</strong> Scalar, string </li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the <code>3</code> leftmost characters of the expression <code>ABCDEFG</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ABCDEFG&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;expression&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">LEFT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ABCDEFG&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;leftmost_characters&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>expression</code></th><th><code>leftmost_characters</code></th></tr></thead><tbody><tr><td><code>ABCDEFG</code></td><td><code>ABC</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="length">LENGTH<a href="#length" class="hash-link" aria-label="Direct link to LENGTH" title="Direct link to LENGTH">​</a></h2><p>Returns the length of the expression in UTF-16 code units.</p><ul><li><strong>Syntax:</strong> <code>LENGTH(expr)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the character length of the <code>OriginCityName</code> column from the <code>flight-carriers</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_city_name&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  LENGTH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;city_name_length&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_city_name</code></th><th><code>city_name_length</code></th></tr></thead><tbody><tr><td><code>San Juan, PR</code></td><td><code>12</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="listagg">LISTAGG<a href="#listagg" class="hash-link" aria-label="Direct link to LISTAGG" title="Direct link to LISTAGG">​</a></h2><p>Alias for <a href="#string_agg"><code>STRING_AGG</code></a>.</p><ul><li><strong>Syntax:</strong> <code>LISTAGG([DISTINCT] expr, [separator, [size]])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ln">LN<a href="#ln" class="hash-link" aria-label="Direct link to LN" title="Direct link to LN">​</a></h2><p>Calculates the natural logarithm of the numeric expression.</p><ul><li><strong>Syntax:</strong> <code>LN(&lt;NUMERIC&gt;)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example applies the LN function to the <code>max_temperature</code> column from the <code>taxi-trips</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;max_temperature&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;max_temperature&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  LN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;max_temperature&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;natural_log_max_temp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>max_temperature</code></th><th><code>natural_log_max_temp</code></th></tr></thead><tbody><tr><td><code>76</code></td><td><code>4.330733340286331</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="log10">LOG10<a href="#log10" class="hash-link" aria-label="Direct link to LOG10" title="Direct link to LOG10">​</a></h2><p>Calculates the base-10 logarithm of the numeric expression.</p><ul><li><strong>Syntax:</strong> <code>LOG10(&lt;NUMERIC&gt;)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example applies the LOG10 function to the <code>max_temperature</code> column from the <code>taxi-trips</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;max_temperature&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;max_temperature&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  LOG10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;max_temperature&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;log10_max_temp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>max_temperature</code></th><th><code>log10_max_temp</code></th></tr></thead><tbody><tr><td><code>76</code></td><td><code>1.8808135922807914</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lookup">LOOKUP<a href="#lookup" class="hash-link" aria-label="Direct link to LOOKUP" title="Direct link to LOOKUP">​</a></h2><p>Searches for <code>expr</code> in a registered <a href="/docs/32.0.0/querying/lookups">query-time lookup table</a> named <code>lookupName</code> and returns the mapped value. If <code>expr</code> is null or not contained in the lookup, returns <code>defaultValue</code> if supplied, otherwise returns null.</p><ul><li><strong>Syntax:</strong> <code>LOOKUP(expr, lookupName[, defaultValue])</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example uses a <code>map</code> type lookup table named <code>code_to_name</code>, which contains the following key-value pairs:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;SJU&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Luis Munoz Marin International Airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;IAD&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Dulles International Airport&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The example uses <code>code_to_name</code> to map the <code>Origin</code> column from the <code>flight-carriers</code> datasource to the corresponding full airport name. Returns <code>key not found</code> if no matching key exists in the lookup table.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  LOOKUP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;code_to_name&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;key not found&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;full_airport_name&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_airport</code></th><th><code>full_airport_name</code></th></tr></thead><tbody><tr><td><code>SJU</code></td><td><code>Luis Munoz Marin International Airport</code></td></tr><tr><td><code>BOS</code></td><td><code>key not found</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lower">LOWER<a href="#lower" class="hash-link" aria-label="Direct link to LOWER" title="Direct link to LOWER">​</a></h2><p>Returns the expression in lowercase.</p><ul><li><strong>Syntax:</strong> <code>LOWER(expr)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example converts the <code>OriginCityName</code> column from the <code>flight-carriers</code> datasource to lowercase.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_city&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  LOWER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;lowercase&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_city</code></th><th><code>lowercase</code></th></tr></thead><tbody><tr><td><code>San Juan, PR</code></td><td><code>san juan, pr</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lpad">LPAD<a href="#lpad" class="hash-link" aria-label="Direct link to LPAD" title="Direct link to LPAD">​</a></h2><p>Returns a string of size <code>length</code> from <code>expr</code>. When the length of <code>expr</code> is less than <code>length</code>, left pads <code>expr</code> with <code>chars</code>, which defaults to the space character. Truncates <code>expr</code> to <code>length</code> if <code>length</code> is shorter than the length of <code>expr</code>.</p><ul><li><strong>Syntax:</strong> <code>LPAD(expr, length[, chars])</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example left pads the value of <code>OriginStateName</code> from the <code>flight-carriers</code> datasource to return a total of 11 characters.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginStateName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_state&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  LPAD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginStateName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">11</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;+&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;add_left_padding&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_state</code></th><th><code>add_left_padding</code></th></tr></thead><tbody><tr><td><code>Puerto Rico</code></td><td><code>Puerto Rico</code></td></tr><tr><td><code>Massachusetts</code></td><td><code>Massachuset</code></td></tr><tr><td><code>Florida</code></td><td><code>++++Florida</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ltrim">LTRIM<a href="#ltrim" class="hash-link" aria-label="Direct link to LTRIM" title="Direct link to LTRIM">​</a></h2><p>Trims characters from the leading end of an expression. Defaults <code>chars</code> to a space if none is provided.</p><ul><li><strong>Syntax:</strong> <code>LTRIM(expr[, chars])</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example trims the <code>_</code> characters from the leading end of the string expression.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;___abc___&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  LTRIM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;___abc___&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;_&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;trim_leading_end_of_expression&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_string</code></th><th><code>trim_leading_end_of_expression</code></th></tr></thead><tbody><tr><td><code>___abc___</code></td><td><code>abc___</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="max">MAX<a href="#max" class="hash-link" aria-label="Direct link to MAX" title="Direct link to MAX">​</a></h2><p>Returns the maximum value of a set of values.</p><ul><li><strong>Syntax</strong>: <code>MAX(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the maximum delay in minutes for an airline in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">MAX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> max_delay</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;AA&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>max_delay</code></th></tr></thead><tbody><tr><td><code>1210</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="millis_to_timestamp">MILLIS_TO_TIMESTAMP<a href="#millis_to_timestamp" class="hash-link" aria-label="Direct link to MILLIS_TO_TIMESTAMP" title="Direct link to MILLIS_TO_TIMESTAMP">​</a></h2><p>Converts a number of milliseconds since epoch into a timestamp.</p><ul><li><strong>Syntax:</strong> <code>MILLIS_TO_TIMESTAMP(millis_expr)</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example converts 1375344877000 milliseconds from epoch into a timestamp. </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> MILLIS_TO_TIMESTAMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1375344877000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;timestamp&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>timestamp</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="min">MIN<a href="#min" class="hash-link" aria-label="Direct link to MIN" title="Direct link to MIN">​</a></h2><p>Returns the minimum value of a set of values.</p><ul><li><strong>Syntax</strong>: <code>MIN(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the minimum delay in minutes for an airline in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">MIN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> min_delay</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;AA&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>min_delay</code></th></tr></thead><tbody><tr><td><code>0</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mod">MOD<a href="#mod" class="hash-link" aria-label="Direct link to MOD" title="Direct link to MOD">​</a></h2><p>Calculates x modulo y, or the remainder of x divided by y. Where x and y are numeric expressions.</p><ul><li><strong>Syntax:</strong> <code>MOD(x, y)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following calculates 78 MOD 10.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">MOD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">78</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modulo&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>modulo</code></th></tr></thead><tbody><tr><td><code>8</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_append">MV_APPEND<a href="#mv_append" class="hash-link" aria-label="Direct link to MV_APPEND" title="Direct link to MV_APPEND">​</a></h2><p>Adds the expression to the end of the array.</p><ul><li><strong>Syntax:</strong> <code>MV_APPEND(arr1, expr)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example appends the string <code>label</code> to the multi-value string <code>tags</code> from <code>mvd-example</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> MV_APPEND</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;label&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> append</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>append</code></th></tr></thead><tbody><tr><td><code>[&quot;t1&quot;,&quot;t2&quot;,&quot;t3&quot;,&quot;row1&quot;]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_concat">MV_CONCAT<a href="#mv_concat" class="hash-link" aria-label="Direct link to MV_CONCAT" title="Direct link to MV_CONCAT">​</a></h2><p>Concatenates two arrays.</p><ul><li><strong>Syntax:</strong> <code>MV_CONCAT(arr1, arr2)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example concatenates <code>tags</code> from <code>mvd-example</code> to itself:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> MV_CONCAT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> cat</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>cat</code></th></tr></thead><tbody><tr><td><code>[&quot;t1&quot;,&quot;t2&quot;,&quot;t3&quot;,&quot;t1&quot;,&quot;t2&quot;,&quot;t3&quot;]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_contains">MV_CONTAINS<a href="#mv_contains" class="hash-link" aria-label="Direct link to MV_CONTAINS" title="Direct link to MV_CONTAINS">​</a></h2><p>Returns true if the expression is in the array, false otherwise.</p><ul><li><strong>Syntax:</strong> <code>MV_CONTAINS(arr, expr)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example checks if the string <code>t3</code> exists within <code>tags</code> from <code>mvd-example</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> MV_CONTAINS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;t3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> contained</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>tags</code></th><th><code>contained</code></th></tr></thead><tbody><tr><td><code>[&quot;t1&quot;,&quot;t2&quot;,&quot;t3&quot;]</code></td><td><code>true</code></td></tr><tr><td><code>[&quot;t3&quot;,&quot;t4&quot;,&quot;t5&quot;]</code></td><td><code>true</code></td></tr><tr><td><code>[&quot;t5&quot;,&quot;t6&quot;,&quot;t7&quot;]</code></td><td><code>false</code></td></tr><tr><td><code>null</code></td><td><code>false</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_filter_none">MV_FILTER_NONE<a href="#mv_filter_none" class="hash-link" aria-label="Direct link to MV_FILTER_NONE" title="Direct link to MV_FILTER_NONE">​</a></h2><p>Filters a multi-value expression to exclude values from an array.</p><ul><li><strong>Syntax:</strong> <code>MV_FILTER_NONE(expr, arr)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example filters <code>tags</code> from <code>mvd-example</code> to remove values <code>t1</code> or <code>t3</code>, if present:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> MV_FILTER_NONE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;t1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;t3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> exclude</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>exclude</code></th></tr></thead><tbody><tr><td><code>t2</code></td></tr><tr><td><code>[&quot;t4&quot;, &quot;t5&quot;]</code></td></tr><tr><td><code>[&quot;t5&quot;,&quot;t6&quot;,&quot;t7&quot;]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_filter_only">MV_FILTER_ONLY<a href="#mv_filter_only" class="hash-link" aria-label="Direct link to MV_FILTER_ONLY" title="Direct link to MV_FILTER_ONLY">​</a></h2><p>Filters a multi-value expression to include only values contained in the array.</p><ul><li><strong>Syntax:</strong> <code>MV_FILTER_ONLY(expr, arr)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example filters <code>tags</code> from <code>mvd-example</code> to only contain the values <code>t1</code> or <code>t3</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> MV_FILTER_ONLY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;t1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;t3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> filt</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>filt</code></th></tr></thead><tbody><tr><td><code>[&quot;t1&quot;,&quot;t3&quot;]</code></td></tr><tr><td><code>t3</code></td></tr><tr><td>null</td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_length">MV_LENGTH<a href="#mv_length" class="hash-link" aria-label="Direct link to MV_LENGTH" title="Direct link to MV_LENGTH">​</a></h2><p>Returns the length of an array expression.</p><ul><li><strong>Syntax:</strong> <code>MV_LENGTH(arr)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the length of the <code>tags</code> multi-value strings from <code>mvd-example</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> MV_LENGTH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> len</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>len</code></th></tr></thead><tbody><tr><td><code>3</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_offset">MV_OFFSET<a href="#mv_offset" class="hash-link" aria-label="Direct link to MV_OFFSET" title="Direct link to MV_OFFSET">​</a></h2><p>Returns the array element at the given zero-based index.</p><ul><li><strong>Syntax:</strong> <code>MV_OFFSET(arr, long)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns <code>tags</code> and the element at the third position of <code>tags</code> in <code>mvd-example</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> MV_OFFSET</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> elem</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>tags</code></th><th><code>elem</code></th></tr></thead><tbody><tr><td><code>[&quot;t1&quot;,&quot;t2&quot;,&quot;t3&quot;]</code></td><td><code>t3</code></td></tr><tr><td><code>[&quot;t3&quot;,&quot;t4&quot;,&quot;t5&quot;]</code></td><td><code>t5</code></td></tr><tr><td><code>[&quot;t5&quot;,&quot;t6&quot;,&quot;t7&quot;]</code></td><td><code>t7</code></td></tr><tr><td><code>null</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_offset_of">MV_OFFSET_OF<a href="#mv_offset_of" class="hash-link" aria-label="Direct link to MV_OFFSET_OF" title="Direct link to MV_OFFSET_OF">​</a></h2><p>Returns the zero-based index of the first occurrence of a given expression in the array.</p><ul><li><strong>Syntax:</strong> <code>MV_OFFSET_OF(arr, expr)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns <code>tags</code> and the zero-based index of the string <code>t3</code> from <code>tags</code> in <code>mvd-example</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> MV_OFFSET_OF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;t3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">index</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>tags</code></th><th><code>index</code></th></tr></thead><tbody><tr><td><code>[&quot;t1&quot;,&quot;t2&quot;,&quot;t3&quot;]</code></td><td><code>2</code></td></tr><tr><td><code>[&quot;t3&quot;,&quot;t4&quot;,&quot;t5&quot;]</code></td><td><code>0</code></td></tr><tr><td><code>[&quot;t5&quot;,&quot;t6&quot;,&quot;t7&quot;]</code></td><td><code>null</code></td></tr><tr><td><code>null</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_ordinal">MV_ORDINAL<a href="#mv_ordinal" class="hash-link" aria-label="Direct link to MV_ORDINAL" title="Direct link to MV_ORDINAL">​</a></h2><p>Returns the array element at the given one-based index.</p><ul><li><strong>Syntax:</strong> <code>MV_ORDINAL(arr, long)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns <code>tags</code> and the element at the third position of <code>tags</code> in <code>mvd-example</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> MV_ORDINAL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> elem</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>tags</code></th><th><code>elem</code></th></tr></thead><tbody><tr><td><code>[&quot;t1&quot;,&quot;t2&quot;,&quot;t3&quot;]</code></td><td><code>t3</code></td></tr><tr><td><code>[&quot;t3&quot;,&quot;t4&quot;,&quot;t5&quot;]</code></td><td><code>t5</code></td></tr><tr><td><code>[&quot;t5&quot;,&quot;t6&quot;,&quot;t7&quot;]</code></td><td><code>t7</code></td></tr><tr><td><code>null</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_ordinal_of">MV_ORDINAL_OF<a href="#mv_ordinal_of" class="hash-link" aria-label="Direct link to MV_ORDINAL_OF" title="Direct link to MV_ORDINAL_OF">​</a></h2><p>Returns the one-based index of the first occurrence of a given expression.</p><ul><li><strong>Syntax:</strong> <code>MV_ORDINAL_OF(arr, expr)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns <code>tags</code> and the one-based index of the string <code>t3</code> from <code>tags</code> in <code>mvd-example</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> MV_ORDINAL_OF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;t3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">index</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>tags</code></th><th><code>index</code></th></tr></thead><tbody><tr><td><code>[&quot;t1&quot;,&quot;t2&quot;,&quot;t3&quot;]</code></td><td><code>3</code></td></tr><tr><td><code>[&quot;t3&quot;,&quot;t4&quot;,&quot;t5&quot;]</code></td><td><code>1</code></td></tr><tr><td><code>[&quot;t5&quot;,&quot;t6&quot;,&quot;t7&quot;]</code></td><td><code>null</code></td></tr><tr><td><code>null</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_overlap">MV_OVERLAP<a href="#mv_overlap" class="hash-link" aria-label="Direct link to MV_OVERLAP" title="Direct link to MV_OVERLAP">​</a></h2><p>Returns true if the two arrays have any elements in common, false otherwise.</p><ul><li><strong>Syntax:</strong> <code>MV_OVERLAP(arr1, arr2)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example identifies rows that contain <code>t1</code> or <code>t3</code> in <code>tags</code> from <code>mvd-example</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> MV_OVERLAP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;t1&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;t3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> overlap</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd_example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>tags</code></th><th><code>overlap</code></th></tr></thead><tbody><tr><td><code>[&quot;t1&quot;,&quot;t2&quot;,&quot;t3&quot;]</code></td><td><code>true</code></td></tr><tr><td><code>[&quot;t3&quot;,&quot;t4&quot;,&quot;t5&quot;]</code></td><td><code>true</code></td></tr><tr><td><code>[&quot;t5&quot;,&quot;t6&quot;,&quot;t7&quot;]</code></td><td><code>false</code></td></tr><tr><td><code>null</code></td><td><code>false</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_prepend">MV_PREPEND<a href="#mv_prepend" class="hash-link" aria-label="Direct link to MV_PREPEND" title="Direct link to MV_PREPEND">​</a></h2><p>Adds the expression to the beginning of the array.</p><ul><li><strong>Syntax:</strong> <code>MV_PREPEND(expr, arr)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example prepends the string dimension <code>label</code> to the multi-value string dimension <code>tags</code> from <code>mvd-example</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> MV_PREPEND</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;label&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> prepend</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>prepend</code></th></tr></thead><tbody><tr><td><code>[&quot;row1&quot;,&quot;t1&quot;,&quot;t2&quot;,&quot;t3&quot;]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_slice">MV_SLICE<a href="#mv_slice" class="hash-link" aria-label="Direct link to MV_SLICE" title="Direct link to MV_SLICE">​</a></h2><p>Returns a slice of the array from the zero-based start and end indexes.</p><ul><li><strong>Syntax:</strong> <code>MV_SLICE(arr, start, end)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns <code>tags</code> and the second and third values of <code>tags</code> from <code>mvd-example</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> MV_SLICE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tags</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> slice</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>tags</code></th><th><code>slice</code></th></tr></thead><tbody><tr><td><code>[&quot;t1&quot;&quot;,&quot;t2&quot;,&quot;t3&quot;]</code></td><td><code>[&quot;t2&quot;,&quot;t3&quot;]</code></td></tr><tr><td><code>[&quot;t3&quot;&quot;,&quot;t4&quot;,&quot;t5&quot;]</code></td><td><code>[&quot;t4&quot;,&quot;t5&quot;]</code></td></tr><tr><td><code>[&quot;t5&quot;&quot;,&quot;t6&quot;,&quot;t7&quot;]</code></td><td><code>[&quot;t6&quot;,&quot;t7&quot;]</code></td></tr><tr><td><code>null</code></td><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_to_array">MV_TO_ARRAY<a href="#mv_to_array" class="hash-link" aria-label="Direct link to MV_TO_ARRAY" title="Direct link to MV_TO_ARRAY">​</a></h2><p>Converts a multi-value string from a <code>VARCHAR</code> to a <code>VARCHAR ARRAY</code>.</p><ul><li><strong>Syntax:</strong> <code>MV_TO_ARRAY(str)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example transforms the <code>tags</code> column from <code>mvd-example</code> to arrays:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> MV_TO_ARRAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">tags</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> arr</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;mvd-example&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>arr</code></th></tr></thead><tbody><tr><td><code>[t1, t2, t3]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mv_to_string">MV_TO_STRING<a href="#mv_to_string" class="hash-link" aria-label="Direct link to MV_TO_STRING" title="Direct link to MV_TO_STRING">​</a></h2><p>Joins all elements of the array together by the given delimiter.</p><ul><li><strong>Syntax:</strong> <code>MV_TO_STRING(arr, str)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example transforms the <code>tags</code> column from <code>mvd-example</code> to strings delimited by a space character:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> MV_TO_STRING</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tags&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27; &#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> str</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> mvd</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">example</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>str</code></th></tr></thead><tbody><tr><td><code>t1 t2 t3</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ntile">NTILE<a href="#ntile" class="hash-link" aria-label="Direct link to NTILE" title="Direct link to NTILE">​</a></h2><p>Divides the rows within a window as evenly as possible into the number of tiles, also called buckets, and returns the value of the tile that the row falls into.</p><ul><li><strong>Syntax</strong>: <code>NTILE(tiles)</code></li><li><strong>Function type:</strong> Window</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the results for flights by airline from two airports on a single day divided into 3 tiles.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_flights&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    NTILE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ntile&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-11-01&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">AND</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;KOA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LIH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_day</code></th><th><code>airport</code></th><th><code>airline</code></th><th><code>lead</code></th><th><code>ntile</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>HA</code></td><td><code>11</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>UA</code></td><td><code>4</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>AA</code></td><td><code>1</code></td><td><code>2</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>NW</code></td><td><code>1</code></td><td><code>3</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>HA</code></td><td><code>15</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>AA</code></td><td><code>2</code></td><td><code>2</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>UA</code></td><td><code>2</code></td><td><code>3</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-window-functions#window-function-reference">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nullif">NULLIF<a href="#nullif" class="hash-link" aria-label="Direct link to NULLIF" title="Direct link to NULLIF">​</a></h2><p>Returns null if two values are equal, else returns the first value.</p><ul><li><strong>Syntax:</strong> <code>NULLIF(value1, value2)</code></li><li><strong>Function type:</strong> Scalar, other</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns null if the <code>OriginState</code> column from the <code>flight-carriers</code> datasource is <code>PR</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_state&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">NULLIF</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PR&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;remove_pr&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_state</code></th><th><code>remove_pr</code></th></tr></thead><tbody><tr><td><code>PR</code></td><td><code>null</code></td></tr><tr><td><code>MA</code></td><td><code>MA</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#other-scalar-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nvl">NVL<a href="#nvl" class="hash-link" aria-label="Direct link to NVL" title="Direct link to NVL">​</a></h2><p>Returns <code>value1</code> if <code>value1</code> is not null, otherwise returns <code>value2</code>.</p><ul><li><strong>Syntax:</strong> <code>NVL(value1, value1)</code></li><li><strong>Function type:</strong> Scalar, other</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example replaces each null value in the <code>Tail_Number</code> column of the <code>flight-carriers</code> datasource with the string &quot;No tail number.&quot;</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_column&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  NVL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;No tail number&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;remove_null&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;CT&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_column</code></th><th><code>remove_null</code></th></tr></thead><tbody><tr><td><code>N951DL</code></td><td><code>N951DL</code></td></tr><tr><td><code>null</code></td><td><code>No tail number</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#other-scalar-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="parse_json">PARSE_JSON<a href="#parse_json" class="hash-link" aria-label="Direct link to PARSE_JSON" title="Direct link to PARSE_JSON">​</a></h2><p>Parses an expression into a <code>COMPLEX&lt;json&gt;</code> object. </p><p>The function deserializes JSON values when processing them, translating stringified JSON into a nested structure.
If the input is invalid JSON or not a <code>VARCHAR</code>, it returns an error.</p><ul><li><strong>Syntax:</strong> <code>PARSE_JSON(expr)</code></li><li><strong>Function type:</strong> JSON</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example creates a <code>COMPLEX&lt;json&gt;</code> object <code>gus</code> from a string of fields:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  PARSE_JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;name&quot;:&quot;Gus&quot;,&quot;email&quot;:&quot;gus_cat@example.com&quot;,&quot;type&quot;:&quot;Pet&quot;}&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> gus</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>gus</code></th></tr></thead><tbody><tr><td><code>{&quot;name&quot;:&quot;Gus&quot;,&quot;email&quot;:&quot;gus_cat@example.com&quot;,&quot;type&quot;:&quot;Pet&quot;}</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-json-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="parse_long">PARSE_LONG<a href="#parse_long" class="hash-link" aria-label="Direct link to PARSE_LONG" title="Direct link to PARSE_LONG">​</a></h2><p>Converts a string into a long(BIGINT) with the given radix, or into DECIMAL(base 10) if a radix is not provided.</p><ul><li><strong>Syntax:</strong><code>PARSE_LONG(string[, radix])</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example converts the string representation of the binary, radix 2, number <code>1100</code> into its long (BIGINT) equivalent.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;1100&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;binary_as_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  PARSE_LONG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;1110&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bigint_value&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>binary_as_string</code></th><th><code>bigint_value</code></th></tr></thead><tbody><tr><td><code>1100</code></td><td><code>14</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="percent_rank">PERCENT_RANK<a href="#percent_rank" class="hash-link" aria-label="Direct link to PERCENT_RANK" title="Direct link to PERCENT_RANK">​</a></h2><p>Returns the relative rank of the row calculated as a percentage according to the formula: <code>RANK() OVER (window) / COUNT(1) OVER (window)</code>.</p><ul><li><strong>Syntax</strong>: <code>PERCENT_RANK()</code></li><li><strong>Function type:</strong> Window</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the percent rank within the window for flights by airline from two airports on a single day.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_flights&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    PERCENT_RANK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pct_rank&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-11-01&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">AND</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;KOA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LIH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_day</code></th><th><code>airport</code></th><th><code>airline</code></th><th><code>num_flights</code></th><th><code>pct_rank</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>HA</code></td><td><code>11</code></td><td><code>0</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>UA</code></td><td><code>4</code></td><td><code>0.3333333333333333</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>AA</code></td><td><code>1</code></td><td><code>0.6666666666666666</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>NW</code></td><td><code>1</code></td><td><code>0.6666666666666666</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>HA</code></td><td><code>15</code></td><td><code>0</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>AA</code></td><td><code>2</code></td><td><code>0.5</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>UA</code></td><td><code>2</code></td><td><code>0.5</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-window-functions#window-function-reference">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="position">POSITION<a href="#position" class="hash-link" aria-label="Direct link to POSITION" title="Direct link to POSITION">​</a></h2><p>Returns the one-based index position of a substring within an expression, optionally starting from a given one-based index. If <code>substring</code> is not found, returns 0.</p><ul><li><strong>Syntax</strong>: <code>POSITION(substring IN expr [FROM startingIndex])</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the one-based index of the substring <code>PR</code> in the <code>OriginCityName</code> column from the <code>flight-carriers</code> datasource starting from index 5.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_city&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  POSITION</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PR&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IN</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;index&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_city</code></th><th><code>index</code></th></tr></thead><tbody><tr><td><code>San Juan, PR</code></td><td><code>11</code></td></tr><tr><td><code>Boston, MA</code></td><td><code>0</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="power">POWER<a href="#power" class="hash-link" aria-label="Direct link to POWER" title="Direct link to POWER">​</a></h2><p>Calculates a numerical expression raised to the specified power.</p><ul><li><strong>Syntax:</strong> <code>POWER(base, exponent)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example raises 5 to the power of 2.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> POWER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;power&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>power</code></th></tr></thead><tbody><tr><td><code>25</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="radians">RADIANS<a href="#radians" class="hash-link" aria-label="Direct link to RADIANS" title="Direct link to RADIANS">​</a></h2><p>Converts an angle from degrees to radians.</p><ul><li><strong>Syntax:</strong> <code>RADIANS(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example converts an angle of <code>180</code> degrees to radians</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> RADIANS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">180</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;radians&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>radians</code></th></tr></thead><tbody><tr><td><code>3.141592653589793</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rank">RANK<a href="#rank" class="hash-link" aria-label="Direct link to RANK" title="Direct link to RANK">​</a></h2><p>Returns the rank with gaps for a row within a window. For example, if two rows tie for rank 1, the next rank is 3.</p><ul><li><strong>Syntax</strong>: <code>RANK()</code></li><li><strong>Function type:</strong> Window</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the rank within the window for flights by airline from two airports on a single day.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_flights&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    RANK</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;rank&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-11-01&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">AND</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;KOA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LIH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_day</code></th><th><code>airport</code></th><th><code>airline</code></th><th><code>num_flights</code></th><th><code>rank</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>HA</code></td><td><code>11</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>UA</code></td><td><code>4</code></td><td><code>2</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>AA</code></td><td><code>1</code></td><td><code>3</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>NW</code></td><td><code>1</code></td><td><code>3</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>HA</code></td><td><code>15</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>AA</code></td><td><code>2</code></td><td><code>2</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>UA</code></td><td><code>2</code></td><td><code>3</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-window-functions#window-function-reference">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="regexp_extract">REGEXP_EXTRACT<a href="#regexp_extract" class="hash-link" aria-label="Direct link to REGEXP_EXTRACT" title="Direct link to REGEXP_EXTRACT">​</a></h2><p>Apply regular expression <code>pattern</code> to <code>expr</code> and extract the Nth capture group. If <code>N</code> is unspecified or zero, returns the first substring that matches the pattern. Returns null if there is no matching pattern.</p><ul><li><strong>Syntax:</strong> <code>REGEXP_EXTRACT(expr, pattern[, N])</code></li><li><strong>Function type:</strong> Scalar, string </li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example uses regular expressions to find city names inside the <code>OriginCityName</code> column from the <code>flight-carriers</code> datasource by matching what comes before the comma.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_city&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  REGEXP_EXTRACT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;([^,]+)&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pattern_match&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_city</code></th><th><code>pattern_match</code></th></tr></thead><tbody><tr><td><code>San Juan, PR</code></td><td><code>San Juan</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="regexp_like">REGEXP_LIKE<a href="#regexp_like" class="hash-link" aria-label="Direct link to REGEXP_LIKE" title="Direct link to REGEXP_LIKE">​</a></h2><p>Returns <code>true</code> if the regular expression <code>pattern</code> finds a match in <code>expr</code>. Returns <code>false</code> otherwise.</p><ul><li><strong>Syntax:</strong> <code>REGEXP_LIKE(expr, pattern)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns <code>true</code> when the <code>OriginCityName</code> column from <code>flight-carriers</code> has a city name containing a space.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_city&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  REGEXP_LIKE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;[A-Za-z]+\s[A-Za-z]+&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pattern_found&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_city</code></th><th><code>pattern_found</code></th></tr></thead><tbody><tr><td><code>San Juan, PR</code></td><td><code>true</code></td></tr><tr><td><code>Boston, MA</code></td><td><code>false</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="regexp_replace">REGEXP_REPLACE<a href="#regexp_replace" class="hash-link" aria-label="Direct link to REGEXP_REPLACE" title="Direct link to REGEXP_REPLACE">​</a></h2><p>Replaces all occurrences of a regular expression in a string expression with a replacement string. Refer to capture groups in the replacement string using <code>$group</code> syntax. For example: <code>$1</code> or <code>$2</code>.</p><ul><li><strong>Syntax:</strong> <code>REGEXP_REPLACE(expr, pattern, replacement)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example matches three consecutive words, where each word is its own capture group, and replaces the matched words with the word in the second capture group punctuated with exclamation marks.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;foo bar baz&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  REGEXP_REPLACE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;foo bar baz&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;([A-Za-z]+) ([A-Za-z]+) ([A-Za-z]+)&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$2!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modified_string&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_string</code></th><th><code>modified_string</code></th></tr></thead><tbody><tr><td><code>foo bar baz</code></td><td><code>bar!</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="repeat">REPEAT<a href="#repeat" class="hash-link" aria-label="Direct link to REPEAT" title="Direct link to REPEAT">​</a></h2><p>Repeats the string expression <code>N</code> times, where <code>N</code> is an integer.</p><ul><li><strong>Syntax:</strong> <code>REPEAT(expr, N)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the string expression <code>abc</code> repeated <code>3</code> times.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;abc&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">REPEAT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;abc&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;with_repetition&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following: </p><table><thead><tr><th><code>original_string</code></th><th><code>with_repetition</code></th></tr></thead><tbody><tr><td><code>abc</code></td><td><code>abcabcabc</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="replace">REPLACE<a href="#replace" class="hash-link" aria-label="Direct link to REPLACE" title="Direct link to REPLACE">​</a></h2><p>Replaces instances of a substring with a replacement string in the given expression.</p><ul><li><strong>Syntax:</strong> <code>REPLACE(expr, substring, replacement)</code></li><li><strong>Function type:</strong> Scalar, string </li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example replaces instances of the substring <code>abc</code> with <code>XYZ</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;abc 123 abc 123&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token keyword" style="font-style:italic">REPLACE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;abc 123 abc 123&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;abc&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;XYZ&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;modified_string&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_string</code></th><th><code>modified_string</code></th></tr></thead><tbody><tr><td><code>abc 123 abc 123</code></td><td><code>XYZ 123 XYZ 123</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reverse">REVERSE<a href="#reverse" class="hash-link" aria-label="Direct link to REVERSE" title="Direct link to REVERSE">​</a></h2><p>Reverses the given expression.</p><ul><li><strong>Syntax:</strong> <code>REVERSE(expr)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example reverses the string expression <code>abc</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;abc&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  REVERSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;abc&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;reversal&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_string</code></th><th><code>reversal</code></th></tr></thead><tbody><tr><td><code>abc</code></td><td><code>cba</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="right">RIGHT<a href="#right" class="hash-link" aria-label="Direct link to RIGHT" title="Direct link to RIGHT">​</a></h2><p>Returns the <code>N</code> rightmost characters of an expression, where <code>N</code> is an integer value.</p><ul><li><strong>Syntax:</strong> <code>RIGHT(expr, N)</code></li><li><strong>Function type:</strong> Scalar, string </li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the <code>3</code> rightmost characters of the expression <code>ABCDEFG</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ABCDEFG&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;expression&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">RIGHT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ABCDEFG&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;rightmost_characters&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>expression</code></th><th><code>rightmost_characters</code></th></tr></thead><tbody><tr><td><code>ABCDEFG</code></td><td><code>EFG</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="round">ROUND<a href="#round" class="hash-link" aria-label="Direct link to ROUND" title="Direct link to ROUND">​</a></h2><p>Calculates the rounded value for a numerical expression.</p><ul><li><strong>Syntax:</strong> <code>ROUND(expr[, digits])</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following applies the ROUND function to 0 decimal points on the <code>pickup_longitude</code> column from the <code>taxi-trips</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pickup_longitude&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pickup_longitude&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">ROUND</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pickup_longitude&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;rounded_pickup_longitude&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pickup_longitude&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IS</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>pickup_longitude</code></th><th><code>rounded_pickup_longitude</code></th></tr></thead><tbody><tr><td><code>-73.9377670288086</code></td><td><code>-74</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="row_number">ROW_NUMBER<a href="#row_number" class="hash-link" aria-label="Direct link to ROW_NUMBER" title="Direct link to ROW_NUMBER">​</a></h2><p>Returns the number of the row within the window starting from 1.</p><ul><li><strong>Syntax</strong>: <code>ROW_NUMBER()</code></li><li><strong>Function type:</strong> Window</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the row number within the window for flights by airline from two airports on a single day.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_day&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;num_flights&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ROW_NUMBER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">ORDER</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">COUNT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DESC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;row_num&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TO</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">DAY</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2005-11-01&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token operator" style="color:rgb(137, 221, 255)">AND</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;KOA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LIH&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">GROUP</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_day</code></th><th><code>airport</code></th><th><code>airline</code></th><th><code>num_flights</code></th><th><code>row_num</code></th></tr></thead><tbody><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>HA</code></td><td><code>11</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>UA</code></td><td><code>4</code></td><td><code>2</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>AA</code></td><td><code>1</code></td><td><code>3</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>KOA</code></td><td><code>NW</code></td><td><code>1</code></td><td><code>4</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>HA</code></td><td><code>15</code></td><td><code>1</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>AA</code></td><td><code>2</code></td><td><code>2</code></td></tr><tr><td><code>2005-11-01T00:00:00.000Z</code></td><td><code>LIH</code></td><td><code>UA</code></td><td><code>2</code></td><td><code>3</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-window-functions#window-function-reference">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rpad">RPAD<a href="#rpad" class="hash-link" aria-label="Direct link to RPAD" title="Direct link to RPAD">​</a></h2><p>Returns a string of size <code>length</code> from <code>expr</code>. When the length of <code>expr</code> is less than <code>length</code>, right pads <code>expr</code> with <code>chars</code>, which defaults to the space character. Truncates <code>expr</code> to <code>length</code> if <code>length</code> is shorter than the length of <code>expr</code>.</p><ul><li><strong>Syntax:</strong> <code>RPAD(expr, length[, chars])</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example right pads the value of <code>OriginStateName</code> from the <code>flight-carriers</code> datasource to return a total of 11 characters.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginStateName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_state&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  RPAD</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginStateName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">11</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;+&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;add_right_padding&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_state</code></th><th><code>add_right_padding</code></th></tr></thead><tbody><tr><td><code>Puerto Rico</code></td><td><code>Puerto Rico</code></td></tr><tr><td><code>Massachusetts</code></td><td><code>Massachuset</code></td></tr><tr><td><code>Florida</code></td><td><code>Florida++++</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rtrim">RTRIM<a href="#rtrim" class="hash-link" aria-label="Direct link to RTRIM" title="Direct link to RTRIM">​</a></h2><p>Trims characters from the trailing end of an expression. Defaults <code>chars</code> to a space if none is provided.</p><ul><li><strong>Syntax:</strong> <code>RTRIM(expr[, chars])</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example trims the <code>_</code> characters from the trailing end of the string expression.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;___abc___&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  RTRIM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;___abc___&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;_&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;trim_end&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_string</code></th><th><code>trim_end</code></th></tr></thead><tbody><tr><td><code>___abc___</code></td><td><code>___abc</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="safe_divide">SAFE_DIVIDE<a href="#safe_divide" class="hash-link" aria-label="Direct link to SAFE_DIVIDE" title="Direct link to SAFE_DIVIDE">​</a></h2><p>Returns <code>x</code> divided by <code>y</code>, guarded on division by 0.</p><ul><li><strong>Syntax:</strong> <code>SAFE_DIVIDE(x, y)</code></li><li><strong>Function type:</strong> Scalar, numeric </li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates divisions of integer <code>78</code> by integer <code>10</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> SAFE_DIVIDE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">78</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;safe_division&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>safe_division</code></th></tr></thead><tbody><tr><td><code>7</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sin">SIN<a href="#sin" class="hash-link" aria-label="Direct link to SIN" title="Direct link to SIN">​</a></h2><p>Calculates the trigonometric sine of an angle expressed in radians.</p><ul><li><strong>Syntax:</strong> <code>SIN(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the sine of angle <code>PI/3</code> radians.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> SIN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">PI </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;sine&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>sine</code></th></tr></thead><tbody><tr><td><code>0.8660254037844386</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sqrt">SQRT<a href="#sqrt" class="hash-link" aria-label="Direct link to SQRT" title="Direct link to SQRT">​</a></h2><p>Calculates the square root of a numeric expression.</p><ul><li><strong>Syntax:</strong> <code>SQRT(&lt;NUMERIC&gt;)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the square root of 25.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> SQRT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;square_root&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>square_root</code></th></tr></thead><tbody><tr><td><code>5</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stddev">STDDEV<a href="#stddev" class="hash-link" aria-label="Direct link to STDDEV" title="Direct link to STDDEV">​</a></h2><p>Alias for <a href="#stddev_samp"><code>STDDEV_SAMP</code></a>.<br>
<!-- -->Requires the <a href="/docs/32.0.0/development/extensions-core/stats"><code>druid-stats</code> extension</a>.</p><ul><li><strong>Syntax</strong>: <code>STDDEV(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stddev_pop">STDDEV_POP<a href="#stddev_pop" class="hash-link" aria-label="Direct link to STDDEV_POP" title="Direct link to STDDEV_POP">​</a></h2><p>Calculates the population standard deviation of a set of values.<br>
<!-- -->Requires the <a href="/docs/32.0.0/development/extensions-core/stats"><code>druid-stats</code> extension</a>.</p><ul><li><strong>Syntax</strong>: <code>STDDEV_POP(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the population standard deviation for minutes of delay for an airline in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> STDDEV_POP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> sd_delay</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;AA&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>sd_delay</code></th></tr></thead><tbody><tr><td><code>27.083557</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="stddev_samp">STDDEV_SAMP<a href="#stddev_samp" class="hash-link" aria-label="Direct link to STDDEV_SAMP" title="Direct link to STDDEV_SAMP">​</a></h2><p>Calculates the sample standard deviation of a set of values.<br>
<!-- -->Requires the <a href="/docs/32.0.0/development/extensions-core/stats"><code>druid-stats</code> extension</a>.</p><ul><li><strong>Syntax</strong>: <code>STDDEV_SAMP(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the sample standard deviation for minutes of delay for an airline in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> STDDEV_SAMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> sd_delay</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;AA&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>sd_delay</code></th></tr></thead><tbody><tr><td><code>27.083811</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="string_agg">STRING_AGG<a href="#string_agg" class="hash-link" aria-label="Direct link to STRING_AGG" title="Direct link to STRING_AGG">​</a></h2><p>Collects all values of an expression into a single string.</p><ul><li><strong>Syntax</strong>: <code>STRING_AGG(expr, separator, [size])</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns all the distinct airlines from <code>flight-carriers</code> as a single space-delimited string:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  STRING_AGG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">DISTINCT</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27; &#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;AllCarriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>AllCarriers</code></th></tr></thead><tbody><tr><td><code>AA AS B6 CO DH DL EV F9 FL HA HP MQ NW OH OO TZ UA US WN XE</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="string_format">STRING_FORMAT<a href="#string_format" class="hash-link" aria-label="Direct link to STRING_FORMAT" title="Direct link to STRING_FORMAT">​</a></h2><p>Returns a string formatted in the manner of Java&#x27;s <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#format-java.lang.String-java.lang.Object...-" target="_blank" rel="noopener noreferrer">String.format</a>.</p><ul><li><strong>Syntax:</strong> <code>STRING_FORMAT(pattern[, args...])</code></li><li><strong>Function type:</strong> Scalar, string </li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example uses Java String format to pass in <code>Flight_Number_Reporting_Airline</code> and <code>origin_airport</code> columns, from the <code>flight-carriers</code> datasource, as arguments into the string. </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight_number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_airport&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  STRING_FORMAT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Flight No.%d departing from %s&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Flight_Number_Reporting_Airline&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Origin&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;departure_announcement&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>flight_number</code></th><th><code>origin_airport</code></th><th><code>departure_announcement</code></th></tr></thead><tbody><tr><td><code>314</code></td><td><code>SJU</code></td><td><code>Flight No.314 departing from SJU</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="string_to_array">STRING_TO_ARRAY<a href="#string_to_array" class="hash-link" aria-label="Direct link to STRING_TO_ARRAY" title="Direct link to STRING_TO_ARRAY">​</a></h2><p>Splits the string into an array of substrings using the specified delimiter. The delimiter must be a valid regular expression.</p><ul><li><strong>Syntax</strong>: <code>STRING_TO_ARRAY(string, delimiter)</code></li><li><strong>Function type:</strong> Array</li></ul><p><a href="/docs/32.0.0/querying/sql-array-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="string_to_mv">STRING_TO_MV<a href="#string_to_mv" class="hash-link" aria-label="Direct link to STRING_TO_MV" title="Direct link to STRING_TO_MV">​</a></h2><p>Splits <code>str1</code> into an multi-value string on the delimiter specified by <code>str2</code>, which is a regular expression.</p><ul><li><strong>Syntax:</strong> <code>STRING_TO_MV(str1, str2)</code></li><li><strong>Function type:</strong> Multi-value string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example splits a street address by whitespace characters:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> STRING_TO_MV</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;123 Rose Lane&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;\s+&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> mv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>mv</code></th></tr></thead><tbody><tr><td><code>[&quot;123&quot;,&quot;Rose&quot;,&quot;Lane&quot;]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-multivalue-string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="strlen">STRLEN<a href="#strlen" class="hash-link" aria-label="Direct link to STRLEN" title="Direct link to STRLEN">​</a></h2><p>Alias for <a href="#length"><code>LENGTH</code></a>.</p><ul><li><strong>Syntax:</strong> <code>STRLEN(expr)</code></li><li><strong>Function type:</strong> Scalar, string </li></ul><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="strpos">STRPOS<a href="#strpos" class="hash-link" aria-label="Direct link to STRPOS" title="Direct link to STRPOS">​</a></h2><p>Returns the one-based index position of a substring within an expression. If <code>substring</code> is not found, returns 0.</p><ul><li><strong>Syntax:</strong> <code>STRPOS(expr, substring)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns the one-based index position of <code>World</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Hello World!&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  STRPOS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Hello World!&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;World&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;index&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_string</code></th><th><code>index</code></th></tr></thead><tbody><tr><td><code>Hello World!</code></td><td><code>7</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="substr">SUBSTR<a href="#substr" class="hash-link" aria-label="Direct link to SUBSTR" title="Direct link to SUBSTR">​</a></h2><p>Alias for <a href="#substring"><code>SUBSTRING</code></a>.</p><ul><li><strong>Syntax:</strong> <code>SUBSTR(expr, index[, length])</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="substring">SUBSTRING<a href="#substring" class="hash-link" aria-label="Direct link to SUBSTRING" title="Direct link to SUBSTRING">​</a></h2><p>Returns a substring of the expression starting at a given one-based index. If <code>length</code> is omitted, extracts characters to the end of the string, otherwise returns a substring of <code>length</code> characters.</p><ul><li><strong>Syntax:</strong> <code>SUBSTRING(expr, index[, length])</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example extracts a substring from the string expression <code>abcdefghi</code> of length <code>3</code> starting at index <code>4</code></p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;abcdefghi&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  SUBSTRING</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;abcdefghi&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;substring&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_string</code></th><th><code>substring</code></th></tr></thead><tbody><tr><td><code>abcdefghi</code></td><td><code>def</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sum">SUM<a href="#sum" class="hash-link" aria-label="Direct link to SUM" title="Direct link to SUM">​</a></h2><p>Calculates the sum of a set of values.</p><ul><li><strong>Syntax</strong>: <code>SUM(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the total minutes of delay for an airline in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">SUM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> tot_delay</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;AA&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>tot_delay</code></th></tr></thead><tbody><tr><td><code>475735</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tan">TAN<a href="#tan" class="hash-link" aria-label="Direct link to TAN" title="Direct link to TAN">​</a></h2><p>Calculates the trigonometric tangent of an angle expressed in radians.</p><ul><li><strong>Syntax:</strong> <code>TAN(expr)</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the tangent of angle <code>PI/3</code> radians.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> TAN</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">PI </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tangent&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>tangent</code></th></tr></thead><tbody><tr><td><code>1.7320508075688767</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="textcat">TEXTCAT<a href="#textcat" class="hash-link" aria-label="Direct link to TEXTCAT" title="Direct link to TEXTCAT">​</a></h2><p>Concatenates two string expressions.</p><ul><li><strong>Syntax:</strong> <code>TEXTCAT(expr, expr)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example concatenates the <code>OriginState</code> column from the <code>flight-carriers</code> datasource to <code>, USA</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_state&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TEXTCAT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;, USA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;concatenate_state_with_USA&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_state</code></th><th><code>concatenate_state_with_USA</code></th></tr></thead><tbody><tr><td><code>PR</code></td><td><code>PR, USA</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="theta_sketch_estimate">THETA_SKETCH_ESTIMATE<a href="#theta_sketch_estimate" class="hash-link" aria-label="Direct link to THETA_SKETCH_ESTIMATE" title="Direct link to THETA_SKETCH_ESTIMATE">​</a></h2><p>Returns the distinct count estimate from a Theta sketch. The <code>expr</code> argument must return a Theta sketch.</p><ul><li><strong>Syntax:</strong> <code>THETA_SKETCH_ESTIMATE(expr)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example estimates the distinct number of tail numbers in the <code>Tail_Number</code> column of the <code>flight-carriers</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> THETA_SKETCH_ESTIMATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>estimate</code></th></tr></thead><tbody><tr><td><code>4667</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="theta_sketch_estimate_with_error_bounds">THETA_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS<a href="#theta_sketch_estimate_with_error_bounds" class="hash-link" aria-label="Direct link to THETA_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS" title="Direct link to THETA_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS">​</a></h2><p>Returns the distinct count estimate and error bounds from a Theta sketch. The <code>expr</code> argument must return a Theta sketch. Use <code>errorBoundsStdDev</code> to specify the number of standard error bound deviations.</p><ul><li><strong>Syntax:</strong> <code>THETA_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS(expr, errorBoundsStdDev)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Details</summary><div><div class="collapsibleContent_i85q"><p>The following example estimates the number of distinct tail numbers in the <code>Tail_Number</code> column of the <code>flight-carriers</code> datasource with error bounds at plus or minus one standard deviation.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> THETA_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4096</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_with_error&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>estimate_with_error</code></th></tr></thead><tbody><tr><td><code>{&quot;estimate&quot;:4691.201541339628,&quot;highBound&quot;:4718.4577807143205,&quot;lowBound&quot;:4664.093801991001,&quot;numStdDev&quot;:1}</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="theta_sketch_intersect">THETA_SKETCH_INTERSECT<a href="#theta_sketch_intersect" class="hash-link" aria-label="Direct link to THETA_SKETCH_INTERSECT" title="Direct link to THETA_SKETCH_INTERSECT">​</a></h2><p>Returns an intersection of Theta sketches. Each input expression must return a Theta sketch. See <a href="/docs/32.0.0/development/extensions-core/datasketches-theta#aggregator">DataSketches Theta Sketch module</a> for a description of optional parameters. </p><ul><li><strong>Syntax:</strong> <code>THETA_SKETCH_INTERSECT([size], expr0, expr1, ...)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example estimates the intersection of distinct tail numbers in the <code>flight-carriers</code> datasource for flights originating in CA, TX, and NY.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  THETA_SKETCH_ESTIMATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    THETA_SKETCH_INTERSECT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;CA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TX&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;NY&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_intersection&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>estimate_intersection</code></th></tr></thead><tbody><tr><td><code>1701</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="theta_sketch_not">THETA_SKETCH_NOT<a href="#theta_sketch_not" class="hash-link" aria-label="Direct link to THETA_SKETCH_NOT" title="Direct link to THETA_SKETCH_NOT">​</a></h2><p>Returns a set difference of Theta sketches. Each input expression must return a Theta sketch. See <a href="/docs/32.0.0/development/extensions-core/datasketches-theta#aggregator">DataSketches Theta Sketch module</a> for a description of optional parameters.</p><ul><li><strong>Syntax:</strong> <code>THETA_SKETCH_NOT([size], expr0, expr1, ...)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example estimates the number of distinct tail numbers in the <code>flight-carriers</code> datasource for flights not originating in CA, TX, or NY.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  THETA_SKETCH_ESTIMATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    THETA_SKETCH_NOT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;CA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TX&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;NY&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_not&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>estimate_not</code></th></tr></thead><tbody><tr><td><code>145</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="theta_sketch_union">THETA_SKETCH_UNION<a href="#theta_sketch_union" class="hash-link" aria-label="Direct link to THETA_SKETCH_UNION" title="Direct link to THETA_SKETCH_UNION">​</a></h2><p>Returns a union of Theta sketches. Each input expression must return a Theta sketch. See <a href="/docs/32.0.0/development/extensions-core/datasketches-theta#aggregator">DataSketches Theta Sketch module</a> for a description of optional parameters.</p><ul><li><strong>Syntax:</strong><code>THETA_SKETCH_UNION([size], expr0, expr1, ...)</code></li><li><strong>Function type:</strong> Scalar, sketch</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example estimates the number of distinct tail numbers that depart from CA, TX, or NY.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  THETA_SKETCH_ESTIMATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    THETA_SKETCH_UNION</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;CA&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;TX&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      DS_THETA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Tail_Number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> FILTER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginState&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;NY&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;estimate_union&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>estimate_union</code></th></tr></thead><tbody><tr><td><code>4522</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#sketch-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="time_ceil">TIME_CEIL<a href="#time_ceil" class="hash-link" aria-label="Direct link to TIME_CEIL" title="Direct link to TIME_CEIL">​</a></h2><p>Rounds up a timestamp to a given ISO 8601 time period. You can specify <code>origin</code> to provide a reference timestamp from which to start rounding. If provided, <code>timezone</code> should be a time zone name like <code>America/Los_Angeles</code> or an offset like <code>-08:00</code>.</p><ul><li><strong>Syntax:</strong> <code>TIME_CEIL(timestamp_expr, period[, origin[, timezone]])</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example rounds up the <code>__time</code> column from the <code>taxi-trips</code> datasource to the nearest 45th minute in reference to the timestamp <code>2013-08-01 08:0:00</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_timestamp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_CEIL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PT45M&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2013-08-01 08:0:00&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;time_ceiling&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_timestamp</code></th><th><code>time_ceiling</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>2013-08-01T08:45:00.000Z</code></td></tr><tr><td><code>2013-08-01T09:13:00.000Z</code></td><td><code>2013-08-01T09:30:00.000Z</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="time_extract">TIME_EXTRACT<a href="#time_extract" class="hash-link" aria-label="Direct link to TIME_EXTRACT" title="Direct link to TIME_EXTRACT">​</a></h2><p>Extracts the value of <code>unit</code> from the timestamp and returns it as a number. If provided, <code>timezone</code> should be a time zone name like <code>America/Los_Angeles</code> or an offset like <code>-08:00</code>.</p><ul><li><strong>Syntax:</strong> <code>TIME_EXTRACT(timestamp_expr[, unit[, timezone]])</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example extracts the hour from the <code>__time</code> column in the <code>taxi-trips</code> datasource and offsets its timezone by <code>-04:00</code> hours.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_timestamp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_EXTRACT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;hour&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;-04:00&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;extract_hour&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_timestamp</code></th><th><code>extract_hour</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>4</code></td></tr><tr><td><code>2013-08-01T09:13:00.000Z</code></td><td><code>5</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="time_floor">TIME_FLOOR<a href="#time_floor" class="hash-link" aria-label="Direct link to TIME_FLOOR" title="Direct link to TIME_FLOOR">​</a></h2><p>Rounds down a timestamp to a given ISO 8601 time period. You can specify <code>origin</code> to provide a reference timestamp from which to start rounding. If provided, <code>timezone</code> should be a time zone name like <code>America/Los_Angeles</code> or an offset like <code>-08:00</code>.</p><ul><li><strong>Syntax:</strong> <code>TIME_FLOOR(timestamp_expr, period[, origin[, timezone]])</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example rounds down the <code>__time</code> column from the <code>taxi-trips</code> datasource to the nearest 45th minute in reference to the timestamp <code>2013-08-01 08:0:00</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_timestamp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_FLOOR</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PT45M&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2013-08-01 08:0:00&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;time_floor&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_timestamp</code></th><th><code>time_floor</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>2013-08-01T08:00:00.000Z</code></td></tr><tr><td><code>2013-08-01T09:13:00.000Z</code></td><td><code>2013-08-01T08:45:00.000Z</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="time_format">TIME_FORMAT<a href="#time_format" class="hash-link" aria-label="Direct link to TIME_FORMAT" title="Direct link to TIME_FORMAT">​</a></h2><p>Formats a timestamp as a string in a provided <a href="http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html" target="_blank" rel="noopener noreferrer">Joda DateTimeFormat pattern</a>. If no pattern is provided, <code>pattern</code> defaults to ISO 8601. If provided, <code>timezone</code> should be a time zone name like <code>America/Los_Angeles</code> or an offset like <code>-08:00</code>.</p><ul><li><strong>Syntax:</strong> <code>TIME_FORMAT(timestamp_expr[, pattern[, timezone]])</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example formats the <code>__time</code> column from the <code>flight-carriers</code> datasource into a string format and offsets the result&#x27;s timezone by <code>-05:00</code> hours.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">TIME_FORMAT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;dd-MM-YYYY hh:mm aa zzz&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;-05:00&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;string&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_time</code></th><th><code>string</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>01-08-2013 03:14 AM -05:00</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="time_in_interval">TIME_IN_INTERVAL<a href="#time_in_interval" class="hash-link" aria-label="Direct link to TIME_IN_INTERVAL" title="Direct link to TIME_IN_INTERVAL">​</a></h2><p>Returns true if a timestamp is contained within a particular interval. Intervals must be formatted as a string literal containing any ISO 8601 interval. The start instant of an interval is inclusive, and the end instant is exclusive.</p><ul><li><strong>Syntax:</strong> <code>TIME_IN_INTERVAL(timestamp_expr, interval)</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example returns true when a timestamp in the <code>__time</code> column of the <code>taxi-trips</code> datasource is within a hour interval starting from <code>2013-08-01T08:00:00</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_IN_INTERVAL</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2013-08-01T08:00:00/PT1H&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;in_interval&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_time</code></th><th><code>in_interval</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>true</code></td></tr><tr><td><code>2013-08-01T09:13:00.000Z</code></td><td><code>false</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="time_parse">TIME_PARSE<a href="#time_parse" class="hash-link" aria-label="Direct link to TIME_PARSE" title="Direct link to TIME_PARSE">​</a></h2><p>Parses a string into a timestamp using a given <a href="http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html" target="_blank" rel="noopener noreferrer">Joda DateTimeFormat pattern</a>. If no pattern is provided, <code>pattern</code> defaults to ISO 8601. Returns NULL if string cannot be parsed. If provided, <code>timezone</code> should be a time zone name like <code>America/Los_Angeles</code> or an offset like <code>-08:00</code>.</p><ul><li><strong>Syntax:</strong> <code>TIME_PARSE(string_expr[, pattern[, timezone]])</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example parses the <code>FlightDate</code> STRING column from the <code>flight-carriers</code> datasource into a valid timestamp with an offset of <code>-05:00</code> hours.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;FlightDate&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_PARSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;FlightDate&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;YYYY-MM-dd&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;-05:00&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;timestamp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_string</code></th><th><code>timestamp</code></th></tr></thead><tbody><tr><td><code>2005-11-01</code></td><td><code>2005-11-01T05:00:00.000Z</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="time_shift">TIME_SHIFT<a href="#time_shift" class="hash-link" aria-label="Direct link to TIME_SHIFT" title="Direct link to TIME_SHIFT">​</a></h2><p>Shifts a timestamp by a given number of time units. The <code>period</code> parameter can be any ISO 8601 period. The <code>step</code> parameter can be negative. If provided, <code>timezone</code> should be a time zone name like <code>America/Los_Angeles</code> or an offset like <code>-08:00</code>.</p><ul><li><strong>Syntax:</strong> <code>TIME_SHIFT(timestamp_expr, period, step[, timezone])</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example shifts the <code>__time</code> column from the <code>taxi-trips</code> datasource back by 24 hours.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_timestamp&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIME_SHIFT</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;PT1H&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token number" style="color:rgb(247, 140, 108)">24</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;shift_back&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_timestamp</code></th><th><code>shift_back</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>2013-07-31T08:14:37.000Z</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="timestamp_to_millis">TIMESTAMP_TO_MILLIS<a href="#timestamp_to_millis" class="hash-link" aria-label="Direct link to TIMESTAMP_TO_MILLIS" title="Direct link to TIMESTAMP_TO_MILLIS">​</a></h2><p>Returns the number of milliseconds since epoch for the given timestamp.</p><ul><li><strong>Syntax:</strong> <code>TIMESTAMP_TO_MILLIS(timestamp_expr)</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example converts the <code>__time</code> column from the <code>taxi-trips</code> datasource into milliseconds since epoch.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIMESTAMP_TO_MILLIS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;miliseconds&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_time</code></th><th><code>miliseconds</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>1375344877000</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="timestampadd">TIMESTAMPADD<a href="#timestampadd" class="hash-link" aria-label="Direct link to TIMESTAMPADD" title="Direct link to TIMESTAMPADD">​</a></h2><p>Add a <code>unit</code> of time multiplied by <code>count</code> to <code>timestamp</code>.</p><ul><li><strong>Syntax:</strong> <code>TIMESTAMPADD(unit, count, timestamp)</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example adds five months to the timestamp <code>2000-01-01 00:00:00</code>.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2000-01-01 00:00:00&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIMESTAMPADD </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">MONTH</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">TIMESTAMP</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2000-01-01 00:00:00&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;new_time&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_time</code></th><th><code>new_time</code></th></tr></thead><tbody><tr><td><code>2000-01-01T00:00:00.000Z</code></td><td><code>2000-06-01T00:00:00.000Z</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="timestampdiff">TIMESTAMPDIFF<a href="#timestampdiff" class="hash-link" aria-label="Direct link to TIMESTAMPDIFF" title="Direct link to TIMESTAMPDIFF">​</a></h2><p>Returns the difference between two timestamps in a given unit.</p><ul><li><strong>Syntax:</strong> <code>TIMESTAMPDIFF(unit, timestamp1, timestamp2)</code></li><li><strong>Function type:</strong> Scalar, date and time</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the taxi trip length in minutes by subtracting the <code>__time</code> column from the <code>dropoff_datetime</code> column in the <code>taxi-trips</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pickup_time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dropoff_datetime&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dropoff_time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TIMESTAMPDIFF </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">MINUTE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> TIME_PARSE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dropoff_datetime&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;trip_length&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following: </p><table><thead><tr><th><code>pickup_time</code></th><th><code>dropoff_time</code></th><th><code>trip_length</code></th></tr></thead><tbody><tr><td><code>2013-08-01T08:14:37.000Z</code></td><td><code>2013-08-01 09:09:06</code></td><td><code>54</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#date-and-time-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="to_json_string">TO_JSON_STRING<a href="#to_json_string" class="hash-link" aria-label="Direct link to TO_JSON_STRING" title="Direct link to TO_JSON_STRING">​</a></h2><p>Serializes an expression into a JSON string.</p><ul><li><strong>Syntax:</strong> <code>TO_JSON_STRING(expr)</code></li><li><strong>Function type:</strong> JSON</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example writes the distinct column names in the <code>events</code> nested column to a JSON string:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TO_JSON_STRING</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ARRAY_CONCAT_AGG</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">DISTINCT</span><span class="token plain"> JSON_KEYS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;$.&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> json_string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;kttm_nested&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>json_string</code></th></tr></thead><tbody><tr><td><code>[&quot;error&quot;,&quot;layer&quot;,&quot;percentage&quot;,&quot;saveNumber&quot;,&quot;type&quot;,&quot;url&quot;,&quot;userAgent&quot;]</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-json-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="trim">TRIM<a href="#trim" class="hash-link" aria-label="Direct link to TRIM" title="Direct link to TRIM">​</a></h2><p>Trims the leading and/or trailing characters of an expression. Defaults <code>chars</code> to a space if none is provided. Defaults to <code>BOTH</code> if no directional argument is provided.</p><ul><li><strong>Syntax:</strong> <code>TRIM([BOTH|LEADING|TRAILING] [chars FROM] expr)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example trims <code>_</code> characters from both ends of the string expression.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;___abc___&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;original_string&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TRIM</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"> BOTH </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;_&#x27;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;___abc___&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;trim_expression&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>original_string</code></th><th><code>trim_expression</code></th></tr></thead><tbody><tr><td><code>___abc___</code></td><td><code>abc</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="trunc">TRUNC<a href="#trunc" class="hash-link" aria-label="Direct link to TRUNC" title="Direct link to TRUNC">​</a></h2><p>Alias for <a href="#truncate"><code>TRUNCATE</code></a>.</p><ul><li><strong>Syntax:</strong> <code>TRUNC(expr[, digits])</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="truncate">TRUNCATE<a href="#truncate" class="hash-link" aria-label="Direct link to TRUNCATE" title="Direct link to TRUNCATE">​</a></h2><p>Truncates a numerical expression to a specific number of decimal digits.</p><ul><li><strong>Syntax:</strong> <code>TRUNCATE(expr[, digits])</code></li><li><strong>Function type:</strong> Scalar, numeric</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following applies the TRUNCATE function to 1 decimal place on the <code>pickup_longitude</code> column from the <code>taxi-trips</code> datasource.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pickup_longitude&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pickup_longitude&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">TRUNCATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pickup_longitude&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;truncate_pickup_longitude&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;taxi-trips&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;pickup_longitude&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">IS</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">NOT</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>pickup_longitude</code></th><th><code>truncate_pickup_longitude</code></th></tr></thead><tbody><tr><td><code>-73.9377670288086</code></td><td><code>-73.9</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#numeric-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="try_parse_json">TRY_PARSE_JSON<a href="#try_parse_json" class="hash-link" aria-label="Direct link to TRY_PARSE_JSON" title="Direct link to TRY_PARSE_JSON">​</a></h2><p>Parses an expression into a <code>COMPLEX&lt;json&gt;</code> object.</p><p>This function deserializes JSON values when processing them, translating stringified JSON into a nested structure.
If the input is invalid JSON or not a <code>VARCHAR</code>, it returns a <code>NULL</code> value.</p><p>You can use this function instead of <a href="#parse_json">PARSE_JSON</a> to insert a null value when processing invalid data, instead of producing an error.</p><ul><li><strong>Syntax:</strong> <code>TRY_PARSE_JSON(expr)</code></li><li><strong>Function type:</strong> JSON</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example creates a <code>COMPLEX&lt;json&gt;</code> object <code>gus</code> from a string of fields:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TRY_PARSE_JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;name&quot;:&quot;Gus&quot;,&quot;email&quot;:&quot;gus_cat@example.com&quot;,&quot;type&quot;:&quot;Pet&quot;}&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> gus</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>gus</code></th></tr></thead><tbody><tr><td><code>{&quot;name&quot;:&quot;Gus&quot;,&quot;email&quot;:&quot;gus_cat@example.com&quot;,&quot;type&quot;:&quot;Pet&quot;}</code></td></tr></tbody></table><p>The following example contains invalid data <code>x:x</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  TRY_PARSE_JSON</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;{&quot;name&quot;:&quot;Gus&quot;,&quot;email&quot;:&quot;gus_cat@example.com&quot;,&quot;type&quot;:&quot;Pet&quot;,x:x}&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> gus</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>gus</code></th></tr></thead><tbody><tr><td><code>null</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-json-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="upper">UPPER<a href="#upper" class="hash-link" aria-label="Direct link to UPPER" title="Direct link to UPPER">​</a></h2><p>Returns the expression in uppercase.</p><ul><li><strong>Syntax:</strong> <code>UPPER(expr)</code></li><li><strong>Function type:</strong> Scalar, string</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example converts the <code>OriginCityName</code> column from the <code>flight-carriers</code> datasource to uppercase.</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;origin_city&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  UPPER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;OriginCityName&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;uppercase&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>origin_city</code></th><th><code>uppercase</code></th></tr></thead><tbody><tr><td><code>San Juan, PR</code></td><td><code>SAN JUAN, PR</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-scalar#string-functions">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="var_pop">VAR_POP<a href="#var_pop" class="hash-link" aria-label="Direct link to VAR_POP" title="Direct link to VAR_POP">​</a></h2><p>Calculates the population variance of a set of values.<br>
<!-- -->Requires the <a href="/docs/32.0.0/development/extensions-core/stats"><code>druid-stats</code> extension</a>.</p><ul><li><strong>Syntax</strong>: <code>VAR_POP(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the population variance for minutes of delay by a particular airlines in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> VAR_POP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> varpop_delay</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;AA&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>varpop_delay</code></th></tr></thead><tbody><tr><td><code>733.51908</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="var_samp">VAR_SAMP<a href="#var_samp" class="hash-link" aria-label="Direct link to VAR_SAMP" title="Direct link to VAR_SAMP">​</a></h2><p>Calculates the sample variance of a set of values.<br>
<!-- -->Requires the <a href="/docs/32.0.0/development/extensions-core/stats"><code>druid-stats</code> extension</a>.</p><ul><li><strong>Syntax</strong>: <code>VAR_SAMP(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example</summary><div><div class="collapsibleContent_i85q"><p>The following example calculates the sample variance for minutes of delay for an airline in <code>flight-carriers</code>:</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">SELECT</span><span class="token plain"> VAR_SAMP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DepDelayMinutes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> varsamp_delay</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;flight-carriers&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Reporting_Airline&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;AA&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Returns the following:</p><table><thead><tr><th><code>varsamp_delay</code></th></tr></thead><tbody><tr><td><code>733.53286</code></td></tr></tbody></table></div></div></details><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="variance">VARIANCE<a href="#variance" class="hash-link" aria-label="Direct link to VARIANCE" title="Direct link to VARIANCE">​</a></h2><p>Alias for <a href="#var_samp"><code>VAR_SAMP</code></a>.<br>
<!-- -->Requires the <a href="/docs/32.0.0/development/extensions-core/stats"><code>druid-stats</code> extension</a>.</p><ul><li><strong>Syntax</strong>: <code>VARIANCE(expr)</code></li><li><strong>Function type:</strong> Aggregation</li></ul><p><a href="/docs/32.0.0/querying/sql-aggregations">Learn more</a></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/32.0.0/querying/sql"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview and syntax</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/32.0.0/querying/tips-good-queries"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tips for writing good queries</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#example-data" class="table-of-contents__link toc-highlight">Example data</a></li><li><a href="#abs" class="table-of-contents__link toc-highlight">ABS</a></li><li><a href="#acos" class="table-of-contents__link toc-highlight">ACOS</a></li><li><a href="#any_value" class="table-of-contents__link toc-highlight">ANY_VALUE</a></li><li><a href="#approx_count_distinct" class="table-of-contents__link toc-highlight">APPROX_COUNT_DISTINCT</a></li><li><a href="#approx_count_distinct_builtin" class="table-of-contents__link toc-highlight">APPROX_COUNT_DISTINCT_BUILTIN</a></li><li><a href="#approx_count_distinct_ds_hll" class="table-of-contents__link toc-highlight">APPROX_COUNT_DISTINCT_DS_HLL</a></li><li><a href="#approx_count_distinct_ds_theta" class="table-of-contents__link toc-highlight">APPROX_COUNT_DISTINCT_DS_THETA</a></li><li><a href="#approx_quantile" class="table-of-contents__link toc-highlight">APPROX_QUANTILE</a></li><li><a href="#approx_quantile_ds" class="table-of-contents__link toc-highlight">APPROX_QUANTILE_DS</a></li><li><a href="#approx_quantile_fixed_buckets" class="table-of-contents__link toc-highlight">APPROX_QUANTILE_FIXED_BUCKETS</a></li><li><a href="#array" class="table-of-contents__link toc-highlight">ARRAY</a></li><li><a href="#array_agg" class="table-of-contents__link toc-highlight">ARRAY_AGG</a></li><li><a href="#array_append" class="table-of-contents__link toc-highlight">ARRAY_APPEND</a></li><li><a href="#array_concat" class="table-of-contents__link toc-highlight">ARRAY_CONCAT</a></li><li><a href="#array_concat_agg" class="table-of-contents__link toc-highlight">ARRAY_CONCAT_AGG</a></li><li><a href="#array_contains" class="table-of-contents__link toc-highlight">ARRAY_CONTAINS</a><ul><li><a href="#scalar" class="table-of-contents__link toc-highlight">Scalar</a></li><li><a href="#array-1" class="table-of-contents__link toc-highlight">Array</a></li></ul></li><li><a href="#array_length" class="table-of-contents__link toc-highlight">ARRAY_LENGTH</a></li><li><a href="#array_offset" class="table-of-contents__link toc-highlight">ARRAY_OFFSET</a></li><li><a href="#array_offset_of" class="table-of-contents__link toc-highlight">ARRAY_OFFSET_OF</a></li><li><a href="#array_ordinal" class="table-of-contents__link toc-highlight">ARRAY_ORDINAL</a></li><li><a href="#array_ordinal_of" class="table-of-contents__link toc-highlight">ARRAY_ORDINAL_OF</a></li><li><a href="#array_overlap" class="table-of-contents__link toc-highlight">ARRAY_OVERLAP</a></li><li><a href="#scalar_in_array" class="table-of-contents__link toc-highlight">SCALAR_IN_ARRAY</a></li><li><a href="#array_prepend" class="table-of-contents__link toc-highlight">ARRAY_PREPEND</a></li><li><a href="#array_slice" class="table-of-contents__link toc-highlight">ARRAY_SLICE</a></li><li><a href="#array_to_mv" class="table-of-contents__link toc-highlight">ARRAY_TO_MV</a></li><li><a href="#array_to_string" class="table-of-contents__link toc-highlight">ARRAY_TO_STRING</a></li><li><a href="#asin" class="table-of-contents__link toc-highlight">ASIN</a></li><li><a href="#atan" class="table-of-contents__link toc-highlight">ATAN</a></li><li><a href="#atan2" class="table-of-contents__link toc-highlight">ATAN2</a></li><li><a href="#avg" class="table-of-contents__link toc-highlight">AVG</a></li><li><a href="#bit_and" class="table-of-contents__link toc-highlight">BIT_AND</a></li><li><a href="#bit_or" class="table-of-contents__link toc-highlight">BIT_OR</a></li><li><a href="#bit_xor" class="table-of-contents__link toc-highlight">BIT_XOR</a></li><li><a href="#bitwise_and" class="table-of-contents__link toc-highlight">BITWISE_AND</a></li><li><a href="#bitwise_complement" class="table-of-contents__link toc-highlight">BITWISE_COMPLEMENT</a></li><li><a href="#bitwise_convert_double_to_long_bits" class="table-of-contents__link toc-highlight">BITWISE_CONVERT_DOUBLE_TO_LONG_BITS</a></li><li><a href="#bitwise_convert_long_bits_to_double" class="table-of-contents__link toc-highlight">BITWISE_CONVERT_LONG_BITS_TO_DOUBLE</a></li><li><a href="#bitwise_or" class="table-of-contents__link toc-highlight">BITWISE_OR</a></li><li><a href="#bitwise_shift_left" class="table-of-contents__link toc-highlight">BITWISE_SHIFT_LEFT</a></li><li><a href="#bitwise_shift_right" class="table-of-contents__link toc-highlight">BITWISE_SHIFT_RIGHT</a></li><li><a href="#bitwise_xor" class="table-of-contents__link toc-highlight">BITWISE_XOR</a></li><li><a href="#bloom_filter" class="table-of-contents__link toc-highlight">BLOOM_FILTER</a></li><li><a href="#bloom_filter_test" class="table-of-contents__link toc-highlight">BLOOM_FILTER_TEST</a></li><li><a href="#btrim" class="table-of-contents__link toc-highlight">BTRIM</a></li><li><a href="#case" class="table-of-contents__link toc-highlight">CASE</a><ul><li><a href="#simple-case" class="table-of-contents__link toc-highlight">Simple CASE</a></li><li><a href="#searched-case" class="table-of-contents__link toc-highlight">Searched CASE</a></li></ul></li><li><a href="#cast" class="table-of-contents__link toc-highlight">CAST</a></li><li><a href="#ceil" class="table-of-contents__link toc-highlight">CEIL</a><ul><li><a href="#date-and-time" class="table-of-contents__link toc-highlight">Date and time</a></li><li><a href="#numeric" class="table-of-contents__link toc-highlight">Numeric</a></li></ul></li><li><a href="#char_length" class="table-of-contents__link toc-highlight">CHAR_LENGTH</a></li><li><a href="#character_length" class="table-of-contents__link toc-highlight">CHARACTER_LENGTH</a></li><li><a href="#coalesce" class="table-of-contents__link toc-highlight">COALESCE</a></li><li><a href="#concat" class="table-of-contents__link toc-highlight">CONCAT</a></li><li><a href="#contains_string" class="table-of-contents__link toc-highlight">CONTAINS_STRING</a></li><li><a href="#cos" class="table-of-contents__link toc-highlight">COS</a></li><li><a href="#cot" class="table-of-contents__link toc-highlight">COT</a></li><li><a href="#count" class="table-of-contents__link toc-highlight">COUNT</a></li><li><a href="#cume_dist" class="table-of-contents__link toc-highlight">CUME_DIST</a></li><li><a href="#current_date" class="table-of-contents__link toc-highlight">CURRENT_DATE</a></li><li><a href="#current_timestamp" class="table-of-contents__link toc-highlight">CURRENT_TIMESTAMP</a></li><li><a href="#date_trunc" class="table-of-contents__link toc-highlight">DATE_TRUNC</a></li><li><a href="#decode_base64_complex" class="table-of-contents__link toc-highlight">DECODE_BASE64_COMPLEX</a></li><li><a href="#decode_base64_utf8" class="table-of-contents__link toc-highlight">DECODE_BASE64_UTF8</a></li><li><a href="#degrees" class="table-of-contents__link toc-highlight">DEGREES</a></li><li><a href="#dense_rank" class="table-of-contents__link toc-highlight">DENSE_RANK</a></li><li><a href="#div" class="table-of-contents__link toc-highlight">DIV</a></li><li><a href="#ds_cdf" class="table-of-contents__link toc-highlight">DS_CDF</a></li><li><a href="#ds_get_quantile" class="table-of-contents__link toc-highlight">DS_GET_QUANTILE</a></li><li><a href="#ds_get_quantiles" class="table-of-contents__link toc-highlight">DS_GET_QUANTILES</a></li><li><a href="#ds_histogram" class="table-of-contents__link toc-highlight">DS_HISTOGRAM</a></li><li><a href="#ds_hll" class="table-of-contents__link toc-highlight">DS_HLL</a></li><li><a href="#ds_quantile_summary" class="table-of-contents__link toc-highlight">DS_QUANTILE_SUMMARY</a></li><li><a href="#ds_quantiles_sketch" class="table-of-contents__link toc-highlight">DS_QUANTILES_SKETCH</a></li><li><a href="#ds_rank" class="table-of-contents__link toc-highlight">DS_RANK</a></li><li><a href="#ds_theta" class="table-of-contents__link toc-highlight">DS_THETA</a></li><li><a href="#ds_tuple_doubles" class="table-of-contents__link toc-highlight">DS_TUPLE_DOUBLES</a></li><li><a href="#ds_tuple_doubles_intersect" class="table-of-contents__link toc-highlight">DS_TUPLE_DOUBLES_INTERSECT</a></li><li><a href="#ds_tuple_doubles_metrics_sum_estimate" class="table-of-contents__link toc-highlight">DS_TUPLE_DOUBLES_METRICS_SUM_ESTIMATE</a></li><li><a href="#ds_tuple_doubles_not" class="table-of-contents__link toc-highlight">DS_TUPLE_DOUBLES_NOT</a></li><li><a href="#ds_tuple_doubles_union" class="table-of-contents__link toc-highlight">DS_TUPLE_DOUBLES_UNION</a></li><li><a href="#earliest" class="table-of-contents__link toc-highlight">EARLIEST</a></li><li><a href="#earliest_by" class="table-of-contents__link toc-highlight">EARLIEST_BY</a></li><li><a href="#exp" class="table-of-contents__link toc-highlight">EXP</a></li><li><a href="#extract" class="table-of-contents__link toc-highlight">EXTRACT</a></li><li><a href="#first_value" class="table-of-contents__link toc-highlight">FIRST_VALUE</a></li><li><a href="#floor" class="table-of-contents__link toc-highlight">FLOOR</a><ul><li><a href="#date-and-time-1" class="table-of-contents__link toc-highlight">Date and time</a></li><li><a href="#numeric-1" class="table-of-contents__link toc-highlight">Numeric</a></li></ul></li><li><a href="#greatest" class="table-of-contents__link toc-highlight">GREATEST</a></li><li><a href="#grouping" class="table-of-contents__link toc-highlight">GROUPING</a></li><li><a href="#hll_sketch_estimate" class="table-of-contents__link toc-highlight">HLL_SKETCH_ESTIMATE</a></li><li><a href="#hll_sketch_estimate_with_error_bounds" class="table-of-contents__link toc-highlight">HLL_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS</a></li><li><a href="#hll_sketch_to_string" class="table-of-contents__link toc-highlight">HLL_SKETCH_TO_STRING</a></li><li><a href="#hll_sketch_union" class="table-of-contents__link toc-highlight">HLL_SKETCH_UNION</a></li><li><a href="#human_readable_binary_byte_format" class="table-of-contents__link toc-highlight">HUMAN_READABLE_BINARY_BYTE_FORMAT</a></li><li><a href="#human_readable_decimal_byte_format" class="table-of-contents__link toc-highlight">HUMAN_READABLE_DECIMAL_BYTE_FORMAT</a></li><li><a href="#human_readable_decimal_format" class="table-of-contents__link toc-highlight">HUMAN_READABLE_DECIMAL_FORMAT</a></li><li><a href="#icontains_string" class="table-of-contents__link toc-highlight">ICONTAINS_STRING</a></li><li><a href="#ipv4_match" class="table-of-contents__link toc-highlight">IPV4_MATCH</a></li><li><a href="#ipv4_parse" class="table-of-contents__link toc-highlight">IPV4_PARSE</a></li><li><a href="#ipv4_stringify" class="table-of-contents__link toc-highlight">IPV4_STRINGIFY</a></li><li><a href="#ipv6_match" class="table-of-contents__link toc-highlight">IPV6_MATCH</a></li><li><a href="#json_keys" class="table-of-contents__link toc-highlight">JSON_KEYS</a></li><li><a href="#json_merge" class="table-of-contents__link toc-highlight">JSON_MERGE</a></li><li><a href="#json_object" class="table-of-contents__link toc-highlight">JSON_OBJECT</a></li><li><a href="#json_paths" class="table-of-contents__link toc-highlight">JSON_PATHS</a></li><li><a href="#json_query" class="table-of-contents__link toc-highlight">JSON_QUERY</a></li><li><a href="#json_query_array" class="table-of-contents__link toc-highlight">JSON_QUERY_ARRAY</a></li><li><a href="#json_value" class="table-of-contents__link toc-highlight">JSON_VALUE</a></li><li><a href="#lag" class="table-of-contents__link toc-highlight">LAG</a></li><li><a href="#last_value" class="table-of-contents__link toc-highlight">LAST_VALUE</a></li><li><a href="#latest" class="table-of-contents__link toc-highlight">LATEST</a></li><li><a href="#latest_by" class="table-of-contents__link toc-highlight">LATEST_BY</a></li><li><a href="#lead" class="table-of-contents__link toc-highlight">LEAD</a></li><li><a href="#least" class="table-of-contents__link toc-highlight">LEAST</a></li><li><a href="#left" class="table-of-contents__link toc-highlight">LEFT</a></li><li><a href="#length" class="table-of-contents__link toc-highlight">LENGTH</a></li><li><a href="#listagg" class="table-of-contents__link toc-highlight">LISTAGG</a></li><li><a href="#ln" class="table-of-contents__link toc-highlight">LN</a></li><li><a href="#log10" class="table-of-contents__link toc-highlight">LOG10</a></li><li><a href="#lookup" class="table-of-contents__link toc-highlight">LOOKUP</a></li><li><a href="#lower" class="table-of-contents__link toc-highlight">LOWER</a></li><li><a href="#lpad" class="table-of-contents__link toc-highlight">LPAD</a></li><li><a href="#ltrim" class="table-of-contents__link toc-highlight">LTRIM</a></li><li><a href="#max" class="table-of-contents__link toc-highlight">MAX</a></li><li><a href="#millis_to_timestamp" class="table-of-contents__link toc-highlight">MILLIS_TO_TIMESTAMP</a></li><li><a href="#min" class="table-of-contents__link toc-highlight">MIN</a></li><li><a href="#mod" class="table-of-contents__link toc-highlight">MOD</a></li><li><a href="#mv_append" class="table-of-contents__link toc-highlight">MV_APPEND</a></li><li><a href="#mv_concat" class="table-of-contents__link toc-highlight">MV_CONCAT</a></li><li><a href="#mv_contains" class="table-of-contents__link toc-highlight">MV_CONTAINS</a></li><li><a href="#mv_filter_none" class="table-of-contents__link toc-highlight">MV_FILTER_NONE</a></li><li><a href="#mv_filter_only" class="table-of-contents__link toc-highlight">MV_FILTER_ONLY</a></li><li><a href="#mv_length" class="table-of-contents__link toc-highlight">MV_LENGTH</a></li><li><a href="#mv_offset" class="table-of-contents__link toc-highlight">MV_OFFSET</a></li><li><a href="#mv_offset_of" class="table-of-contents__link toc-highlight">MV_OFFSET_OF</a></li><li><a href="#mv_ordinal" class="table-of-contents__link toc-highlight">MV_ORDINAL</a></li><li><a href="#mv_ordinal_of" class="table-of-contents__link toc-highlight">MV_ORDINAL_OF</a></li><li><a href="#mv_overlap" class="table-of-contents__link toc-highlight">MV_OVERLAP</a></li><li><a href="#mv_prepend" class="table-of-contents__link toc-highlight">MV_PREPEND</a></li><li><a href="#mv_slice" class="table-of-contents__link toc-highlight">MV_SLICE</a></li><li><a href="#mv_to_array" class="table-of-contents__link toc-highlight">MV_TO_ARRAY</a></li><li><a href="#mv_to_string" class="table-of-contents__link toc-highlight">MV_TO_STRING</a></li><li><a href="#ntile" class="table-of-contents__link toc-highlight">NTILE</a></li><li><a href="#nullif" class="table-of-contents__link toc-highlight">NULLIF</a></li><li><a href="#nvl" class="table-of-contents__link toc-highlight">NVL</a></li><li><a href="#parse_json" class="table-of-contents__link toc-highlight">PARSE_JSON</a></li><li><a href="#parse_long" class="table-of-contents__link toc-highlight">PARSE_LONG</a></li><li><a href="#percent_rank" class="table-of-contents__link toc-highlight">PERCENT_RANK</a></li><li><a href="#position" class="table-of-contents__link toc-highlight">POSITION</a></li><li><a href="#power" class="table-of-contents__link toc-highlight">POWER</a></li><li><a href="#radians" class="table-of-contents__link toc-highlight">RADIANS</a></li><li><a href="#rank" class="table-of-contents__link toc-highlight">RANK</a></li><li><a href="#regexp_extract" class="table-of-contents__link toc-highlight">REGEXP_EXTRACT</a></li><li><a href="#regexp_like" class="table-of-contents__link toc-highlight">REGEXP_LIKE</a></li><li><a href="#regexp_replace" class="table-of-contents__link toc-highlight">REGEXP_REPLACE</a></li><li><a href="#repeat" class="table-of-contents__link toc-highlight">REPEAT</a></li><li><a href="#replace" class="table-of-contents__link toc-highlight">REPLACE</a></li><li><a href="#reverse" class="table-of-contents__link toc-highlight">REVERSE</a></li><li><a href="#right" class="table-of-contents__link toc-highlight">RIGHT</a></li><li><a href="#round" class="table-of-contents__link toc-highlight">ROUND</a></li><li><a href="#row_number" class="table-of-contents__link toc-highlight">ROW_NUMBER</a></li><li><a href="#rpad" class="table-of-contents__link toc-highlight">RPAD</a></li><li><a href="#rtrim" class="table-of-contents__link toc-highlight">RTRIM</a></li><li><a href="#safe_divide" class="table-of-contents__link toc-highlight">SAFE_DIVIDE</a></li><li><a href="#sin" class="table-of-contents__link toc-highlight">SIN</a></li><li><a href="#sqrt" class="table-of-contents__link toc-highlight">SQRT</a></li><li><a href="#stddev" class="table-of-contents__link toc-highlight">STDDEV</a></li><li><a href="#stddev_pop" class="table-of-contents__link toc-highlight">STDDEV_POP</a></li><li><a href="#stddev_samp" class="table-of-contents__link toc-highlight">STDDEV_SAMP</a></li><li><a href="#string_agg" class="table-of-contents__link toc-highlight">STRING_AGG</a></li><li><a href="#string_format" class="table-of-contents__link toc-highlight">STRING_FORMAT</a></li><li><a href="#string_to_array" class="table-of-contents__link toc-highlight">STRING_TO_ARRAY</a></li><li><a href="#string_to_mv" class="table-of-contents__link toc-highlight">STRING_TO_MV</a></li><li><a href="#strlen" class="table-of-contents__link toc-highlight">STRLEN</a></li><li><a href="#strpos" class="table-of-contents__link toc-highlight">STRPOS</a></li><li><a href="#substr" class="table-of-contents__link toc-highlight">SUBSTR</a></li><li><a href="#substring" class="table-of-contents__link toc-highlight">SUBSTRING</a></li><li><a href="#sum" class="table-of-contents__link toc-highlight">SUM</a></li><li><a href="#tan" class="table-of-contents__link toc-highlight">TAN</a></li><li><a href="#textcat" class="table-of-contents__link toc-highlight">TEXTCAT</a></li><li><a href="#theta_sketch_estimate" class="table-of-contents__link toc-highlight">THETA_SKETCH_ESTIMATE</a></li><li><a href="#theta_sketch_estimate_with_error_bounds" class="table-of-contents__link toc-highlight">THETA_SKETCH_ESTIMATE_WITH_ERROR_BOUNDS</a></li><li><a href="#theta_sketch_intersect" class="table-of-contents__link toc-highlight">THETA_SKETCH_INTERSECT</a></li><li><a href="#theta_sketch_not" class="table-of-contents__link toc-highlight">THETA_SKETCH_NOT</a></li><li><a href="#theta_sketch_union" class="table-of-contents__link toc-highlight">THETA_SKETCH_UNION</a></li><li><a href="#time_ceil" class="table-of-contents__link toc-highlight">TIME_CEIL</a></li><li><a href="#time_extract" class="table-of-contents__link toc-highlight">TIME_EXTRACT</a></li><li><a href="#time_floor" class="table-of-contents__link toc-highlight">TIME_FLOOR</a></li><li><a href="#time_format" class="table-of-contents__link toc-highlight">TIME_FORMAT</a></li><li><a href="#time_in_interval" class="table-of-contents__link toc-highlight">TIME_IN_INTERVAL</a></li><li><a href="#time_parse" class="table-of-contents__link toc-highlight">TIME_PARSE</a></li><li><a href="#time_shift" class="table-of-contents__link toc-highlight">TIME_SHIFT</a></li><li><a href="#timestamp_to_millis" class="table-of-contents__link toc-highlight">TIMESTAMP_TO_MILLIS</a></li><li><a href="#timestampadd" class="table-of-contents__link toc-highlight">TIMESTAMPADD</a></li><li><a href="#timestampdiff" class="table-of-contents__link toc-highlight">TIMESTAMPDIFF</a></li><li><a href="#to_json_string" class="table-of-contents__link toc-highlight">TO_JSON_STRING</a></li><li><a href="#trim" class="table-of-contents__link toc-highlight">TRIM</a></li><li><a href="#trunc" class="table-of-contents__link toc-highlight">TRUNC</a></li><li><a href="#truncate" class="table-of-contents__link toc-highlight">TRUNCATE</a></li><li><a href="#try_parse_json" class="table-of-contents__link toc-highlight">TRY_PARSE_JSON</a></li><li><a href="#upper" class="table-of-contents__link toc-highlight">UPPER</a></li><li><a href="#var_pop" class="table-of-contents__link toc-highlight">VAR_POP</a></li><li><a href="#var_samp" class="table-of-contents__link toc-highlight">VAR_SAMP</a></li><li><a href="#variance" class="table-of-contents__link toc-highlight">VARIANCE</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/favicon.png" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/favicon.png" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2023 Apache Software Foundation. Except where otherwise noted, licensed under CC BY-SA 4.0. Apache Druid, Druid, and the Druid logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.63a57bcf.js"></script>
<script src="/assets/js/main.c23bb932.js"></script>
</body>
</html>