<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-release-info/release-notes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Release notes | Apache® Druid</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://druid.apache.org/img/druid_nav.png"><meta data-rh="true" name="twitter:image" content="https://druid.apache.org/img/druid_nav.png"><meta data-rh="true" property="og:url" content="https://druid.apache.org/docs/32.0.0/release-info/release-notes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Release notes | Apache® Druid"><meta data-rh="true" name="description" content="&lt;!--"><meta data-rh="true" property="og:description" content="&lt;!--"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://druid.apache.org/docs/32.0.0/release-info/release-notes"><link data-rh="true" rel="alternate" href="https://druid.apache.org/docs/32.0.0/release-info/release-notes" hreflang="en"><link data-rh="true" rel="alternate" href="https://druid.apache.org/docs/32.0.0/release-info/release-notes" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131010415-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-131010415-1",{})</script>





<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script><link rel="stylesheet" href="/assets/css/styles.60a7f877.css">
<link rel="preload" href="/assets/js/runtime~main.0f5b2219.js" as="script">
<link rel="preload" href="/assets/js/main.df9876b5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/druid_nav.png" alt="Apache® Druid" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/druid_nav.png" alt="Apache® Druid" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/technology">Technology</a><a class="navbar__item navbar__link" href="/use-cases">Use Cases</a><a class="navbar__item navbar__link" href="/druid-powered">Powered By</a><a class="navbar__item navbar__link" href="/docs/32.0.0/design/">Docs</a><a class="navbar__item navbar__link" href="/community/">Community</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Apache®</a><ul class="dropdown__menu"><li><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Foundation<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://apachecon.com/?ref=druid.apache.org" target="_blank" rel="noopener noreferrer" class="dropdown__link">Events<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="dropdown__link">License<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Thanks<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Security<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sponsorship<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a class="navbar__item navbar__link" href="/downloads/">Download</a><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/32.0.0/design/">Introduction to Apache Druid</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/tutorials/">Getting started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/32.0.0/design/architecture">Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/ingestion/">Ingestion</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ingestion&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/data-management/">Data management</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/32.0.0/querying/sql">Querying</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/api-reference/">API reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;API reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/configuration/">Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/32.0.0/api-reference/automatic-compaction-api">Operations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/32.0.0/development/overview">Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/32.0.0/release-info/release-notes">Release info</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/32.0.0/release-info/release-notes">Release notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/32.0.0/release-info/upgrade-notes">Upgrade notes</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/32.0.0/release-info/migration-guide">Migration guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Migration guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/32.0.0/misc/papers-and-talks">Papers</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Release info</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Release notes</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Release notes</h1></header><p>Apache Druid 32.0.0 contains over 220 new features, bug fixes, performance enhancements, documentation improvements, and additional test coverage from 52 contributors.</p><p>See the <a href="https://github.com/apache/druid/issues?q=is%3Aclosed+milestone%3A32.0.0+sort%3Aupdated-desc+" target="_blank" rel="noopener noreferrer">complete set of changes</a> for additional details, including bug fixes.</p><p>Review the <a href="#upgrade-notes">upgrade notes</a> and <a href="#incompatible-changes">incompatible changes</a> before you upgrade to Druid 32.0.0.
If you are upgrading across multiple versions, see the <a href="/docs/32.0.0/release-info/upgrade-notes">Upgrade notes</a> page, which lists upgrade notes for the most recent Druid versions.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="important-features">Important features<a href="#important-features" class="hash-link" aria-label="Direct link to Important features" title="Direct link to Important features">​</a></h2><p>This section contains important information about new and existing features.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-overlord-apis">New Overlord APIs<a href="#new-overlord-apis" class="hash-link" aria-label="Direct link to New Overlord APIs" title="Direct link to New Overlord APIs">​</a></h3><p>APIs for marking segments as used or unused have been moved from the Coordinator to the Overlord service:</p><ul><li><p>Mark all segments of a datasource as unused:
<code>POST /druid/indexer/v1/datasources/{dataSourceName}</code></p></li><li><p>Mark all (non-overshadowed) segments of a datasource as used:
<code>DELETE /druid/indexer/v1/datasources/{dataSourceName}</code></p></li><li><p>Mark multiple segments as used
<code>POST /druid/indexer/v1/datasources/{dataSourceName}/markUsed</code></p></li><li><p>Mark multiple (non-overshadowed) segments as unused
<code>POST /druid/indexer/v1/datasources/{dataSourceName}/markUnused</code></p></li><li><p>Mark a single segment as used:
<code>POST /druid/indexer/v1/datasources/{dataSourceName}/segments/{segmentId}</code></p></li><li><p>Mark a single segment as unused:
<code>DELETE /druid/indexer/v1/datasources/{dataSourceName}/segments/{segmentId}</code></p></li></ul><p>As part of this change, the corresponding Coordinator APIs have been deprecated and will be removed in a future release:</p><ul><li><code>POST /druid/coordinator/v1/datasources/{dataSourceName}</code></li><li><code>POST /druid/coordinator/v1/datasources/{dataSourceName}/markUsed</code></li><li><code>POST /druid/coordinator/v1/datasources/{dataSourceName}/markUnused</code></li><li><code>POST /druid/coordinator/v1/datasources/{dataSourceName}/segments/{segmentId}</code></li><li><code>DELETE /druid/coordinator/v1/datasources/{dataSourceName}/segments/{segmentId}</code></li><li><code>DELETE /druid/coordinator/v1/datasources/{dataSourceName}</code></li></ul><p>The Coordinator now calls the Overlord to serve these requests.</p><p><a href="https://github.com/apache/druid/pull/17545" target="_blank" rel="noopener noreferrer">#17545</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="realtime-query-processing-for-multi-value-strings">Realtime query processing for multi-value strings<a href="#realtime-query-processing-for-multi-value-strings" class="hash-link" aria-label="Direct link to Realtime query processing for multi-value strings" title="Direct link to Realtime query processing for multi-value strings">​</a></h3><p>Realtime query processing no longer considers all strings as multi-value strings during expression processing, fixing a number of bugs and unexpected failures. This should also improve realtime query performance of expressions on string columns.</p><p>This change impacts topN queries for realtime segments where rows of data are implicitly null, such as from a property missing from a JSON object.</p><p>Before this change, these were handled as [] instead of null, leading to inconsistency between processing realtime segments and published segments. When processing segments, the value was treated as [], which topN ignores. After publishing, the value became null, which topN does not ignore. The same query could have different results before and after being persisted</p><p>After this change, the topN engine now treats [] as null when processing realtime segments, which is consistent with published segments.</p><p>This change doesn&#x27;t impact actual multi-value string columns, regardless of if they&#x27;re realtime. </p><p><a href="https://github.com/apache/druid/pull/17386" target="_blank" rel="noopener noreferrer">#17386</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="join-hints-in-msq-task-engine-queries">Join hints in MSQ task engine queries<a href="#join-hints-in-msq-task-engine-queries" class="hash-link" aria-label="Direct link to Join hints in MSQ task engine queries" title="Direct link to Join hints in MSQ task engine queries">​</a></h3><p>Druid now supports hints for SQL JOIN queries that use the MSQ task engine. This allows queries to provide hints for the JOIN type that should be used at a per join level. Join hints recursively affect sub queries.</p><p><a href="https://github.com/apache/druid/pull/17541" target="_blank" rel="noopener noreferrer">#17541</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="changes-and-deprecations">Changes and deprecations<a href="#changes-and-deprecations" class="hash-link" aria-label="Direct link to Changes and deprecations" title="Direct link to Changes and deprecations">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ansi-sql-compatibility-and-query-results">ANSI-SQL compatibility and query results<a href="#ansi-sql-compatibility-and-query-results" class="hash-link" aria-label="Direct link to ANSI-SQL compatibility and query results" title="Direct link to ANSI-SQL compatibility and query results">​</a></h3><p>Support for the configs that let you maintain older behavior that wasn&#x27;t ANSI-SQL compliant have been removed:</p><ul><li><code>druid.generic.useDefaultValueForNull=true</code></li><li><code>druid.expressions.useStrictBooleans=false</code></li><li><code>druid.generic.useThreeValueLogicForNativeFilters=false</code> </li></ul><p>They no longer affect your query results. Only SQL-compliant non-legacy behavior is supported now. </p><p>If the configs are set to the legacy behavior, Druid services will fail to start. </p><p>If you want to continue to get the same results without these settings, you must update your queries or your results will be incorrect after you upgrade.</p><p>For more information about how to update your queries, see the <a href="https://druid.apache.org/docs/latest/release-info/migr-ansi-sql-null" target="_blank" rel="noopener noreferrer">migration guide</a>.</p><p><a href="https://github.com/apache/druid/pull/17568" target="_blank" rel="noopener noreferrer">#17568</a> <a href="https://github.com/apache/druid/pull/17609" target="_blank" rel="noopener noreferrer">#17609</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="java-support">Java support<a href="#java-support" class="hash-link" aria-label="Direct link to Java support" title="Direct link to Java support">​</a></h3><p>Java support in Druid has been updated:</p><ul><li>Java 8 support has been removed</li><li>Java 11 support is deprecated</li></ul><p>We recommend that you upgrade to Java 17.</p><p><a href="https://github.com/apache/druid/pull/17466" target="_blank" rel="noopener noreferrer">#17466</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hadoop-based-ingestion">Hadoop-based ingestion<a href="#hadoop-based-ingestion" class="hash-link" aria-label="Direct link to Hadoop-based ingestion" title="Direct link to Hadoop-based ingestion">​</a></h3><p>Hadoop-based ingestion is now deprecated. We recommend that you migrate to SQL-based ingestion. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="join-hints-in-msq-task-engine-queries-1">Join hints in MSQ task engine queries<a href="#join-hints-in-msq-task-engine-queries-1" class="hash-link" aria-label="Direct link to Join hints in MSQ task engine queries" title="Direct link to Join hints in MSQ task engine queries">​</a></h3><p>Druid now supports hints for SQL JOIN queries that use the MSQ task engine. This allows queries to provide hints for the JOIN type that should be used at a per join level. Join hints recursively affect sub queries. </p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">select</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*+ sort_merge */</span><span class="token plain"> w1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cityName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> w2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">countryName</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">select</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/*+ broadcast */</span><span class="token plain"> w3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cityName </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> cityName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> w4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">countryName </span><span class="token keyword" style="font-style:italic">AS</span><span class="token plain"> countryName </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> wikipedia w3 </span><span class="token keyword" style="font-style:italic">LEFT</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">JOIN</span><span class="token plain"> wikipedia</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">set2 w4 </span><span class="token keyword" style="font-style:italic">ON</span><span class="token plain"> w3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">regionName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> w4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">regionName</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> w1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">JOIN</span><span class="token plain"> wikipedia</span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain">set1 w2 </span><span class="token keyword" style="font-style:italic">ON</span><span class="token plain"> w1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cityName </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> w2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cityName</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">where</span><span class="token plain"> w1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">cityName</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;New York&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>(#17406)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="functional-area-and-related-changes">Functional area and related changes<a href="#functional-area-and-related-changes" class="hash-link" aria-label="Direct link to Functional area and related changes" title="Direct link to Functional area and related changes">​</a></h2><p>This section contains detailed release notes separated by areas.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="web-console">Web console<a href="#web-console" class="hash-link" aria-label="Direct link to Web console" title="Direct link to Web console">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="explore-view-experimental">Explore view (experimental)<a href="#explore-view-experimental" class="hash-link" aria-label="Direct link to Explore view (experimental)" title="Direct link to Explore view (experimental)">​</a></h4><p>Several improvements have been made to the Explore view in the web console:</p><p>The time chart visualization now supports zooming, dragging, and is smarter about granularity detection:
<img loading="lazy" src="/assets/images/explore_timechart-93c00f8908a04935bb52a8b23f67a1e5.png" width="2500" height="1280" class="img_ev3q"></p><p>Filters been improved with helper tables and additional context:
<img loading="lazy" src="/assets/images/explore_filtering-ec0a2c5f708e46e61ee9dcec4c455a17.png" width="2500" height="1280" class="img_ev3q"></p><p>Tiles can now be shown side-by-side:
<img loading="lazy" src="/assets/images/explore_tiles-647765675fbfa5e594dd209756920a34.png" width="2500" height="1280" class="img_ev3q"></p><p><a href="https://github.com/apache/druid/pull/17627" target="_blank" rel="noopener noreferrer">#17627</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="segment-timeline-view">Segment timeline view<a href="#segment-timeline-view" class="hash-link" aria-label="Direct link to Segment timeline view" title="Direct link to Segment timeline view">​</a></h4><p>The segment timeline is now more interactive and no longer forces day granularity.</p><p><strong>New view</strong>
<img loading="lazy" src="/assets/images/webconsole_segment_timeline2-ba87abc00d476068665e74186503e0f6.png" width="2976" height="950" class="img_ev3q"></p><p><strong>Old view:</strong>
<img loading="lazy" src="/assets/images/webconsole_segmenttimeline1-5bded1c8212a6f8de7f6ae91e7e6cc56.png" width="2976" height="938" class="img_ev3q"></p><p><a href="https://github.com/apache/druid/pull/17521" target="_blank" rel="noopener noreferrer">#17521</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="other-web-console-improvements">Other web console improvements<a href="#other-web-console-improvements" class="hash-link" aria-label="Direct link to Other web console improvements" title="Direct link to Other web console improvements">​</a></h4><ul><li>The timezone picker now always shows your timezone <a href="https://github.com/apache/druid/pull/17521" target="_blank" rel="noopener noreferrer">#17521</a></li><li>UNNEST is now supported for autocomplete suggestions <a href="https://github.com/apache/druid/pull/17521" target="_blank" rel="noopener noreferrer">#17521</a></li><li>Tables now support less than and greater than filters <a href="https://github.com/apache/druid/pull/17521" target="_blank" rel="noopener noreferrer">#17521</a></li><li>You can now resize the side panels in the Query view <a href="https://github.com/apache/druid/pull/17387" target="_blank" rel="noopener noreferrer">#17387</a></li><li>Added the <code>expectedLoadTimeMillis</code> segment loading metric to the web console <a href="https://github.com/apache/druid/pull/17359" target="_blank" rel="noopener noreferrer">#17359</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ingestion">Ingestion<a href="#ingestion" class="hash-link" aria-label="Direct link to Ingestion" title="Direct link to Ingestion">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="numbers-for-csv-and-tsv-input-formats">Numbers for CSV and TSV input formats<a href="#numbers-for-csv-and-tsv-input-formats" class="hash-link" aria-label="Direct link to Numbers for CSV and TSV input formats" title="Direct link to Numbers for CSV and TSV input formats">​</a></h4><p>Use the new optional config <code>tryParseNumbers</code> for CSV and TSV input formats to control how numbers are treated. If enabled, any numbers present in the input will be parsed in the following manner:</p><ul><li>long data type for integer types and </li><li>double for floating-point numbers</li></ul><p>By default, this configuration is set to false, so numeric strings will be treated as strings.</p><p><a href="https://github.com/apache/druid/pull/17082" target="_blank" rel="noopener noreferrer">#17082</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="other-ingestion-improvements">Other ingestion improvements<a href="#other-ingestion-improvements" class="hash-link" aria-label="Direct link to Other ingestion improvements" title="Direct link to Other ingestion improvements">​</a></h4><ul><li>Reduce the direct memory requirement on non-query processing tasks by not reserving query buffers for them <a href="https://github.com/apache/druid/pull/16887" target="_blank" rel="noopener noreferrer">#16887</a></li><li>JSON-based and SQL-based ingestion now support request headers when using an HTTP input source <a href="https://github.com/apache/druid/pull/16974" target="_blank" rel="noopener noreferrer">#16974</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sql-based-ingestion">SQL-based ingestion<a href="#sql-based-ingestion" class="hash-link" aria-label="Direct link to SQL-based ingestion" title="Direct link to SQL-based ingestion">​</a></h4><ul><li>SQL-based ingestion now supports dynamic parameters for queries besides SELECT queries, such as REPLACE <a href="https://github.com/apache/druid/pull/17126" target="_blank" rel="noopener noreferrer">#17126</a></li><li>Improved thread names to include the stage ID and worker number to help with troubleshooting <a href="https://github.com/apache/druid/pull/17324" target="_blank" rel="noopener noreferrer">#17324</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="streaming-ingestion">Streaming ingestion<a href="#streaming-ingestion" class="hash-link" aria-label="Direct link to Streaming ingestion" title="Direct link to Streaming ingestion">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="control-how-many-segments-get-merged-for-publishing">Control how many segments get merged for publishing<a href="#control-how-many-segments-get-merged-for-publishing" class="hash-link" aria-label="Direct link to Control how many segments get merged for publishing" title="Direct link to Control how many segments get merged for publishing">​</a></h5><p>You can now use the <code>maxColumnsToMerge</code> property in your supervisor spec to specify the number of segments to merge in a single phase when merging segments for publishing. This limit affects the total number of columns present in a set of segments to merge. If the limit is exceeded, segment merging occurs in multiple phases. Druid merges at least 2 segments each phase, regardless of this setting.</p><p><a href="https://github.com/apache/druid/pull/17030" target="_blank" rel="noopener noreferrer">#17030</a></p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="other-streaming-ingestion-improvements">Other streaming ingestion improvements<a href="#other-streaming-ingestion-improvements" class="hash-link" aria-label="Direct link to Other streaming ingestion improvements" title="Direct link to Other streaming ingestion improvements">​</a></h5><ul><li>Druid now fully supports early/late rejection periods when <code>stopTasksCount</code> is configured and streaming tasks run longer than the configured task duration <a href="https://github.com/apache/druid/pull/17442" target="_blank" rel="noopener noreferrer">#17442</a></li><li>Improved segment publishing when resubmitting supervisors or when task publishing takes a long time <a href="https://github.com/apache/druid/pull/17509" target="_blank" rel="noopener noreferrer">#17509</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="querying">Querying<a href="#querying" class="hash-link" aria-label="Direct link to Querying" title="Direct link to Querying">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="window-queries">Window queries<a href="#window-queries" class="hash-link" aria-label="Direct link to Window queries" title="Direct link to Window queries">​</a></h4><p>The following fields are deprecated for window queries that use the MSQ task engine: <code>maxRowsMaterializedInWindow</code> and <code>partitionColumnNames</code>. They will be removed in a future release.</p><p><a href="https://github.com/apache/druid/pull/17433" target="_blank" rel="noopener noreferrer">#17433</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="other-querying-improvements">Other querying improvements<a href="#other-querying-improvements" class="hash-link" aria-label="Direct link to Other querying improvements" title="Direct link to Other querying improvements">​</a></h4><ul><li>Added automatic query prioritization based on the period of the segments scanned in a query. You can set the duration threshold in ISO format using <code>druid.query.scheduler.prioritization.segmentRangeThreshold</code> <a href="https://github.com/apache/druid/pull/17009" target="_blank" rel="noopener noreferrer">#17009</a></li><li>Improved error handling for incomplete queries. A trailer header to indicate an error is returned now <a href="https://github.com/apache/druid/pull/16672" target="_blank" rel="noopener noreferrer">#16672</a></li><li>Improved scan queries to account for column types in more situations <a href="https://github.com/apache/druid/pull/17463" target="_blank" rel="noopener noreferrer">#17463</a></li><li>Improved lookups so that they can now iterate over fetched data <a href="https://github.com/apache/druid/pull/17212" target="_blank" rel="noopener noreferrer">#17212</a></li><li>Improved projections so that they can contain only aggregators and no grouping columns <a href="https://github.com/apache/druid/pull/17484" target="_blank" rel="noopener noreferrer">#17484</a></li><li>Removed microseconds as a supported unit for EXTRACT <a href="https://github.com/apache/druid/pull/17247" target="_blank" rel="noopener noreferrer">#17247</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-management">Cluster management<a href="#cluster-management" class="hash-link" aria-label="Direct link to Cluster management" title="Direct link to Cluster management">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="reduce-metadata-io">Reduce metadata IO<a href="#reduce-metadata-io" class="hash-link" aria-label="Direct link to Reduce metadata IO" title="Direct link to Reduce metadata IO">​</a></h4><p>The Overlord runtime property <code>druid.indexer.tasklock.batchAllocationReduceMetadataIO</code> can help reduce IO during batch segment allocation. Setting this flag to true (default value) allows the Overlord to fetch only necessary segment payloads during segment allocation.</p><p><a href="https://github.com/apache/druid/pull/17496" target="_blank" rel="noopener noreferrer">#17496</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="other-cluster-management-improvements">Other cluster management improvements<a href="#other-cluster-management-improvements" class="hash-link" aria-label="Direct link to Other cluster management improvements" title="Direct link to Other cluster management improvements">​</a></h4><ul><li>Druid can now run non-G1 Garbage Collectors with <code>JAVA_OPTS</code> <a href="https://github.com/apache/druid/pull/17078" target="_blank" rel="noopener noreferrer">#17078</a></li><li>You no longer have to configure a temporary storage directory on the Middle Manager for durable storage or exports. If it isn&#x27;t configured, Druid uses the task directory <a href="https://github.com/apache/druid/pull/17015" target="_blank" rel="noopener noreferrer">#17015</a> <a href="https://github.com/apache/druid/pull/17335" target="_blank" rel="noopener noreferrer">#17335</a></li><li>Improved autoscaling on supervisors so that tasks don&#x27;t get published needlessly <a href="https://github.com/apache/druid/pull/17335" target="_blank" rel="noopener noreferrer">#17335</a></li><li>Improved recovery time for Overlord leadership after ZooKeeper are bounced <a href="https://github.com/apache/druid/pull/17535" target="_blank" rel="noopener noreferrer">#17535</a></li><li>Improved Druid to be more resilient of Druid service leadership changes due to ZooKeeper outages <a href="https://github.com/apache/druid/pull/17546" target="_blank" rel="noopener noreferrer">#17546</a></li><li>Removed the following unused Coordinator dynamic configs: <code>mergeBytesLimit</code> and <code>mergeSegmentsLimit</code> <a href="https://github.com/apache/druid/pull/17384" target="_blank" rel="noopener noreferrer">#17384</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-management">Data management<a href="#data-management" class="hash-link" aria-label="Direct link to Data management" title="Direct link to Data management">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sorting-columns-for-compaction-with-the-msq-task-engine-experimental">Sorting columns for compaction with the MSQ task engine (experimental)<a href="#sorting-columns-for-compaction-with-the-msq-task-engine-experimental" class="hash-link" aria-label="Direct link to Sorting columns for compaction with the MSQ task engine (experimental)" title="Direct link to Sorting columns for compaction with the MSQ task engine (experimental)">​</a></h4><p>Compaction that uses the MSQ task engine now supports sorting segments with non-time columns.  If <code>forceSegmentSortByTime</code> is set in the compaction config or the inferred schema, the following happens:</p><ul><li>Skip adding <code>__time</code> explicitly as the first column to the dimension schema since it already comes as part of the schema</li><li>Ensure column mappings propagate <code>__time</code> in the order specified by the schema</li><li>Set <code>forceSegmentSortByTime</code> in the MSQ query context.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="other-data-management-improvements">Other data management improvements<a href="#other-data-management-improvements" class="hash-link" aria-label="Direct link to Other data management improvements" title="Direct link to Other data management improvements">​</a></h4><ul><li>Improved centralized datasource schemas so that different permutations of the same column order do not result in distinct schemas <a href="https://github.com/apache/druid/pull/17044" target="_blank" rel="noopener noreferrer">#17044</a></li><li>Changed compaction tasks to always handle multi-value dimensions as arrays if the column schema is not explicitly specified <a href="https://github.com/apache/druid/pull/17110" target="_blank" rel="noopener noreferrer">#17110</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-and-monitoring">Metrics and monitoring<a href="#metrics-and-monitoring" class="hash-link" aria-label="Direct link to Metrics and monitoring" title="Direct link to Metrics and monitoring">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="new-metrics-for-groupbystatsmonitor">New metrics for <code>GroupByStatsMonitor</code>:<a href="#new-metrics-for-groupbystatsmonitor" class="hash-link" aria-label="Direct link to new-metrics-for-groupbystatsmonitor" title="Direct link to new-metrics-for-groupbystatsmonitor">​</a></h4><p>Druid now emits the following metrics for GroupBy queries:</p><p><code>mergeBuffer/used</code>: Number of merge buffers used
<code>mergeBuffer/acquisitionTimeNs</code>: Total time required to acquire merge buffer
<code>mergeBuffer/acquisition</code>: Number of queries that acquired a batch of merge buffers
<code>groupBy/spilledQueries</code>: Number of queries that spilled onto the disk
<code>groupBy/spilledBytes</code>-&gt; Spilled bytes on the disk
<code>groupBy/mergeDictionarySize</code>: Size of the merging dictionary</p><p><a href="https://github.com/apache/druid/pull/17360" target="_blank" rel="noopener noreferrer">#17360</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="cgroupv2-monitors-experimental">CgroupV2 monitors (experimental)<a href="#cgroupv2-monitors-experimental" class="hash-link" aria-label="Direct link to CgroupV2 monitors (experimental)" title="Direct link to CgroupV2 monitors (experimental)">​</a></h4><p>The following monitors for <code>cgroupv2</code> are now available: </p><ul><li>CPU: <code>org.apache.druid.java.util.metrics.CgroupV2CpuMonitor</code></li><li>disk usage <code>org.apache.druid.java.util.metrics.CgroupV2DiskMonitor</code></li><li>memory <code>org.apache.druid.java.util.metrics.CgroupV2MemoryMonitor</code></li></ul><p><a href="https://github.com/apache/druid/pull/16905" target="_blank" rel="noopener noreferrer">#16905</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="other-metrics-and-monitoring-improvements">Other metrics and monitoring improvements<a href="#other-metrics-and-monitoring-improvements" class="hash-link" aria-label="Direct link to Other metrics and monitoring improvements" title="Direct link to Other metrics and monitoring improvements">​</a></h4><ul><li>Added <code>ingest/notices/queueSize</code>, <code>ingest/notices/time</code>,  and <code>ingest/pause/time</code> metrics to the statsd emitter <a href="https://github.com/apache/druid/pull/17487" target="_blank" rel="noopener noreferrer">#17487</a> <a href="https://github.com/apache/druid/pull/17468" target="_blank" rel="noopener noreferrer">#17468</a></li><li>Added duty group as a dimension for the <code>coordinator.global.time</code> metric for the statsd-emitter <a href="https://github.com/apache/druid/pull/17320" target="_blank" rel="noopener noreferrer">#17320</a>
-The <code>service/heartbeat</code> metric now reports the status on the Peon <a href="https://github.com/apache/druid/pull/17488" target="_blank" rel="noopener noreferrer">#17488</a></li><li>Changed real-time segment metrics so that they are for each Sink instead of for each FireHydrant. This is a return to  emission behavior prior to improvements to real-time query performance made in <a href="https://github.com/apache/druid/pull/15757" target="_blank" rel="noopener noreferrer">30.0.0</a>  <a href="https://github.com/apache/druid/pull/17170" target="_blank" rel="noopener noreferrer">#17170</a></li><li>Changed query stats to be first before intervals in <code>getNativeQueryLine</code> logging so that the stats are retained if the query object gets truncated <a href="https://github.com/apache/druid/pull/17326" target="_blank" rel="noopener noreferrer">#17326</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="extensions">Extensions<a href="#extensions" class="hash-link" aria-label="Direct link to Extensions" title="Direct link to Extensions">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="delta-lake">Delta Lake<a href="#delta-lake" class="hash-link" aria-label="Direct link to Delta Lake" title="Direct link to Delta Lake">​</a></h4><ul><li>The Delta Lake input source now supports decimal data types and is handled as a double.  If the value cannot fit within a double, ingest it as a string <a href="https://github.com/apache/druid/pull/17376" target="_blank" rel="noopener noreferrer">#17376</a></li><li>You can now filter by snap shot version even if if the version is 0 <a href="https://github.com/apache/druid/pull/17367" target="_blank" rel="noopener noreferrer">#17367</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="grpc-queries">gRPC queries<a href="#grpc-queries" class="hash-link" aria-label="Direct link to gRPC queries" title="Direct link to gRPC queries">​</a></h4><p>A new contributor extension enabled a gRPC API for SQL and native queries, which means that gRPC-based clients can use the extension to issue SQL queries. Use this extension for simple queries.</p><p>For more information, see <a href="https://github.com/apache/druid/tree/master/extensions-contrib/grpc-query" target="_blank" rel="noopener noreferrer">gRPC query extension for Druid</a>.</p><p><a href="https://github.com/apache/druid/pull/15982" target="_blank" rel="noopener noreferrer">#15982</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes">Kubernetes<a href="#kubernetes" class="hash-link" aria-label="Direct link to Kubernetes" title="Direct link to Kubernetes">​</a></h4><ul><li>Middle Manger-less ingestion using Kubernetes is now more resilient to Overlord restarts <a href="https://github.com/apache/druid/pull/17446" target="_blank" rel="noopener noreferrer">#17446</a></li><li>You can now pass empty arrays to type and dataSource keys in selector based pod template selection strategy <a href="https://github.com/apache/druid/pull/17400" target="_blank" rel="noopener noreferrer">#17400</a></li><li>Improved the TaskRunner to expose the <code>getMaximumCapacity</code> field <a href="https://github.com/apache/druid/pull/17107" target="_blank" rel="noopener noreferrer">#17107</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="iceberg">Iceberg<a href="#iceberg" class="hash-link" aria-label="Direct link to Iceberg" title="Direct link to Iceberg">​</a></h4><p>The Iceberg extension now supports the AWS Glue Iceberg catalog. </p><p><a href="https://github.com/apache/druid/pull/17392" target="_blank" rel="noopener noreferrer">#17392</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-improvements">Documentation improvements<a href="#documentation-improvements" class="hash-link" aria-label="Direct link to Documentation improvements" title="Direct link to Documentation improvements">​</a></h3><h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-notes-and-incompatible-changes">Upgrade notes and incompatible changes<a href="#upgrade-notes-and-incompatible-changes" class="hash-link" aria-label="Direct link to Upgrade notes and incompatible changes" title="Direct link to Upgrade notes and incompatible changes">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-notes">Upgrade notes<a href="#upgrade-notes" class="hash-link" aria-label="Direct link to Upgrade notes" title="Direct link to Upgrade notes">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="front-coded-dictionaries">Front-coded dictionaries<a href="#front-coded-dictionaries" class="hash-link" aria-label="Direct link to Front-coded dictionaries" title="Direct link to Front-coded dictionaries">​</a></h4><p>In Druid 32.0.0, you can specify that Druid uses front-coded dictionaries feature during segment creation. Front-coded dictionaries reduce storage and improve performance by optimizing for strings where the front part looks similar.</p><p>Once this feature is on, you cannot easily downgrade to an earlier version that does not support the feature. </p><p>For more information, see <a href="/docs/32.0.0/release-info/migr-front-coded-dict">Migration guide: front-coded dictionaries</a>.</p><p>If you&#x27;re already using this feature, you don&#x27;t need to take any action. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="incompatible-changes">Incompatible changes<a href="#incompatible-changes" class="hash-link" aria-label="Direct link to Incompatible changes" title="Direct link to Incompatible changes">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="developer-notes">Developer notes<a href="#developer-notes" class="hash-link" aria-label="Direct link to Developer notes" title="Direct link to Developer notes">​</a></h3><ul><li>Improved dependency support between extensions. When an extension has a dependency on another extension, it now tries to use the dependency&#x27;s class loader to find classes required classes <a href="https://github.com/apache/druid/pull/16973" target="_blank" rel="noopener noreferrer">#16973</a></li><li>Coordinator APIs for marking segments as used or unused are now deprecated and will be removed in a future release. Use the corresponding Overlord APIs instead. For a full list, see <a href="#new-overlord-apis">New Overlord APIs</a> or <a href="https://github.com/apache/druid/pull/17545" target="_blank" rel="noopener noreferrer">#17545</a></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dependency-updates">Dependency updates<a href="#dependency-updates" class="hash-link" aria-label="Direct link to Dependency updates" title="Direct link to Dependency updates">​</a></h4><p>The following dependencies have had their versions bumped:</p><ul><li><code>javax.xml.bind</code> is no longer used. Druid now uses <code>jakarta.xml.bind</code> <a href="https://github.com/apache/druid/pull/17370" target="_blank" rel="noopener noreferrer">#17370</a></li><li>Several dependencies for the web console have had their dependencies updated. For a full list, see <a href="https://github.com/apache/druid/pull/17381" target="_blank" rel="noopener noreferrer">#17381</a>, <a href="https://github.com/apache/druid/pull/17365" target="_blank" rel="noopener noreferrer">#17365</a>, <a href="https://github.com/apache/druid/pull/17363" target="_blank" rel="noopener noreferrer">#17363</a></li><li>Removed <code>file-loader</code> dependency for the web console <a href="https://github.com/apache/druid/pull/17346" target="_blank" rel="noopener noreferrer">#17346</a></li><li>Guice from 4.2.2 to 5.1.0</li><li><code>git-commit-id-maven-plugin</code> from 4.9.10 to 9.0.1 <a href="https://github.com/apache/druid/pull/17571" target="_blank" rel="noopener noreferrer">#17571</a></li><li>Netty from version <code>4.1.108.Final</code> to <code>4.1.116.Final</code></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/32.0.0/development/experimental"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Experimental features</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/32.0.0/release-info/upgrade-notes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Upgrade notes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#important-features" class="table-of-contents__link toc-highlight">Important features</a><ul><li><a href="#new-overlord-apis" class="table-of-contents__link toc-highlight">New Overlord APIs</a></li><li><a href="#realtime-query-processing-for-multi-value-strings" class="table-of-contents__link toc-highlight">Realtime query processing for multi-value strings</a></li><li><a href="#join-hints-in-msq-task-engine-queries" class="table-of-contents__link toc-highlight">Join hints in MSQ task engine queries</a></li></ul></li><li><a href="#changes-and-deprecations" class="table-of-contents__link toc-highlight">Changes and deprecations</a><ul><li><a href="#ansi-sql-compatibility-and-query-results" class="table-of-contents__link toc-highlight">ANSI-SQL compatibility and query results</a></li><li><a href="#java-support" class="table-of-contents__link toc-highlight">Java support</a></li><li><a href="#hadoop-based-ingestion" class="table-of-contents__link toc-highlight">Hadoop-based ingestion</a></li><li><a href="#join-hints-in-msq-task-engine-queries-1" class="table-of-contents__link toc-highlight">Join hints in MSQ task engine queries</a></li></ul></li><li><a href="#functional-area-and-related-changes" class="table-of-contents__link toc-highlight">Functional area and related changes</a><ul><li><a href="#web-console" class="table-of-contents__link toc-highlight">Web console</a></li><li><a href="#ingestion" class="table-of-contents__link toc-highlight">Ingestion</a></li><li><a href="#querying" class="table-of-contents__link toc-highlight">Querying</a></li><li><a href="#cluster-management" class="table-of-contents__link toc-highlight">Cluster management</a></li><li><a href="#data-management" class="table-of-contents__link toc-highlight">Data management</a></li><li><a href="#metrics-and-monitoring" class="table-of-contents__link toc-highlight">Metrics and monitoring</a></li><li><a href="#extensions" class="table-of-contents__link toc-highlight">Extensions</a></li><li><a href="#documentation-improvements" class="table-of-contents__link toc-highlight">Documentation improvements</a></li></ul></li><li><a href="#upgrade-notes-and-incompatible-changes" class="table-of-contents__link toc-highlight">Upgrade notes and incompatible changes</a><ul><li><a href="#upgrade-notes" class="table-of-contents__link toc-highlight">Upgrade notes</a></li><li><a href="#incompatible-changes" class="table-of-contents__link toc-highlight">Incompatible changes</a></li><li><a href="#developer-notes" class="table-of-contents__link toc-highlight">Developer notes</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/favicon.png" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/favicon.png" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright © 2023 Apache Software Foundation. Except where otherwise noted, licensed under CC BY-SA 4.0. Apache Druid, Druid, and the Druid logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.0f5b2219.js"></script>
<script src="/assets/js/main.df9876b5.js"></script>
</body>
</html>